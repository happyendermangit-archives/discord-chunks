{
    "exports": {
        "default": {
            "type": "function(e){let{positionTargetRef:t,hideGifFavorites:n,includeCreateEmojiButton:s,onSelectGIF:r,onSelectEmoji:o,onSelectSticker:m,onSelectSound:N,channel:B,type:H,position:V,align:Y,positionLayerClassName:K,closeOnModalOuterClick:W=!1,parentModalKey:z}=e,J=a.useRef(null),Z=a.useRef(!1),$=a.useRef(),q=a.useRef(null),{drawerWidth:X,handleDrawerResizeHandleMouseDown:Q}=G({positionContainerRef:J,drawerRef:q,orientation:\"left\"===Y?E.ResizeOrientation.HORIZONTAL_RIGHT:E.ResizeOrientation.HORIZONTAL_LEFT}),ee=(0,v.useExpressionPickerStore)(e=>e.activeView),et=(0,x.useHasSendableSticker)(B),{renderWindow:en,windowDispatch:ei}=a.useContext(_.default),ea=(0,c.useStateFromStores)([T.default],()=>!T.default.hasLoadedStickerPacks),es=(0,S.useSoundmojiExperiment)(\"expression_picker\"),el=null!=z,er=(0,f.useIsModalAtTop)(z??\"\"),eo=a.useCallback(e=>{if(!el&&(0,f.hasAnyModalOpen)()||el&&!(er&&W))return;let{target:t}=e;if((0,d.isElement)(t)&&null!=t.closest(\".\"+L.CHAT_INPUT_BUTTON_CLASSNAME))return;for(;(0,d.isElement)(t);){if(t===q.current||\"true\"===t.getAttribute(\"data-menu-item\")||\"true\"===t.getAttribute(\"data-premium-tutorial-expression-picker-tooltip\")||\"true\"===t.getAttribute(\"data-premium-tutorial-persistent-coachmark-emoji-step\"))return;t=t.parentNode}(0,v.closeExpressionPicker)();let n=M.eventOwnerDocument(e)?.activeElement;(null==n||\"BODY\"===n.tagName)&&R.ComponentDispatch.dispatchToLastSubscribed(P.ComponentActions.TEXTAREA_FOCUS)},[W,er,el]),eu=a.useCallback(()=>{(0,v.closeExpressionPicker)()},[]);a.useLayoutEffect(()=>{let e=()=>{ee===L.ExpressionPickerViewType.GIF&&(0,v.closeExpressionPicker)()};return en.addEventListener(\"mousedown\",eo),en.addEventListener(\"contextmenu\",eo),ei.subscribe(P.ComponentActions.POPOUT_CLOSE,eu),R.ComponentDispatch.subscribe(P.ComponentActions.CLOSE_GIF_PICKER,e),()=>{en.removeEventListener(\"mousedown\",eo),en.removeEventListener(\"contextmenu\",eo),ei.unsubscribe(P.ComponentActions.POPOUT_CLOSE,eu),R.ComponentDispatch.unsubscribe(P.ComponentActions.CLOSE_GIF_PICKER,e)}},[ee,eu,eo,en,ei]),(0,p.useFocusLock)(J),a.useEffect(()=>{(0,v.setSearchQuery)(\"\")},[]),a.useEffect(()=>{(!el&&(0,f.hasAnyModalOpen)()||el&&!er)&&(0,v.closeExpressionPicker)()},[er,el]),a.useEffect(()=>{null!=q.current&&!Z.current&&(ee===L.ExpressionPickerViewType.EMOJI?$?.current?.onPickerOpen!=null&&($?.current?.onPickerOpen(),Z.current=!0):ee===L.ExpressionPickerViewType.STICKER?$?.current?.onPickerOpen!=null&&!ea&&($?.current?.onPickerOpen(),Z.current=!0):(I.default.trackWithMetadata(P.AnalyticEvents.EXPRESSION_PICKER_OPENED,{width:q.current.offsetWidth,tab:ee,badged:!1}),Z.current=!0))});let ed=H.gifs?.allowSending&&!u.isMobile&&null!=r,ec=H.stickers?.allowSending&&null!=m,ef=!H.expressionPicker?.onlyEmojis&&(ed||ec),ep=\"left\"===Y?\"right\":\"left\",em=null!=K?K:\"left\"===Y?j.positionLayerDefaultAlignLeft:j.positionLayerDefaultAlignRight;return(0,i.jsx)(h.default,{section:P.AnalyticsSections.EXPRESSION_PICKER,children:(0,i.jsx)(O.AppReferencePositionLayer,{className:l()(j.positionLayer,em),reference:t,position:V,align:Y,spacing:8,autoInvert:!0,children:e=>{let{isPositioned:t}=e;return(0,i.jsx)(\"section\",{className:l()(j.positionContainer,{[j.positionContainerOnlyEmoji]:!ef}),ref:J,role:\"dialog\",\"aria-label\":U.default.Messages.EXPRESSION_PICKER,children:t?(0,i.jsxs)(\"div\",{className:j.drawerSizingWrapper,style:{width:null==X?void 0:X,[Y]:0},ref:q,children:[(0,i.jsx)(\"div\",{className:j.resizeHandle,onMouseDown:Q,style:{[ep]:-2}}),(0,i.jsxs)(\"div\",{className:j.contentWrapper,children:[ef?(0,i.jsx)(\"nav\",{className:j.nav,children:(0,i.jsxs)(\"div\",{className:j.navList,role:\"tablist\",\"aria-label\":U.default.Messages.EXPRESSION_PICKER_CATEGORIES_A11Y_LABEL,children:[ed?(0,i.jsx)(F,{id:b.GIF_PICKER_TAB_ID,\"aria-controls\":b.GIF_PICKER_TAB_PANEL_ID,\"aria-selected\":ee===L.ExpressionPickerViewType.GIF,isActive:ee===L.ExpressionPickerViewType.GIF,viewType:L.ExpressionPickerViewType.GIF,children:U.default.Messages.EXPRESSION_PICKER_GIF}):null,ec?(0,i.jsx)(F,{id:D.STICKER_PICKER_TAB_ID,\"aria-controls\":D.STICKER_PICKER_TAB_PANEL_ID,\"aria-selected\":ee===L.ExpressionPickerViewType.STICKER,isActive:ee===L.ExpressionPickerViewType.STICKER,autoFocus:!et,viewType:L.ExpressionPickerViewType.STICKER,children:(0,i.jsx)(\"div\",{className:j.stickersNavItem,children:U.default.Messages.EXPRESSION_PICKER_STICKER})}):null,(0,i.jsx)(F,{id:b.EMOJI_PICKER_TAB_ID,\"aria-controls\":b.EMOJI_PICKER_TAB_PANEL_ID,\"aria-selected\":ee===L.ExpressionPickerViewType.EMOJI,isActive:ee===L.ExpressionPickerViewType.EMOJI,viewType:L.ExpressionPickerViewType.EMOJI,children:U.default.Messages.EXPRESSION_PICKER_EMOJI}),es&&null!=N&&(0,i.jsx)(F,{id:b.SOUNDBOARD_PICKER_TAB_ID,\"aria-controls\":b.SOUNDBOARD_PICKER_TAB_PANEL_ID,\"aria-selected\":ee===L.ExpressionPickerViewType.SOUNDBOARD,isActive:ee===L.ExpressionPickerViewType.SOUNDBOARD,viewType:L.ExpressionPickerViewType.SOUNDBOARD,children:\"Sounds\"})]})}):null,ee===L.ExpressionPickerViewType.STICKER&&ec?(0,i.jsx)(A.default,{isLoading:ea,channel:B,containerWidth:X,onSelectSticker:m,closePopout:eu,ref:e=>{$.current=e}}):null,ee===L.ExpressionPickerViewType.GIF&&ed?(0,i.jsx)(y.default,{onSelectGIF:r,hideFavorites:n,persistSearch:!0}):null,ee===L.ExpressionPickerViewType.EMOJI?(0,i.jsx)(C.default,{hasTabWrapper:!0,persistSearch:!0,channel:B,containerWidth:X,includeCreateEmojiButton:s,emojiSize:null!=X&&X<w?b.EmojiSize.MEDIUM:b.EmojiSize.LARGE,pickerIntention:k.EmojiIntention.CHAT,closePopout:eu,onSelectEmoji:o,ref:e=>{$.current=e}}):null,ee===L.ExpressionPickerViewType.SOUNDBOARD?(0,i.jsx)(\"div\",{className:j.soundboardContainer,children:(0,i.jsx)(g.default,{guildId:B.guild_id,channel:B,containerWidth:X,onClose:eu,onSelect:N,analyticsSource:\"expression-picker\",autoWidth:!0})}):null]})]}):null})}})})}",
            "compare": null
        }
    }
}