{
    "exports": {
        "default": {
            "init": "init(){let e=(e,_)=>{!T.default.getAllActiveStreamKeys().includes(e)&&R.start(_?u:l,()=>{o.default.dispatch({type:\"STREAM_TIMED_OUT\",streamKey:e})})};o.default.subscribe(\"STREAM_WATCH\",_=>{let{streamKey:E}=_,{channelId:t}=(0,N.decodeStreamKey)(E),o=a.default.getChannel(t);e(E,null==o?void 0:o.isGuildStageVoice())}),o.default.subscribe(\"STREAM_START\",_=>{let{streamType:E,guildId:t,channelId:o}=_,n=a.default.getChannel(o);e((0,N.encodeStreamKey)({streamType:E,guildId:t,channelId:o,ownerId:i.default.getId()}),null==n?void 0:n.isGuildStageVoice())}),o.default.subscribe(\"STREAM_CREATE\",()=>{R.stop()}),o.default.subscribe(\"STREAM_UPDATE\",()=>{R.stop()}),o.default.subscribe(\"STREAM_DELETE\",()=>{R.stop()}),o.default.subscribe(\"STREAM_CLOSE\",()=>{A.stop(),R.stop()}),o.default.subscribe(\"VOICE_CHANNEL_SELECT\",e=>{let{channelId:_}=e;if(null==_)return;L=null;let E=r.default.getAllApplicationStreamsForChannel(_).filter(e=>{let{ownerId:_}=e;return _!==i.default.getId()})[0];null!=E&&C(_,E.ownerId)}),o.default.subscribe(\"VOICE_STATE_UPDATES\",e=>{let{voiceStates:_}=e;_.forEach(e=>{let{userId:_,channelId:E,guildId:t,selfStream:o}=e;if(_!==i.default.getId()&&null!=E){if(o&&C(E,_))return;let e=r.default.getActiveStreamForUser(_,t);if(null!=e&&e.channelId===E&&(!o&&e.state!==O.ApplicationStreamStates.ENDED&&A.start(18e4,()=>(0,n.closeStream)((0,N.encodeStreamKey)(e),!1)),o&&e.state===O.ApplicationStreamStates.ENDED)){A.stop();let e=r.default.getStreamForUser(_,t);if(null==e)return;(0,n.watchStream)(e)}}})}),o.default.subscribe(\"CALL_UPDATE\",e=>{let{channelId:_,region:E}=e,t=r.default.getCurrentUserActiveStream();(null==t?void 0:t.channelId)===_&&D((0,N.encodeStreamKey)(t),E)}),o.default.subscribe(\"CHANNEL_UPDATES\",e=>{let{channels:_}=e,E=r.default.getCurrentUserActiveStream();if(null!=E)for(let e of _)E.channelId===e.id&&D((0,N.encodeStreamKey)(E),e.rtcRegion)})}"
        }
    }
}