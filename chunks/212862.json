{
    "exports": {
        "findTextOptions": "function g(e,t){if(null==t.options||0===t.options.length)return[];let n=f.EditorUtils.richValue(e),i=[],a=new Set(_(e)),s={},l=new Set;for(let e of t.options)s[e.displayName]=e,!a.has(e.name)&&l.add(e.displayName);let r=null;for(let t=0;t<n.length;t++){let a=n[t];if(\"line\"===a.type||\"applicationCommand\"===a.type)for(let o=0;o<a.children.length;o++){let u;let d=a.children[o],p=[t,o];if(f.NodeUtils.isType(d,\"applicationCommandOption\")){null!=r&&(r.valueRange.focus=f.EditorUtils.before(e,p)??f.EditorUtils.start(e,[]),r.text=(0,c.toTextValue)(n,{mode:\"raw\",range:r.valueRange}).trim(),i.push(r),r=null);continue}if(!!f.TextUtils.isText(d))for(m.lastIndex=0;null!=(u=m.exec(d.text));){if(0!==u.index&&null==d.text.charAt(u.index-1).match(/(\\t|\\s)/))continue;let e=u[1];if(!l.has(e))continue;l.delete(e);let t=s[e];if(null==t)continue;let a={path:p,offset:u.index},o={path:p,offset:a.offset+u[0].length},f={path:p,offset:o.offset},m={name:t.name,displayName:t.displayName,type:t.type,keyRange:{anchor:a,focus:o},valueRange:{anchor:f,focus:f},text:\"\"};null!=r&&(r.valueRange.focus=m.keyRange.anchor,r.text=(0,c.toTextValue)(n,{mode:\"raw\",range:r.valueRange}).trim(),i.push(r)),r=m}}}return null!=r&&(r.valueRange.focus=f.EditorUtils.end(e,[]),r.text=(0,c.toTextValue)(n,{mode:\"raw\",range:r.valueRange}).trim(),i.push(r)),i}",
        "getCommandBlock": "function h(e){let t=f.EditorUtils.richValue(e)[0];return null==t||\"applicationCommand\"!==t.type?null:[t,p.FIRST_BLOCK_PATH]}",
        "getCurrentCommandOption": "function E(e){if(null==e.selection)return null;let t=f.EditorUtils.above(e,{at:e.selection.focus,match:e=>f.NodeUtils.isType(e,\"applicationCommandOption\")})??null;return null!=t||f.RangeUtils.isCollapsed(e.selection)?t:f.EditorUtils.above(e,{at:e.selection.anchor,match:e=>f.NodeUtils.isType(e,\"applicationCommandOption\")})??null}",
        "getOptionNames": "function _(e){let t=h(e),n=[],i=t?.[0].children;if(null!=i)for(let e of i)f.NodeUtils.isType(e,\"applicationCommandOption\")&&n.push(e.optionName);return n}",
        "getOptionValues": "function I(e,t){let n={};if(null==t.options)return{};let i=h(e),a=Object.fromEntries(t.options.map(e=>[e.name,e])),s=i?.[0].children;if(null!=s){for(let t of s)if(f.NodeUtils.isType(t,\"applicationCommandOption\")){let i=a[t.optionName];null!=i&&(n[t.optionName]=C(e,i,t))}}return n}",
        "optionToValues": "function C(e,t,n){let a=o.default.getCurrentlySelectedChannelId(),s=n.children.map(n=>{if(t.type===i.ApplicationCommandOptionType.ATTACHMENT){let e=u.default.getUpload(a,t.name,r.DraftType.SlashCommand);if(null!=e)return{type:\"text\",text:e.filename??\"\"}}if(f.TextUtils.isText(n))return{type:\"text\",text:n.text};if(f.EditorUtils.isVoid(e,n)){let e=(0,d.voidToOptionValue)(n);if(null!=e)return e}return{type:\"text\",text:(0,c.serializeDescendant)(n,{mode:\"raw\"})}});if(t.type!==i.ApplicationCommandOptionType.STRING){for(;s.length>0&&\"text\"===s[0].type&&\"\"===s[0].text.trim();)s.shift();for(;s.length>0&&\"text\"===s[s.length-1].type&&\"\"===s[s.length-1].text.trim();)s.pop()}return s}",
        "validateOption": "function S(e,t,n,i,r){let[o]=i,u=s.default.getActiveCommand(n),d=u?.options?.find(e=>e.name===o.optionName);if(null==d)return;let c=C(e,d,o),f=l.validateOptionContent({option:d,content:c,guildId:t,channelId:n,allowEmptyValues:r});return a.updateOptionStates(n,{[o.optionName]:{lastValidationResult:f}}),f}",
        "validateOptionValues": "function y(e,t,n,i,s){if(null==e.options)return{};let r=Object.fromEntries(e.options.map(e=>[e.name,l.validateOptionContent({option:e,content:i[e.name]??null,guildId:t,channelId:n,allowEmptyValues:s})]));return a.updateOptionValidationStates(n,r),r}"
    }
}