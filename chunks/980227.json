{
    "exports": {
        "MAX_TOTAL_ATTACHMENT_SIZE": 524288000,
        "getAttachmentPayload": "function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,o={id:t?.toString()??e.id};null!=e.description&&(o.description=e.description);let a=function(e){let{spoiler:t}=e;return t?r.SPOILER_ATTACHMENT_PREFIX:\"\"}({spoiler:e.spoiler});return o.filename=`${a}${n??e.filename}`,o.uploaded_filename=e.uploadedFilename,\"durationSecs\"in e&&null!=e.durationSecs&&(o.duration_secs=e.durationSecs),\"waveform\"in e&&null!=e.waveform&&(o.waveform=e.waveform),\"isThumbnail\"in e&&!0===e.isThumbnail&&(o.is_thumbnail=e.isThumbnail),\"isRemix\"in e&&!0===e.isRemix&&(o.is_remix=e.isRemix),\"clip\"in e&&null!=e.clip&&(o.is_clip=!0,o.title=e.clip.name,o.application_id=e.clip.applicationId,o.clip_created_at=(0,i.getClipCreatedAt)(e.clip.id),o.clip_participant_ids=(0,i.getClipParticipantIds)(e.clip.users)),o}",
        "getFile": "function u(e){let t,{uri:n,i,overrideFilename:r,overrideType:a}=e,s=n.split(\"/\"),_=s[s.length-1];_=_.split(\"?\")?.[0]?.toLowerCase()??\"\";let E=o.find(e=>e.reName.test(_));if(null==E&&null!=r&&(E=o.find(e=>e.reName.test(r))),null!=E&&null!=r){let e=E.name(i).split(\".\").pop(),n=r.lastIndexOf(\".\");t=-1!==n?`${r.substr(0,n)}.${e}`:`${r}.${e}`}else t=null!=E?E.name(i):r??\"unknown\";return{uri:n,filename:t,type:a??E?.type??\"unknown\",isVideo:-1!==(a??E?.name(i)??\"\").indexOf(\"video\"),isImage:-1!==(a??E?.name(i)??\"\").indexOf(\"image\")}}",
        "getFileChunk": "function _(e,t,n){let i=new XMLHttpRequest;return new Promise((r,o)=>{i.open(\"GET\",e,!0),i.responseType=\"blob\",i.setRequestHeader(\"Range\",`bytes=${t}-${n}`),i.onabort=e=>o(e),i.onerror=e=>o(e),i.ontimeout=e=>o(e),i.onload=()=>{206===i.status?r(i.response):o(Error(\"Range request failed\"))},i.send()})}",
        "getFileContentLength": "function l(e){return new Promise((t,n)=>{let i=new XMLHttpRequest;i.open(\"HEAD\",e,!0),i.onload=()=>{if(i.status>=200&&i.status<300){let e=i.getResponseHeader(\"Content-Length\");null!=e&&\"\"!==e?t(parseInt(e,10)):n(Error(\"Content-Length header is missing\"))}else n(Error(`HTTP request failed with status code ${i.status}`))},i.onerror=n,i.onabort=n,i.ontimeout=n,i.send()})}",
        "getFileData": "function E(e){let t=new XMLHttpRequest;return new Promise((n,i)=>{t.open(\"GET\",e,!0),t.responseType=\"blob\",t.onabort=e=>i(e),t.onerror=e=>i(e),t.ontimeout=e=>i(e),t.onload=()=>n(t?.response?.data),t.send()})}"
    }
}