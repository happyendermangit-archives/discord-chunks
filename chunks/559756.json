{
    "exports": {
        "default": "function C(e,t,n){let{channel:C,type:y}=e,[S,g]=i.useState(()=>(0,m.createInitialState)()),x=(0,a.useForceUpdate)(),T=(0,s.useStateFromStores)([d.default],()=>null!=e.guild&&null!=d.default.getMember(e.guild?.id,_.CLYDE_AI_USER_ID)),A=(0,u.useClydeEnabled)(e.guild,e.channel)&&!T&&!(0,u.canUseCustomClydeProfiles)(e.guild),N=(0,s.useStateFromStores)([d.default,p.default],()=>{let e=p.default.getCurrentUser();return(null!=C.guild_id&&null!=e?d.default.getMember(C.guild_id,e.id)?.isPending:null)??!1}),{canMentionEveryone:O,hidePersonalInformation:R}=(0,s.useStateFromStoresObject)([c.default,f.default],()=>({canMentionEveryone:C.isPrivate()||N||y===o.ChatInputTypes.RULES_INPUT||c.default.can(E.Permissions.MENTION_EVERYONE,C),hidePersonalInformation:f.default.hidePersonalInformation}),[C,y,N]),{activeCommand:M,activeCommandOption:v}=(0,s.useStateFromStoresObject)([r.default],()=>({activeCommand:r.default.getActiveCommand(C.id),activeCommandOption:r.default.getActiveOption(C.id)})),L=(0,h.default)({navId:\"channel-autocomplete\",scrollerRef:n,state:S,onFocus:e=>k.setSelectedIndex(e)}),P=e.editorRef.current?.getCurrentWord(),b={...e,navigator:L,activeCommand:M,activeCommandOption:v,canMentionUsers:y.users?.allowMentioning??!1,canMentionEveryone:O,canMentionClyde:A,hidePersonalInformation:R,hideMentionDescription:y===o.ChatInputTypes.RULES_INPUT,emojiIntention:y===o.ChatInputTypes.RULES_INPUT?I.EmojiIntention.COMMUNITY_CONTENT:I.EmojiIntention.CHAT,currentWord:P?.word??\"\",currentWordIsAtStart:P?.isAtStart===!0,optionText:null!=v?(0,l.getString)({[v.name]:e.editorRef.current?.getCurrentCommandOptionValue()??[]},v.name):\"\"},[k]=i.useState(()=>new m.default(b));return i.useEffect(()=>{k.updateProps(b)}),i.useImperativeHandle(t,()=>k,[k]),i.useEffect(()=>{let e=e=>g(e);return k.on(\"change\",e),k.on(\"update\",x),()=>{k.off(\"change\",e),k.off(\"update\",x)}},[x,k]),i.useEffect(()=>{let e=S.query?.typeInfo.stores;if(null!=e){let t=()=>k.queryResults();for(let n of e)n.addChangeListener(t);return()=>{for(let n of e)n.removeChangeListener(t)}}},[k,S.query?.typeInfo]),[S,k,L]}"
    }
}