{
    "exports": {
        "LoadState": {
            "0": "NOT_LOADED",
            "1": "LOADING",
            "2": "LOADED",
            "3": "ERROR",
            "NOT_LOADED": 0,
            "LOADING": 1,
            "LOADED": 2,
            "ERROR": 3
        },
        "default": "function G(t){let{applicationId:e,groupListingId:n,guildId:i}=t,u=(0,o.default)(),{listingsLoaded:r}=N(e,n),{entitlementsLoaded:l}=R({guildId:i}),{entitlementsLoaded:a}=U({applicationId:e,loggedIn:u}),{subscriptionGroupListing:s}=F(e,i);return{applicationSubscriptionListingsShown:null!=e&&null!=n&&(null==i||l)&&(!u||a)&&r&&null!=s&&(0,C.hasPayableSubscriptionPlan)(s)}}",
        "useActiveSubscriptionListingForApplication": "function F(t,e){let n=(0,l.useStateFromStores)([d.default],()=>d.default.getSubscriptions()),{subscriptionGroupListing:i,guildEntitlements:u,userEntitlements:a}=(0,l.useStateFromStoresObject)([p.default,f.default],()=>({subscriptionGroupListing:null!=t?p.default.getSubscriptionGroupListingForApplication(t):null,guildEntitlements:null!=t&&null!=e?p.default.getApplicationEntitlementsForGuild(t,e):M,userEntitlements:null!=t?f.default.getForApplication(t)?.values()??O:O}),[t,e]),o=r.useMemo(()=>[...u,...a],[u,a]),s=i?.subscription_listings,{activeSubscriptionListing:c,activeEntitlement:S}=r.useMemo(()=>{if(null!=s){for(let t of o)for(let n of s)if((0,C.isListingActiveInGuild)(n,t,e))return{activeSubscriptionListing:n,activeEntitlement:t}}return{activeSubscriptionListing:null,activeEntitlement:null}},[o,s,e]);return{activeSubscription:r.useMemo(()=>{if(null==n)return null;let t=c?.subscription_plans[0].id;for(let e of Object.values(n))if(e.type===P.SubscriptionTypes.APPLICATION&&e.items[0].planId===t)return e;return null},[c,n]),activeSubscriptionListing:c,activeEntitlement:S,subscriptionGroupListing:i}}",
        "useApplication": "t=>{let e=(0,o.default)(),n=(0,l.useStateFromStores)([s.default],()=>null!=t?s.default.getApplication(t):null,[t]),i=null!=n;return r.useEffect(()=>{!i&&null!=t&&e&&(0,A.fetchApplication)(t)},[i,t,e]),n}",
        "useEligibleApplicationSubscriptionGuilds": "function D(t,e){let n=(0,l.useStateFromStores)([c.default],()=>c.default.isLoaded()),[i,u]=r.useState([]);return r.useEffect(()=>{null==e&&null!=t&&n&&(0,A.fetchEligibleApplicationSubscriptionGuilds)(t).then(t=>{u(t.map(t=>c.default.getGuild(t)).filter(t=>null!=t))})},[t,e,n]),i}",
        "useFetchEntitlementsForGuild": "t=>{let{guildId:e,canFetch:n=!0,forceRefetch:i=!1}=t,u=(0,l.useStateFromStores)([p.default],()=>null!=e?p.default.getEntitlementsForGuildFetchState(e):null,[e]);return r.useEffect(()=>{if(null==e||e===P.ME)return;let t=p.default.getEntitlementsForGuildFetchState(e);n&&(t===p.FetchState.NOT_FETCHED||i)&&(0,I.fetchEntitlementsForGuild)(e)},[e,n,i]),{entitlementsLoaded:u===p.FetchState.FETCHED}}",
        "useFetchListingsForApplication": "function(t,e){let{refetchOnMount:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,l.useStateFromStores)([p.default],()=>null!=t?p.default.getSubscriptionGroupListingsForApplicationFetchState(t):p.FetchState.FETCHED,[t]);return r.useEffect(()=>{if(null==t||null==e)return;let i=p.default.getSubscriptionGroupListingsForApplicationFetchState(t);(n||i===p.FetchState.NOT_FETCHED)&&(0,I.fetchAllSubscriptionListingsDataForApplication)(t,e)},[t,e,n]),{listingsLoaded:i===p.FetchState.FETCHED}}",
        "useFetchListingsForSubscriptions": "t=>{let[e,n]=r.useState(!1),i=r.useMemo(()=>t.map(C.getApplicationSubscriptionPlanId),[t]),u=(0,l.useStateFromStoresArray)([E.default],()=>i.filter(t=>null==E.default.get(t)),[i]);return r.useEffect(()=>{u.length>0&&(n(!0),Promise.all(u.map(t=>(0,I.fetchSubscriptionListingForPlan)(t))).catch(()=>{}).then(()=>{n(!1)}))},[u]),{loading:e}}",
        "useFetchUserApplicationSubscriptionEntitlements": "()=>{let[t,e]=r.useState(0);return r.useEffect(()=>{e(1),(0,a.fetchUserEntitlements)({withSku:!0,withApplication:!0,entitlementType:P.EntitlementTypes.APPLICATION_SUBSCRIPTION}).catch(()=>{e(3)}).then(()=>{e(2)})},[]),{loadState:t}}",
        "useSubscriptionListingsForGroup": "function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeSoftDeleted:!1};return(0,l.useStateFromStoresArray)([p.default],()=>{if(null==t)return[];let n=p.default.getSubscriptionGroupListing(t);if(null==n)return[];let i=[];for(let t of n.subscription_listings_ids){let n=p.default.getSubscriptionListing(t);if(null!=n)(!n.soft_deleted||e.includeSoftDeleted)&&i.push(n)}return i},[t,e.includeSoftDeleted])}",
        "useUnseenEndedApplicationSubscriptionEntitlements": "function h(t){let e=t?.id??P.EMPTY_STRING_GUILD_ID,{entitlementsLoaded:n}=R({guildId:e,canFetch:(0,l.useStateFromStores)([S.default],()=>S.default.can(P.Permissions.ADMINISTRATOR,t))}),i=(0,l.useStateFromStores)([T.default],()=>T.default.getLastGuildDismissedTime(e)),u=(0,l.useStateFromStoresArray)([p.default],()=>{let t=p.default.getEntitlementsForGuild(e),n=p.default.getEntitlementsForGuild(e,!1),i=t.map(t=>t.applicationId);return n.filter(t=>!i.includes(t.applicationId))}),a=(0,l.useStateFromStoresObject)([_.default],()=>_.default.getSKUs()),o=r.useMemo(()=>u.filter(t=>{let e=a[t.skuId];return null!=e&&e.available}),[u,a]);return n?o.filter(t=>null!=t.endsAt&&t.endsAt.getTime()>Math.max(i??0,Date.now()-2592e6)):[]}"
    }
}