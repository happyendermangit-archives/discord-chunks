{
    "exports": {
        "FrameLoop": "function(e){void 0===e&&(e=a);var t=!0,n=!1,o=0,u=[],s=0,l=new Set,c=new Set,d=new Set,f=function(e){var t=u.indexOf(e);t<0&&(t=u.findIndex(function(t){return t.priority>e.priority}),u.splice(~t?t:u.length,0,e))},p=function(){if(!t)try{y(),e(p)}catch(e){console.error(e)}},h=function(){t&&(t=!1,0==o&&(o=r.now(),e(p)))},m=[];this.setTimeout=function(e,t){var n=r.now()+t,a=function(){var e=m.findIndex(function(e){return e.cancel==a});e>=0&&m.splice(e,1)},o=i(m,function(e){return e.time>n}),u={time:n,handler:e,cancel:a};return m.splice(o,0,u),h(),u};var y=this.advance=function(){var e=r.now();if(l.size&&(l.forEach(f),l.clear()),m.length&&r.batchedUpdates(function(){var t=i(m,function(t){return t.time>e});m.splice(0,t).forEach(function(e){return e.handler()})}),e>o){var t=Math.min(64,e-o);o=e,r.batchedUpdates(function(){u.length&&(r.willAdvance(u),u=u.filter(function(e){return s=e.priority,!e.idle&&e.advance(t),!e.idle}),s=0),c.size&&(c.forEach(function(t){return t(e)}),c.clear()),d.size&&(n=!0,d.forEach(function(t){return t(e)}),d.clear(),n=!1)})}};this.start=function(e){s>e.priority?l.add(e):(f(e),h())},this.onFrame=function(e){c.add(e),h()},this.onWrite=function(e){n?e(o):d.add(e)}}"
    }
}