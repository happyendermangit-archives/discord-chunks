{
    "exports": {
        "default": "function o(e){let{deleteBackward:t,deleteFragment:n,insertBreak:o,onChange:u}=e;e.deleteBackward=n=>{let i=s.EditorUtils.getCurrentBlock(e);if(i?.[0].type===\"blockQuote\"){let t=s.RangeUtils.toPoint(e.selection);if(null!=t&&s.PathUtils.isFirstChild(i[1],t.path)&&0===t.offset){a.SlateTransforms.setNodes(e,{type:\"line\"},{at:i[1]});return}}t(n)},e.deleteFragment=t=>{if(null!=e.selection){let[l,r]=s.RangeUtils.edges(e.selection),o=[l.path[0]],u=s.EditorUtils.node(e,o),d=[r.path[0]],c=s.PathUtils.equals(o,d)?null:s.EditorUtils.node(e,d);i.HistoryUtils.withSingleEntry(e,()=>{u?.[0].type===\"blockQuote\"&&s.PointUtils.isAtStart(l,u)&&a.SlateTransforms.setNodes(e,{type:\"line\"},{at:o}),c?.[0].type===\"blockQuote\"&&s.PointUtils.isAtEnd(r,c)&&a.SlateTransforms.setNodes(e,{type:\"line\"},{at:d}),n(t)});return}n(t)},e.insertBreak=()=>{let t=s.EditorUtils.getCurrentBlock(e);if(t?.[0].type===\"blockQuote\"){let n=s.RangeUtils.toPoint(e.selection);if(null==n)return;!function(e,t,n){if(!s.EditorUtils.isEmpty(e,t[0]))return!1;let i=s.EditorUtils.previous(e,{at:t[1]});return!!(null!=i&&s.NodeUtils.isType(i[0],\"blockQuote\")&&s.EditorUtils.isEmpty(e,i[0])&&s.PointUtils.isAtStart(n,t))&&(a.SlateTransforms.setNodes(e,{type:\"line\"},{at:t[1]}),a.SlateTransforms.removeNodes(e,{at:i[1]}),!0)}(e,t,n)&&a.SlateTransforms.splitNodes(e,{at:n,always:!0});return}o()};let d=null,c=!0;return e.onChange=()=>{let t=s.EditorUtils.richValue(e);(t!==d||e.previewMarkdown!==c)&&(i.HistoryUtils.withMergedEntry(e,()=>{s.EditorUtils.withoutNormalizing(e,()=>(function(e){let t=!1;for(let n of s.EditorUtils.blocks(e)){let[i,o]=n;if(!r.has(i.type))continue;let u={path:s.PathUtils.child(o,0),offset:0};if((0,l.isPointInCodeBlock)(e,u)){\"blockQuote\"===i.type&&(a.SlateTransforms.setNodes(e,{type:\"line\"},{at:o}),a.SlateTransforms.insertText(e,\"> \",{at:u}));continue}if(\"blockQuote\"===i.type||s.EditorUtils.areStylesDisabled(e))continue;let d=i.children[0];if(!s.TextUtils.isText(d))continue;let c=d.text.match(/^\\s*>>> /),f=d.text.match(/^\\s*> /);if((null!=f||null!=c||t)&&(a.SlateTransforms.setNodes(e,{type:\"blockQuote\"},{at:o}),!t)){let n=f?.[0].length??c?.[0].length??0,i=s.PathUtils.child(o,0);a.SlateTransforms.delete(e,{at:{anchor:{path:i,offset:0},focus:{path:i,offset:n}}}),t=null!=c}}})(e))}),d=t,c=e.previewMarkdown),u()},e}"
    }
}