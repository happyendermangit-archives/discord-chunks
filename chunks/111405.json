{
    "exports": {
        "clearTokenCache": "function F(){return A.clearCache()}",
        "filterHasAnswer": "function N(e,t){let n=d.IS_SEARCH_FILTER_TOKEN.test(e.type);return(null!=t||!n)&&(null==t||!n||!!d.IS_SEARCH_ANSWER_TOKEN.test(t.type))&&!0}",
        "getAutocompleteMode": "function I(e,t){let n;let{currentToken:s,nextToken:a,previousToken:l}=e=e??{};if(0===t.length)return{type:d.SearchPopoutModes.EMPTY,filter:null,token:null};if(null==s)return{type:d.SearchPopoutModes.FILTER_ALL,filter:null,token:null};if(d.IS_SEARCH_FILTER_TOKEN.test(s.type)){if(null==a||a.type===r.default.NON_TOKEN_TYPE)return{type:d.SearchPopoutModes.FILTER,filter:s.type,token:a};if(null!=a&&!d.IS_SEARCH_ANSWER_TOKEN.test(a.type))return{type:d.SearchPopoutModes.FILTER,filter:s.type,token:null}}return s.type===r.default.NON_TOKEN_TYPE&&null!=l&&d.IS_SEARCH_FILTER_TOKEN.test(l.type)?{type:d.SearchPopoutModes.FILTER,filter:l.type,token:s}:(s.type===r.default.NON_TOKEN_TYPE&&(n=s),{type:d.SearchPopoutModes.FILTER_ALL,filter:null,token:n})}",
        "getFlattenedStringArray": "function S(e,t){let n=[];return a()(e).forEach(e=>{if(null==e||0===e.results.length)return;let s=e.group;n=n.concat(e.results.map(e=>{let n=e.text;if(t===d.SearchPopoutModes.FILTER_ALL){s=e.group??s;let t=l.default[s];t?.key!=null&&t?.key!==\"\"&&(n=`${t.key} ${n}`)}return n}))}),n.filter(e=>e)}",
        "getQueryFromTokens": "function p(e){return null==e?\"\":e.map(e=>e.getFullMatch()).join(\"\")}",
        "getSearchOptionAnswer": "function E(e){switch(e){case d.SearchTokenTypes.FILTER_FROM:return c.default.Messages.SEARCH_ANSWER_FROM;case d.SearchTokenTypes.FILTER_MENTIONS:return c.default.Messages.SEARCH_ANSWER_MENTIONS;case d.SearchTokenTypes.FILTER_HAS:return c.default.Messages.SEARCH_ANSWER_HAS;case d.SearchTokenTypes.FILTER_BEFORE:case d.SearchTokenTypes.FILTER_ON:case d.SearchTokenTypes.FILTER_AFTER:return c.default.Messages.SEARCH_ANSWER_DATE;case d.SearchTokenTypes.FILTER_IN:return c.default.Messages.SEARCH_ANSWER_IN;case d.SearchTokenTypes.FILTER_FILE_TYPE:return c.default.Messages.SEARCH_ANSWER_FILE_TYPE;case d.SearchTokenTypes.FILTER_FILE_NAME:return c.default.Messages.SEARCH_ANSWER_FILE_NAME;case d.SearchTokenTypes.FILTER_PINNED:return c.default.Messages.SEARCH_ANSWER_BOOLEAN}}",
        "getSearchQueryFromTokens": "function h(e){let t={};for(let[n,s]of(e.forEach(e=>{let{type:n}=e;if(d.IS_SEARCH_FILTER_TOKEN.test(n))return;switch(n){case d.SearchTokenTypes.ANSWER_BEFORE:case d.SearchTokenTypes.ANSWER_ON:case d.SearchTokenTypes.ANSWER_AFTER:let s=e.getData(\"start\"),a=e.getData(\"end\");s&&(t.min_id=o.default.fromTimestamp(s)),a&&(t.max_id=o.default.fromTimestamp(a));return}let r=function(e){let t=l.default[e],n=null!=t?t.queryKey:null;return null==n&&(n=\"content\"),n}(n);null==t[r]&&(t[r]=new Set);let u=t[r];switch(n){case d.SearchTokenTypes.ANSWER_USERNAME_FROM:case d.SearchTokenTypes.ANSWER_USERNAME_MENTIONS:u.add(e.getData(\"userId\"));break;case d.SearchTokenTypes.ANSWER_FILE_TYPE:case d.SearchTokenTypes.ANSWER_FILE_NAME:u.add(e.getMatch(1));break;case d.SearchTokenTypes.ANSWER_IN:u.add(e.getData(\"channel\").id);break;case d.SearchTokenTypes.ANSWER_HAS:u.add(e.getData(\"has\"));break;case d.SearchTokenTypes.ANSWER_PINNED:u.add(e.getData(\"pinned\"));break;default:u.add(e.getFullMatch().trim())}}),Object.entries(t)))s instanceof Set&&(t[n]=Array.from(s));return t.content&&(t.content=t.content.join(\" \").trim(),!t.content&&delete t.content),t}",
        "getSelectionScope": "function f(e,t,n){let s,a;let r=e.find((r,l)=>t>=r.start&&t<=r.end&&n>=r.start&&n<=r.end?(null!=e[l+1]&&(a=e[l+1]),!0):(s=r,!1));return null==r?null:{previousToken:s,currentToken:r,nextToken:a,focusOffset:t,anchorOffset:n}}",
        "getTotalResults": "function R(e){return e.reduce((e,t)=>null==t?e:t.results.length+e,0)}",
        "refreshSearchTokens": "function M(){(0,l.refreshSearchTokens)(),A.reset(),a()(l.default).forOwn((e,t)=>A.addRule({type:t,...e}))}",
        "setIncludeNSFW": "function T(e,t){if(u.default.didAgree(t)){let t=i.default.getCurrentUser();null!=t&&(e.include_nsfw=null==t.nsfwAllowed||t.nsfwAllowed)}}",
        "showDatePicker": "function g(e){return null!=e?_[e]:null}",
        "tokenizeQuery": "function m(e){return A.tokenize(e)}"
    }
}