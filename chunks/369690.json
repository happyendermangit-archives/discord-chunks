{
    "exports": {
        "ReferencePositionLayer": "class h extends r.Component{static #e=this.defaultProps={nudgeAlignIntoViewport:!1,spacing:0,autoInvert:!1,disablePointerEvents:!1};nudgeLeftAlignment(e,t,n){let{nudgeAlignIntoViewport:i}=this.props;if(!i)return e;let r=n.offsetWidth,o=e+t.offsetWidth-r+12;return o>0?Math.max(12,e-o):e}getHorizontalAlignmentStyle(e,t,n,i){let{align:r}=this.props;switch(r){case\"left\":{let r=Math.ceil(this.nudgeLeftAlignment(e.left,t,n)),o=Math.ceil(e.left)-r;return{style:{...i,left:r},nudge:o}}case\"right\":{let t=Math.ceil(n.offsetWidth-e.right);return{style:{...i,right:t},nudge:0}}case\"center\":{let r=e.left+(e.width-t.offsetWidth)/2,o=Math.ceil(this.nudgeLeftAlignment(r,t,n)),a=Math.ceil(r)-o;return{style:{...i,left:o},nudge:a}}default:throw Error(`Unsupported align: ${r}`)}}nudgeTopAlignment(e,t,n){let{nudgeAlignIntoViewport:i}=this.props;if(!i)return e;if(e<0)return 0;let r=t.getBoundingClientRect().height,o=n.offsetHeight,a=e+r-o+12;return a>0?Math.max(12,e-a):e}nudgeBottomAlignment(e,t,n){let{nudgeAlignIntoViewport:i}=this.props,r=n.offsetHeight,o=r-e;if(!i)return o;let a=o+t.offsetHeight-r+12;return a>0?Math.max(12,o-a):o}getVerticalAlignmentStyle(e,t,n,i){let{align:r}=this.props;switch(r){case\"top\":{let r=Math.ceil(this.nudgeTopAlignment(e.top,t,n)),o=Math.ceil(e.top)-r;return{style:{...i,top:r},nudge:o}}case\"bottom\":{let r=Math.ceil(this.nudgeBottomAlignment(e.bottom,t,n)),o=Math.ceil(e.bottom)-r;return{style:{...i,bottom:r},nudge:o}}case\"center\":{let r=e.top+(e.height-t.offsetHeight)/2,o=Math.ceil(this.nudgeTopAlignment(r,t,n)),a=Math.ceil(r)-o;return{style:{...i,top:o},nudge:a}}default:throw Error(`Unsupported align: ${r}`)}}calculatePositionStyle(e,t,n){var i,r,o,a;let{reference:s,spacing:E=0}=this.props;let l=\"function\"==typeof(i=s)?i():(_()(null!=i.current,\"Invalid ref\"),i.current.getBoundingClientRect()),u=n.getBoundingClientRect();let I=(r=l,o=u.left,a=u.top,{top:r.top-a,left:r.left-o,bottom:r.bottom-a,right:r.right-o,width:r.width,height:r.height});switch(e){case\"top\":return this.getHorizontalAlignmentStyle(I,t,n,{bottom:n.offsetHeight-I.top+E});case\"bottom\":return this.getHorizontalAlignmentStyle(I,t,n,{top:I.bottom+E});case\"left\":return this.getVerticalAlignmentStyle(I,t,n,{right:n.offsetWidth-I.left+E});case\"right\":return this.getVerticalAlignmentStyle(I,t,n,{left:I.right+E});case\"center\":return this.getVerticalAlignmentStyle(I,t,n,{left:I.left+I.width/2-t.offsetWidth/2+E});case\"window_center\":return this.getVerticalAlignmentStyle(I,t,n,{left:Math.max((window.innerWidth-t.offsetWidth)/2,0)});default:throw Error(`Unexpected position: ${e}`)}}calculateState(){let{position:e,autoInvert:t}=this.props,n=this.elementRef.current;_()(null!=n,\"Unexpected null element\");let i=(0,c.getParentLayerContainer)(n),{style:r,nudge:o}=this.calculatePositionStyle(e,n,i),a=null,s=null;if(t&&(a=R(e,r,n,i))<0){let t=function(e){switch(e){case\"top\":return\"bottom\";case\"bottom\":return\"top\";case\"left\":return\"right\";case\"right\":return\"left\";case\"center\":return\"center\";case\"window_center\":return\"window_center\";default:throw Error()}}(e),{style:r,nudge:o}=this.calculatePositionStyle(t,n,i);if((s=R(t,r,n,i))>a)return C(s,n,{position:t,nudge:o,style:r})}return C(a,n,{position:e,nudge:o,style:r})}componentDidMount(){let{reference:e,onMount:t}=this.props;this.setState({isPositioned:!0,...this.calculateState()});let n=this.elementRef.current;_()(null!=n,\"Missing elementRef\"),\"function\"!=typeof e&&null!=e.current&&A.set(n,e.current),u.ComponentDispatch.subscribe(d.ComponentActions.LAYER_POP_START,this.handleLayerPopStart),u.ComponentDispatch.subscribe(d.ComponentActions.LAYER_POP_COMPLETE,this.handleLayerPopComplete),n?.ownerDocument?.defaultView?.addEventListener(\"resize\",this.handleLayerPopComplete),t?.()}componentDidUpdate(e,t){O(e)!==O(this.props)?this.updatePosition():!function(e,t){if(\"function\"==typeof e&&\"function\"==typeof t){let n=e(),i=t();return n.top===i.top&&n.left===i.left}return e===t}(e.reference,this.props.reference)&&this.updatePosition(),t.position!==this.state.position&&this.props.onPositionChange?.(this.state.position)}componentWillUnmount(){let e=this.elementRef.current;_()(null!=e,\"Missing elementRef\"),A.delete(e),u.ComponentDispatch.unsubscribe(d.ComponentActions.LAYER_POP_START,this.handleLayerPopStart),u.ComponentDispatch.unsubscribe(d.ComponentActions.LAYER_POP_COMPLETE,this.handleLayerPopComplete),e?.ownerDocument?.defaultView?.removeEventListener(\"resize\",this.handleLayerPopComplete),this.props.onUnmount?.()}render(){let{id:e,className:t,children:n,fixed:r,disablePointerEvents:o}=this.props,{position:s,isPositioned:_,isSettingsLayerTransitioning:u,nudge:T}=this.state;return(0,i.jsx)(l.UseThemeContext,{children:l=>{let{theme:c}=l;return(0,i.jsx)(\"div\",{id:e,className:a()(t,(0,I.getThemeClass)(c),S.layer,{[S.emptyError]:!1,[S.layerHidden]:u,[S.disabledPointerEvents]:o}),style:{position:r?\"fixed\":\"absolute\",...this.state.style},ref:this.elementRef,children:(0,i.jsx)(E.FocusRingScope,{containerRef:this.elementRef,children:n({position:s,nudge:T,isPositioned:_},this.updatePosition)})})}})}constructor(...e){super(...e),this.elementRef=r.createRef(),this.state={style:Object.freeze({}),position:this.props.autoInvert?null:this.props.position,nudge:0,isPositioned:!1,isSettingsLayerTransitioning:!1},this.handleLayerPopStart=()=>{this.setState({isSettingsLayerTransitioning:!0})},this.handleLayerPopComplete=()=>{let e=this.calculateState();this.setState({...e,isSettingsLayerTransitioning:!1})},this.updatePosition=()=>{this.setState(this.calculateState())}}}",
        "referencePortalAwareContains": "function N(e,t){if(e.contains(t))return!0;let n=(0,T.default)(t,S.layer);for(;null!=n;){let t=A.get(n);if(null==t)break;if(e.contains(t))return!0;n=(0,T.default)(t,S.layer)}return!1}"
    }
}