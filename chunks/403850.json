{
    "exports": {
        "default": "class l extends s.default{constructor(e){super(),this.id=e.id,this.type=e.type||d.MessageTypes.DEFAULT,this.channel_id=e.channel_id,this.author=e.author,this.content=e.content||\"\",this.customRenderedContent=e.customRenderedContent,this.attachments=e.attachments||[],this.embeds=e.embeds||[],this.mentions=e.mentions||[],this.mentionRoles=e.mentionRoles||[],this.mentionChannels=e.mentionChannels||[],this.mentioned=e.mentioned||!1,this.pinned=e.pinned||!1,this.mentionEveryone=e.mentionEveryone||!1,this.tts=e.tts||!1,this.codedLinks=e.codedLinks||[],this.giftCodes=e.giftCodes||[],this.timestamp=e.timestamp||new Date,this.editedTimestamp=e.editedTimestamp||null,this.state=e.state||d.MessageStates.SENT,this.nonce=e.nonce||null,this.blocked=e.blocked||!1,this.call=e.call||null,this.bot=e.bot||!1,this.webhookId=e.webhookId||null,this.reactions=e.reactions||[],this.applicationId=e.application_id||e.applicationId||null,this.application=e.application||null,this.activity=e.activity||null,this.activityInstance=e.activity_instance||e.activityInstance||null,this.messageReference=e.messageReference||null,this.flags=e.flags||0,this.isSearchHit=e.hit||e.isSearchHit||!1,this.stickers=e.stickers||[],this.stickerItems=e.sticker_items??e.stickerItems??[],this.components=e.components,this.loggingName=e.loggingName||null,this.colorString=e.colorString,this.nick=e.nick,this.interaction=e.interaction||null,this.interactionData=e.interactionData||null,this.interactionMetadata=e.interactionMetadata||null,this.interactionError=e.interactionError||null,this.roleSubscriptionData=e.roleSubscriptionData,this.purchaseNotification=e.purchaseNotification,this.poll=e.poll,this.referralTrialOfferId=e.referralTrialOfferId||null,this.giftInfo=e.gift_info??e.giftInfo}isEdited(){return null!=this.editedTimestamp}getChannelId(){return this.channel_id}getReaction(e){return this.reactions.find(t=>(0,a.emojiEquals)(t.emoji,e))}userHasReactedWithEmoji(e,t){return this.reactions.some(n=>{if((0,a.emojiEquals)(n.emoji,e))return t&&n.me||!t&&n.me_burst})}addReaction(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.ReactionTypes.NORMAL,o=-1,d=this.reactions.map((d,l)=>{if((0,a.emojiEquals)(d.emoji,e)){if(o=l,s===r.ReactionTypes.BURST){if(t&&d.me)return d;let e=t&&d.me_burst?d.burst_count:d.burst_count+1,s=null!=d.burst_colors&&d.burst_colors.length>0?d.burst_colors:n;d={...d,me_burst:!!t||d.me_burst,burst_count:e,count_details:{...d.count_details,burst:e},burst_colors:s,themedBurstColors:(0,i.buildPlatformedThemedEmojiColorPalette)({colors:s,shouldProcessMobileColors:(0,u.isIOS)()})}}else if(s===r.ReactionTypes.VOTE){let e=d.count_details?.vote??0,n=t&&d.me_vote?e:e+1;d={...d,count_details:{...d.count_details,vote:n},me_vote:!!t||d.me_vote}}else{if(t&&d.me_burst)return d;let e=t&&d.me?d.count:d.count+1;d={...d,count:e,count_details:{...d.count_details,normal:e},me:!!t||d.me}}}return d});return -1===o&&(s===r.ReactionTypes.BURST?d.push({emoji:e,me:!1,me_burst:t,count:0,count_details:{burst:1,normal:0},burst_count:1,burst_colors:n,themedBurstColors:(0,i.buildPlatformedThemedEmojiColorPalette)({colors:n??[],shouldProcessMobileColors:(0,u.isIOS)()})}):s===r.ReactionTypes.VOTE?d.push({emoji:e,me:!1,me_burst:!1,me_vote:t,count:0,count_details:{burst:0,normal:0,vote:1},burst_count:0,burst_colors:[]}):d.push({emoji:e,me:t,me_burst:!1,count:1,count_details:{burst:0,normal:1},burst_count:0,burst_colors:[]})),this.set(\"reactions\",d)}addReactionBatch(e,t){return e.reduce((e,n)=>{let{users:s,emoji:i}=n;return s.reduce((e,n)=>e.addReaction(i,n===t),e)},this)}removeReaction(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.ReactionTypes.NORMAL,s=-1,i=this.reactions.map((i,o)=>{if((0,a.emojiEquals)(i.emoji,e)){if(n===r.ReactionTypes.BURST){let e=t&&!i.me_burst?i.burst_count:i.burst_count-1;i={...i,burst_count:e,me_burst:!t&&i.me_burst,count_details:{...i.count_details,burst:e}}}else if(n===r.ReactionTypes.VOTE){let e=i.count_details?.vote??0,n=t&&!i.me_vote?e:e-1;i={...i,count_details:{...i.count_details,vote:n},me_vote:!t&&i.me_vote}}else{let e=t&&!i.me?i.count:i.count-1;i={...i,count:e,me:!t&&i.me,count_details:{...i.count_details,normal:e}}}s=o}return i}),{count:o,burst_count:u,count_details:d}=i[s]??{},l=d?.normal??0,f=d?.burst??0,_=d?.vote??0;return -1!==s&&o<=0&&u<=0&&l<=0&&f<=0&&_<=0&&i.splice(s,1),this.set(\"reactions\",i)}removeReactionsForEmoji(e){return this.set(\"reactions\",this.reactions.filter(t=>!(0,a.emojiEquals)(t.emoji,e)))}isSystemDM(){return this.author.isSystemUser()}hasFlag(e){return(0,o.hasFlag)(this.flags,e)}isCommandType(){return this.type===d.MessageTypes.CHAT_INPUT_COMMAND||this.type===d.MessageTypes.CONTEXT_MENU_COMMAND}isPoll(){return null!=this.poll}toJS(){return{...this,webkhook_id:this.webhookId,edited_timestamp:this.editedTimestamp,mention_everyone:this.mentionEveryone}}isFirstMessageInForumPost(e){return this.id===this.channel_id&&e.isForumPost()}}"
    }
}