{
    "exports": {
        "default": "function s(e){let{navId:t,items:n,initialFocusPath:s,onSelect:_,enabled:E=!0,closeMenu:l}=e,u=i.useRef(E);i.useLayoutEffect(()=>{u.current=E},[E]);let[I,T]=i.useReducer(r.default,{items:n,focusPath:s,focusIndex:-1}),c=i.useMemo(()=>(0,a.throttle)(T,30),[T]);i.useEffect(()=>{T({type:r.MenuActionType.UPDATE_ITEMS,items:n})},[n]);let{focusPath:d}=I,[S,A]=i.useState(!1),[N,O]=i.useState(!1),[{onItemFocusMemoizer:R,onItemMouseEnterMemoizer:C}]=i.useState(()=>({onItemFocusMemoizer:new a.HandlerMemoizer(e=>()=>{A(!0),T({type:r.MenuActionType.SET_FOCUS_PATH,path:e.split(\"--\")})}),onItemMouseEnterMemoizer:new a.HandlerMemoizer(e=>()=>{O(!1),T({type:r.MenuActionType.SET_FOCUS_PATH,path:e.split(\"--\")})})})),h=i.useCallback(e=>{if(!u.current)return;e.key===o.Keys.ESCAPE&&null!=l&&(e.stopPropagation(),e.preventDefault(),l());let n=function(e){switch(e.key){case o.Keys.ENTER:case o.Keys.SPACE:return o.ActionType.SELECT_FOCUSED_ITEM;case o.Keys.UP:return o.ActionType.NAVIGATE_UP;case o.Keys.DOWN:return o.ActionType.NAVIGATE_DOWN;case o.Keys.RIGHT:return o.ActionType.NAVIGATE_IN;case o.Keys.LEFT:return o.ActionType.NAVIGATE_OUT}}(e);switch(n){case o.ActionType.NAVIGATE_UP:case o.ActionType.NAVIGATE_DOWN:case o.ActionType.NAVIGATE_IN:case o.ActionType.NAVIGATE_OUT:e.preventDefault(),e.stopPropagation(),O(!0),c({type:n});return;case o.ActionType.SELECT_FOCUSED_ITEM:var i,r,s,E;if(e.repeat)return;if(e.target.tabIndex>=0)return;if(e.preventDefault(),e.stopPropagation(),O(!1),c({type:n}),null!=_){_(d);return}let I=(s=e.target.ownerDocument??document,E=(i=t,null!=(r=d)?`${(0,a.makeId)(i,r.join(\"--\"))}`:i),s.getElementById(E));I?.click()}},[c,t,d,_,l]),L=i.useCallback(()=>{!S&&A(!0)},[S]),D=i.useCallback(e=>{e.target!==e.currentTarget&&!e.currentTarget.contains(e.relatedTarget)&&S&&A(!1)},[S]),m=i.useCallback(()=>{T({type:r.MenuActionType.SET_FOCUS_PATH,path:[]}),A(!1)},[]),p=i.useCallback(e=>e.every((e,t)=>d[t]===e),[d]),f=i.useCallback(()=>({role:\"menu\",id:t,tabIndex:-1,onKeyDown:h,onFocus:L,onBlur:D,onMouseLeave:m,\"aria-activedescendant\":d.length>0?(0,a.makeId)(t,d.join(\"--\")):void 0}),[t,h,L,D,m,d]),P=i.useCallback(e=>{let{path:n}=e;return{role:\"menu\",tabIndex:-1,\"aria-activedescendant\":p(n)?(0,a.makeId)(t,d.join(\"--\")):void 0,focusIndex:I.focusIndex,isUsingKeyboardNavigation:N}},[t,d,p,I.focusIndex,N]),M=i.useCallback(e=>{let{path:n,hasSubmenu:i=!1,role:r=\"menuitem\"}=e,o=n.join(\"--\");return{...i?{\"aria-expanded\":p(n),\"aria-haspopup\":!0}:{},role:r,id:(0,a.makeId)(t,o),tabIndex:-1,onFocus:R.get(o),onMouseEnter:C.get(o)}},[t,p,R,C]);return i.useMemo(()=>({dispatch:c,getContainerProps:f,getSubmenuProps:P,getItemProps:M,isFocused:p,isUsingKeyboardNavigation:N}),[c,f,P,M,p,N])}"
    }
}