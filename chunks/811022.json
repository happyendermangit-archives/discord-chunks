{
    "exports": {
        "applyChatRestrictions": "function h(e){let{openWarningPopout:t,type:n,content:h,stickers:E,uploads:_,channel:I,restrictMentions:C=!0,respectCooldown:y=!0}=e,S=f.default.canUseIncreasedMessageLength(u.default.getCurrentUser());return new Promise(e=>(function(e){let{openWarningPopout:t,type:n,content:u,stickers:f,uploads:h,channel:E,restrictMentions:_,respectCooldown:I,userCanUsePremiumMessageLength:C,resolve:y}=e;if(0===u.length&&!n.submit?.allowEmptyMessage&&(null==f||0===f.length)&&(null==h||0===h.length)){y({valid:!1,failureReason:p.MessageRestrictionTypes.EMPTY_MESSAGE});return}let S=C?p.MAX_MESSAGE_LENGTH_PREMIUM:p.MAX_MESSAGE_LENGTH;if(u.length>S){if(C||null==E){var g,x;g=u.length,x=S,(0,a.openModal)(e=>(0,i.jsx)(l.default,{title:m.default.Messages.MESSAGE_TOO_LONG_HEADER,body:m.default.Messages.MESSAGE_TOO_LONG_BODY_TEXT.format({currentLength:g,maxLength:x}),confirmText:m.default.Messages.OKAY,...e})),d.default.track(p.AnalyticEvents.OPEN_MODAL,{type:\"Message Too Long Alert\",message_content_length:g})}else s.default.dispatch({type:\"MESSAGE_LENGTH_UPSELL\",channel:E,content:u});y({valid:!1,failureReason:p.MessageRestrictionTypes.MESSAGE_TOO_LONG});return}if(null!=E){if(null!=E.getGuildId()&&I&&o.default.getSlowmodeCooldownGuess(E.id)>0){y({valid:!1,failureReason:p.MessageRestrictionTypes.SLOWMODE_COOLDOWN});return}if(null!=t)for(let{check:e,analyticsType:n,animation:i}of c.RESTRICTIONS){let a=e(u,E,_);if(!1!==a){t({analyticsType:n,channel:E,onCancel:()=>y({valid:!1,failureReason:p.MessageRestrictionTypes.SHOUTING_CANCELLED}),onConfirm:()=>y({valid:!0}),popoutText:a,animation:i});return}}}if(r.default.isFull()){(0,a.openModal)(e=>(0,i.jsx)(l.default,{title:m.default.Messages.MESSAGE_RATE_LIMITED_HEADER,body:m.default.Messages.MESSAGE_RATE_LIMITED_BODY,confirmText:m.default.Messages.MESSAGE_RATE_LIMITED_BUTTON,...e}),{onCloseRequest:p.NOOP}),y({valid:!1,failureReason:p.MessageRestrictionTypes.RATE_LIMITED});return}y({valid:!0})})({openWarningPopout:t,type:n,content:h,stickers:E,uploads:_,channel:I,restrictMentions:C,respectCooldown:y,userCanUsePremiumMessageLength:S,resolve:e}))}"
    }
}