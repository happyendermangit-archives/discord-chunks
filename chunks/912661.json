{
    "exports": {
        "default": "function Z(e){let{user:t,displayProfile:n,bannerSrc:i,onClose:a,guildId:r,profileType:p=G.UserProfileTypes.POPOUT,isHovering:m,animateOnHover:h,allowEdit:A=!0,showPremiumBadgeUpsell:M=!0,hasProfileEffect:v=!1}=e,[L,P]=l.useState(n?.banner==null?2:0),b=(0,d.useStateFromStores)([x.default],()=>x.default.getGuild(r)),K=(0,d.useStateFromStores)([S.default],()=>S.default.getId())===t.id&&A,W=D.default.isPremiumAtLeast(n?.premiumType,H.PremiumTypes.TIER_2),[Z,$]=l.useState(!1),q=(0,d.useStateFromStores)([N.default],()=>N.default.isFocused()),X=y.GifAutoPlay.getSetting(),Q=(0,f.useToken)(c.default.unsafe_rawColors.PRIMARY_800).hex(),ee=(0,f.getAvatarSize)(f.AvatarSizes.SIZE_80),et=(0,u.hex2int)((0,E.default)(t.getAvatarURL(r,ee),Q,!1)),en=(0,_.default)(n?.primaryColor??et).hsl,ei=(0,w.getUserBannerSize)(p),ea=i??n?.getBannerURL({size:ei,canAnimate:h||!X?Z:q}),es=null!=ea,el=(0,d.useStateFromStores)([U.default],()=>U.default.getUserProfile(t.id)),er=g.default.getChannel(T.default.getChannelId()),{appsInGDMEnabled:eo,availableApplications:eu}=(0,I.usePrivateChannelIntegrationState)({channelId:er?.id??B.EMPTY_STRING_SNOWFLAKE_ID}),ed=el?.application,ec=eo&&null!=eu.find(e=>e.id===ed?.id);(0,l.useEffect)(()=>{if(es&&W&&0===L){P(1);let e=new Image;e.src=ea,e.onload=()=>P(2)}},[t,es,W,ea,L]),l.useEffect(()=>{if(X||!W)return;let e=i??n?.getBannerURL({size:ei,canAnimate:!0});if(null!=e)new Image().src=e},[X,W,i,n,ei]);let ef=(0,C.default)({analyticsLocation:{page:B.AnalyticsPages.USER_POPOUT,section:B.AnalyticsSections.PROFILE_POPOUT}});return(0,s.jsx)(j.default,{isPremium:W,hasThemeColors:n?.canEditThemes??!1,profileType:p,hasBanner:es,hasProfileEffect:v,children:(0,s.jsxs)(\"div\",{className:o()(Y.banner,(0,w.getUserBannerStyles)({profileType:p,user:{hasBanner:es,isPremium:W,hasProfileEffect:v}}),{[Y.reducedMotion]:!X}),onMouseMove:()=>$(!0),onMouseLeave:()=>$(!1),style:{backgroundImage:es&&W?`url(${ea})`:void 0,backgroundColor:2!==L?c.default.unsafe_rawColors.PRIMARY_800.css:en},children:[K?null==b?(0,s.jsx)(J,{darkenOnHover:v&&m,profileType:p,profileLabel:V.default.Messages.EDIT_PROFILE,icon:\"pencil\",onClick:()=>{a?.(),ef()}}):null==b?null:(0,s.jsx)(f.Popout,{spacing:6,position:\"bottom\",renderPopout:e=>{let{closePopout:t}=e;return(0,s.jsx)(F.default,{onClose:t,onSelect:a,guild:b})},children:e=>(0,s.jsx)(J,{darkenOnHover:v&&m,profileLabel:V.default.Messages.EDIT_PROFILE,icon:\"pencil\",...e,profileType:p})}):M&&es&&p!==G.UserProfileTypes.SETTINGS?(0,s.jsx)(z,{type:p,shown:void 0===m?Z:m,onClick:a}):null,ec?p!==G.UserProfileTypes.MODAL?null:(0,s.jsx)(f.Clickable,{onClick:a,\"aria-label\":V.default.Messages.BACK,className:Y.pencilContainer,children:(0,s.jsx)(f.Tooltip,{text:V.default.Messages.BACK,children:e=>(0,s.jsx)(R.default,{...e,className:Y.closeIcon,color:\"white\"})})}):null,!X&&(0,k.isAnimatedImageURL)(ea)&&(0,s.jsx)(O.default,{className:Y.gifTag})]})})}"
    }
}