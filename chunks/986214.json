{
    "exports": {
        "default": "async function y(t){let{activityItem:e,currentEmbeddedApplication:i,locationObject:y,channelId:h,guildId:D,embeddedActivitiesManager:O,analyticsLocations:L}=t,g=u.default.getGuild(D),m=d.default.getCurrentUser();if(null==g&&!(0,v.isPrivateChannelWithEnabledActivities)(h)||null==m||null==e||null==e.application)return!1;if(null==h)return s.ComponentDispatch.dispatch(N.ComponentActions.SHOW_ACTIVITIES_CHANNEL_SELECTOR,{applicationId:e.application.id}),!1;let P=a.default.getChannel(h);if(null==P)return!1;let M=null!=h?(0,E.getEmbeddedActivityLaunchability)({channelId:h,ChannelStore:a.default,GuildStore:u.default,PermissionStore:r.default}):E.EmbeddedActivityLaunchability.NO_CHANNEL;if(M!==E.EmbeddedActivityLaunchability.CAN_LAUNCH)return M===E.EmbeddedActivityLaunchability.NO_USE_EMBEDDED_ACTIVITIES_PERMISSION?(0,l.showActivitiesInvalidPermissionsAlert)():M===E.EmbeddedActivityLaunchability.ACTIVITIES_FEATURE_NOT_ENABLED_FOR_OS&&n.default.show({title:p.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_GENERIC,body:p.default.Messages.EMBEDDED_ACTIVITIES_NOT_AVAILABLE_ON_OS,hideActionSheet:!1}),!1;let b=await (0,_.confirmActivityLaunchChecks)({applicationId:e.application.id,application:e.application,channel:P,currentEmbeddedApplication:i,embeddedActivitiesManager:O,user:m});if(!b)return!1;let U=(0,I.default)(h),R=S.SUPPORTED_ACTIVITY_IN_TEXT_CHANNEL_TYPES.includes(P.type);if(U){let t=await (0,A.default)({channelId:h,bypassChangeModal:null!=i});if(!t)return!1}else if(!(0,o.isActivitiesInTextEnabled)(P,\"handleStartEmbeddedActivity\")||!R)return!1;return f.startEmbeddedActivity(h,e.application.id,L),(0,C.default)(D,h),(0,T.default)({type:N.AnalyticsGameOpenTypes.LAUNCH,userId:m.id,applicationId:e.application.id,locationObject:y,analyticsLocations:L}),c.markActivityUsed(e.application.id),!0}"
    }
}