{
    "exports": {
        "default": {
            "type": {
                "render": "function(e,t){let n,{pickerIntention:s,channel:r,guildId:o,closePopout:u,emojiSize:f=Z.EmojiSize.MEDIUM,hasTabWrapper:m=!1,includeCreateEmojiButton:A,onSelectEmoji:R,containerWidth:j,onNavigateAway:ei,persistSearch:ed,className:ec,headerClassName:ef,analyticsOverride:ep=eu,searchProps:em={},wrapper:eh,shouldHidePickerActions:eE=!1,messageId:e_,renderHeader:eI,listHeaderClassName:eC}=e,{onFocus:ey,onKeyDown:eS,autoFocus:eg=!0,accessory:ex}=em,eT=(0,d.useStateFromStores)([b.default],()=>null!=o?b.default.getDefaultChannel(o):null,[o]),[eA,eN]=a.useState(null),eO=a.useRef(\"\"),eR=(0,T.useExpressionPickerStore)(e=>e.searchQuery),eM=a.useRef(null),ev=a.useRef(null),eL=a.useRef(null);null==r&&null!=eT&&(r=eT);let eP=r?.getGuildId()??o??null,[eb,ek]=a.useState(!1),eD=k.default.getCurrentUser(),eU=(0,U.isPremium)(eD);a.useImperativeHandle(t,()=>({onPickerOpen:e7}));let{location:ej}=(0,E.useAnalyticsContext)(),{page:ew,section:eF,object:eG,openPopoutType:eB}=ep,eH=a.useMemo(()=>({...ej,section:eF??$.AnalyticsSections.EMOJI_PICKER_POPOUT}),[ej,eF]),{AnalyticsLocationProvider:eV}=(0,I.default)(_.default.EMOJI_PICKER),{diversitySurrogate:eY}=(0,d.useStateFromStoresObject)([y.default],()=>({diversitySurrogate:y.default.diversitySurrogate})),eK=(0,w.useEmojiSearchResults)(eR,r,s),eW=null==eK?0:eK.locked.length+eK.unlocked.length,ez=P.EmojiPickerCollapsedSections.useSetting(),eJ=a.useMemo(()=>new Set(ez),[ez]),eZ=a.useCallback(e=>{P.EmojiPickerCollapsedSections.updateSetting(Array.from(e))},[]),e$=(0,N.useExpressionPickerGridWidth)({gridWrapperRef:eM,containerWidth:j,listPaddingLeft:et,listScrollbarWidth:8}),{rowCountBySection:eq,sectionDescriptors:eX,emojiGrid:eQ,columnCounts:e0}=(0,Y.useEmojiGrid)({gridWidth:e$,channel:r,includeCreateEmojiButton:A,pickerIntention:s,emojiSearchResults:eK,collapsedSections:eJ,emojiPaddingHorizontal:ee,emojiSpriteSize:f}),{newlyAddedEmojis:e1}=(0,F.default)(eP,s),{trackOnPickerOpen:e3}=(0,w.useTrackEmojiPickerOpened)({intention:s,isBurstReaction:eb,analyticsObject:eG});(0,v.useMaybeFetchPremiumLikelihood)(L.default);let e7=a.useCallback(()=>{let e=e1.length>0?e1[0].id:null;(0,g.updateNewlyAddedLastSeen)(eP,e),e3()},[e3,e1,eP]),e2=(0,Y.useEmojiSelectHandler)({pickerIntention:s,selectedChannel:r,closePopout:u,onSelectEmoji:R,setUpsellConfigs:eN,emojiSelectAnalytics:e=>{\"\"!==eR?(0,w.trackEmojiSearchSelect)({emoji:e.emoji,location:{...eH,object:$.AnalyticsObjects.EMOJI},searchQuery:eR,intention:s}):(0,w.trackEmojiSelect)({emoji:e.emoji,location:{...eH,object:eG??$.AnalyticsObjects.EMOJI,...null!=ew&&{page:ew}},pickerIntention:s,category:e.category,subCategory:e.subCategory,position:e.columnIndex+1,newlyAddedHighlight:e.subCategory===Z.EmojiSubCategory.NEWLY_ADDED_EMOJI&&S.default.isNewerThanLastSeen(eP,e.emoji.id),isBurstReaction:eb})},trackEmojiFavorited:e=>{(0,w.trackEmojiFavorited)({emoji:e.emoji,location:{...eH,object:$.AnalyticsObjects.EMOJI}})}}),e6=a.useCallback(()=>{u(),ei?.()},[u,ei]),{getItemProps:e8,getRowProps:e4,gridContainerProps:e5,handleGridContainerKeyDown:e9,isUsingKeyboardNavigation:te}=ea({pickerIntention:s,analyticsLocation:eH,columnCounts:e0,onSelectEmoji:R,emojiGrid:eQ,emojiList:ev,channelGuildId:eP,isBurstReaction:eb});es(j,ev),el(j,eY,eL,eg),a.useEffect(()=>{!ed&&(0,T.setSearchQuery)(\"\")},[ed]),a.useEffect(()=>(D.default.track($.AnalyticEvents.OPEN_POPOUT,{type:eB??\"Emoji Picker\",guild_id:eP}),x.EmojiPickerStore.resetStoreState),[eB,eP]),a.useEffect(()=>()=>(0,M.hideHotspot)(M.HotspotLocations.FAVORITE_EMOJI_TOOLTIP),[]),a.useLayoutEffect(()=>{let{columnIndex:e,rowIndex:t}=x.EmojiPickerStore.getState().inspectedExpressionPosition;eQ[t]?.[e]==null&&0!==e&&x.EmojiPickerStore.setInspectedExpressionPosition(0,0)},[eQ]),a.useEffect(()=>{\"\"===eO.current&&\"\"!==eR&&(0,w.trackEmojiSearchStart)(eH,s),0===eW&&\"\"!==eR?er(eH,eR):\"\"!==eR&&eO.current!==eR&&eo(eW,eK?.locked.length??0,eH,eR,s),eO.current=eR},[eR,eH,eW,eK,s]);let tt=eh??(m?\"div\":p.Dialog),tn=null!=e$;eA?.type===Y.EmojiUpsellType.PREMIUM?n=(0,i.jsx)(J.default,{onLearnMore:e6,emojiDescriptor:eA.emojiDescriptor,pickerIntention:s,analyticsLocation:eH,onClose:()=>eN(null),channel:r}):eA?.type===Y.EmojiUpsellType.ROLE_SUBSCRIPTION?n=(0,i.jsx)(O.default,{onClose:()=>eN(null),guildId:eA.guildId,emojiId:eA.emojiId}):eb&&!eU&&(n=(0,i.jsx)(G.default,{onDismiss:()=>ek(!1)}));let ti=(0,i.jsx)(V.default,{pickerIntention:s,emojiListRef:ev,onKeyDown:e=>{e9?.(e),eS?.(e)},searchBarRef:eL,onFocus:ey,autoFocus:eg,accessory:ex,headerClassName:ef,hasTabWrapper:m,diversitySurrogate:eY,isBurstReaction:eb,onBurstReactionToggle:()=>ek(!eb),renderHeader:eI}),ta=[];s===X.EmojiIntention.REACTION&&ta.push(c.DismissibleContent.SUPER_REACTIONS_NITRO_MARKETING),!y.default.hasFavoriteEmojis(eP)&&ta.push(c.DismissibleContent.EMOJI_PICKER_FAVORITE_EMOJIS_TIP);let ts=(0,i.jsx)(h.default,{...eH,children:(0,i.jsxs)(tt,{id:Z.EMOJI_PICKER_TAB_PANEL_ID,\"aria-labelledby\":m?Z.EMOJI_PICKER_TAB_ID:void 0,role:m?\"tabpanel\":void 0,className:l()(Q.wrapper,{[Q.emojiPickerHasTabWrapper]:m,[Q.isBurstReactionPicker]:eb&&eU}),children:[m?null:ti,(0,i.jsxs)(\"div\",{className:l()(Q.emojiPicker,ec),onScroll:en,children:[m?ti:null,(0,i.jsxs)(\"div\",{className:Q.bodyWrapper,ref:eM,children:[(0,i.jsx)(z.default,{channel:r,closePopout:u}),(0,i.jsx)(C.default,{contentTypes:ta,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;if(t===c.DismissibleContent.EMOJI_PICKER_FAVORITE_EMOJIS_TIP)return(0,i.jsx)(H.default,{markAsDismissed:()=>n(q.ContentDismissActionType.UNKNOWN)})}}),eE?null:(0,i.jsx)(\"div\",{className:Q.emojiPickerListWrapper,id:Z.GRID_NAVIGATOR_ID,...e5,children:tn?(0,i.jsx)(W.default,{collapsedSections:eJ,diversitySurrogate:eY,emojiGrid:eQ,emojiListRef:ev,emojiSize:f,getEmojiItemProps:e8,getEmojiRowProps:e4,gridWidth:e$,isUsingKeyboardNavigation:te,onEmojiSelect:(e,t)=>{e2(e,{...t,isBurst:eb})},rowCount:eQ.length,rowCountBySection:eq,sectionDescriptors:eX,setCollapsedSections:eZ,channelGuildId:eP,messageId:e_,isBurstReaction:eb,listHeaderClassName:eC}):null})]}),(0,i.jsx)(K.EmojiPickerInspector,{emojiGrid:eQ,className:Q.inspector,guildId:eP,pickerIntention:s,channel:r}),n]}),eE?null:(0,i.jsx)(B.default,{className:Q.categoryList,emojiListRef:ev,sectionDescriptors:eX,intention:s,channel:r})]})});return(0,i.jsx)(eV,{children:ts})}"
            },
            "compare": null
        }
    }
}