function(e, t, a) {
    "use strict";
    a.r(t), a.d(t, {
        Overlay: function() {
            return W
        }
    }), a("47120");
    var d = a("735250"),
        n = a("470079"),
        c = a("664751"),
        i = a("266067"),
        o = a("613828"),
        r = a("990547"),
        f = a("719711"),
        l = a("271579"),
        s = a("756647"),
        u = a("442837"),
        b = a("433517"),
        h = a("799656"),
        p = a("540117"),
        m = a("765717"),
        _ = a("663993"),
        E = a("329816"),
        g = a("554608"),
        I = a("83949"),
        O = a("137412"),
        T = a("314897"),
        v = a("626135"),
        R = a("361207"),
        w = a("690032"),
        S = a("358085"),
        A = a("998502"),
        N = a("981631"),
        C = a("188785"),
        D = a("436620");
    a("928518"), a("972830"), a("704806");
    let P = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("49237"), a.e("61482")]).then(a.bind(a, "576184")),
            webpackId: "576184",
            name: "UnsupportedBrowser"
        }),
        L = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("99387"), a.e("88571")]).then(a.bind(a, "431583")),
            webpackId: "431583",
            name: "DownloadApps"
        }),
        y = (0, _.makeLazy)({
            createPromise: () => a.e("81975").then(a.bind(a, "484097")),
            webpackId: "484097",
            name: "InviteProxy"
        }),
        M = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("99387"), a.e("20786")]).then(a.bind(a, "417663")),
            webpackId: "417663",
            name: "VerifyConnectedAccount"
        }),
        k = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("99387"), a.e("16565")]).then(a.bind(a, "984388")),
            webpackId: "984388",
            name: "LinkConnectedAccount"
        }),
        U = (0, _.makeLazy)({
            createPromise: () => a.e("46882").then(a.bind(a, "924339")),
            webpackId: "924339",
            name: "LinkAuthorize"
        }),
        x = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("99387"), a.e("19878"), a.e("49277")]).then(a.bind(a, "197528")),
            webpackId: "197528",
            name: "ActivateDevice"
        }),
        j = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("49237"), a.e("99387"), a.e("24267"), a.e("23755"), a.e("61613"), a.e("36385"), a.e("63958"), a.e("48375"), a.e("81539"), a.e("57878"), a.e("14262"), a.e("95393"), a.e("39285"), a.e("67535"), a.e("90687"), a.e("56630"), a.e("70866"), a.e("87983"), a.e("8739"), a.e("43643"), a.e("90508"), a.e("58286"), a.e("6380"), a.e("7590"), a.e("41947"), a.e("71697"), a.e("3084"), a.e("30243"), a.e("37766"), a.e("53466"), a.e("6857"), a.e("22036"), a.e("38779"), a.e("25464"), a.e("23404"), a.e("78690"), a.e("74870"), a.e("74526"), a.e("18101"), a.e("37220"), a.e("33361"), a.e("61447"), a.e("91315"), a.e("80026"), a.e("80954"), a.e("62856"), a.e("90212"), a.e("11256"), a.e("49508"), a.e("91632"), a.e("37839"), a.e("67256"), a.e("5257"), a.e("47849"), a.e("88396"), a.e("95468"), a.e("46048")]).then(a.bind(a, "457094")),
            webpackId: "457094",
            name: "ViewsWithMainInterface",
            memo: !0,
            id: "457094"
        }),
        V = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("49237"), a.e("99387"), a.e("66635"), a.e("73422"), a.e("75492"), a.e("48375"), a.e("57878"), a.e("95393"), a.e("67535"), a.e("90687"), a.e("19878"), a.e("10778"), a.e("52030"), a.e("85514"), a.e("90212"), a.e("86691"), a.e("55644")]).then(a.bind(a, "822699")),
            webpackId: "822699",
            name: "ViewsWithAuth"
        }),
        G = (0, _.makeLazy)({
            createPromise: () => a.e("32640").then(a.bind(a, "285773")),
            webpackId: "285773",
            name: "ViewsWithOAuth2"
        }),
        H = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("49237"), a.e("99387"), a.e("81539"), a.e("56630"), a.e("6380"), a.e("71697"), a.e("18101"), a.e("11256"), a.e("47849"), a.e("40786")]).then(a.bind(a, "317281")),
            webpackId: "317281",
            name: "ViewsWithUnauthenticatedApplicationDirectory"
        }),
        F = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("49237"), a.e("99387"), a.e("10508")]).then(a.bind(a, "549652")),
            webpackId: "549652",
            name: "BrowserHandoff"
        }),
        B = (0, _.makeLazy)({
            createPromise: () => a.e("76888").then(a.bind(a, "573276")),
            webpackId: "573276",
            name: "MobileWebHandoffFallback"
        }),
        W = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("49237"), a.e("99387"), a.e("23755"), a.e("61613"), a.e("36385"), a.e("48375"), a.e("81539"), a.e("57878"), a.e("14262"), a.e("95393"), a.e("39285"), a.e("67535"), a.e("90687"), a.e("56630"), a.e("70866"), a.e("87983"), a.e("8739"), a.e("43643"), a.e("90508"), a.e("58286"), a.e("6380"), a.e("7590"), a.e("41947"), a.e("71697"), a.e("3084"), a.e("30243"), a.e("37766"), a.e("53466"), a.e("6857"), a.e("22036"), a.e("38779"), a.e("25464"), a.e("23404"), a.e("78690"), a.e("74526"), a.e("18101"), a.e("37220"), a.e("33361"), a.e("61447"), a.e("91315"), a.e("80954"), a.e("62856"), a.e("37839"), a.e("67256"), a.e("88396"), a.e("73797")]).then(a.bind(a, "290161")),
            webpackId: "290161",
            name: "Overlay"
        }),
        K = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("49237"), a.e("99387"), a.e("18824"), a.e("75843")]).then(a.bind(a, "430075")),
            webpackId: "430075",
            name: "SuspendedUserSafetyHubPage"
        }),
        z = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("49237"), a.e("99387"), a.e("19878"), a.e("28296")]).then(a.bind(a, "630107")),
            webpackId: "630107",
            name: "QuestsLandingPage"
        }),
        Y = (0, _.makeLazy)({
            createPromise: () => Promise.all([a.e("99387"), a.e("47228")]).then(a.bind(a, "531338")),
            webpackId: "531338",
            name: "ConnectionsAuthorizeContinue"
        }),
        q = () => (0, d.jsx)(j, {}),
        X = new Set([N.Routes.LOGIN, N.Routes.LOGIN_HANDOFF, N.Routes.INVITE_LOGIN(":inviteCode"), N.Routes.GIFT_CODE_LOGIN(":giftCode"), N.Routes.GUILD_TEMPLATE_LOGIN(":guildTemplateCode")]);

    function Z(e, t) {
        return t ? e.filter(e => !X.has(e)) : e
    }
    class Q extends n.Component {
        componentDidMount() {
            A.default.cleanupDisplaySleep(), O.default.initialize()
        }
        componentWillUnmount() {
            O.default.terminate()
        }
        render() {
            let e;
            let {
                isAuthenticated: t,
                migrationStatus: a,
                skipsSettingDefaultPageTitle: n
            } = this.props;
            return e = a === g.MigrationStatus.IN_PROGRESS ? null : D.IS_APP_COMPATIBLE_BROWSER ? S.isPlatformEmbedded ? (0, d.jsxs)(o.Switch, {
                children: [(0, d.jsx)(o.Route, {
                    exact: !0,
                    path: N.Routes.INDEX,
                    render: () => (0, d.jsx)(h.default, {})
                }), (0, d.jsx)(m.default, {
                    exact: !0,
                    path: N.Routes.APPS,
                    component: L
                }), (0, d.jsx)(o.Route, {
                    path: Z([N.Routes.LOGIN, N.Routes.REGISTER, N.Routes.INVITE(":inviteCode"), N.Routes.INVITE_LOGIN(":inviteCode"), N.Routes.GIFT_CODE(":giftCode"), N.Routes.GIFT_CODE_LOGIN(":giftCode"), N.Routes.RESET], C.CONFERENCE_MODE_ENABLED),
                    component: V
                }), (0, d.jsx)(m.default, {
                    path: N.Routes.INVITE_PROXY(":channelId"),
                    component: y
                }), (0, d.jsx)(o.Redirect, {
                    from: N.Routes.INVITE(""),
                    to: N.Routes.LOGIN
                }), (0, d.jsx)(o.Redirect, {
                    from: N.Routes.GIFT_CODE(""),
                    to: N.Routes.LOGIN
                }), (0, d.jsx)(o.Route, {
                    render: q
                })]
            }) : (0, d.jsxs)(o.Switch, {
                children: [(0, d.jsx)(m.default, {
                    exact: !0,
                    path: N.Routes.INDEX,
                    render: () => (0, d.jsx)(h.default, {})
                }), (0, d.jsx)(o.Route, {
                    path: Z([N.Routes.LOGIN, N.Routes.LOGIN_HANDOFF, N.Routes.REGISTER, N.Routes.BILLING_PREFIX, N.Routes.BILLING_PROMOTION_REDEMPTION(":code"), N.Routes.INVITE(":inviteCode"), N.Routes.INVITE_LOGIN(":inviteCode"), N.Routes.GIFT_CODE(":giftCode"), N.Routes.GIFT_CODE_LOGIN(":giftCode"), N.Routes.GUILD_TEMPLATE(":guildTemplateCode"), N.Routes.GUILD_TEMPLATE_LOGIN(":guildTemplateCode"), N.Routes.DISABLE_EMAIL_NOTIFICATIONS, N.Routes.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS, N.Routes.RESET, N.Routes.REPORT, N.Routes.REPORT_SECOND_LOOK], C.CONFERENCE_MODE_ENABLED),
                    component: V
                }), t ? null : (0, d.jsx)(o.Route, {
                    path: N.Routes.PICK_GUILD_SETTINGS(":section?", ":subsection?"),
                    component: V
                }), t ? null : (0, d.jsx)(o.Route, {
                    path: N.Routes.CHANNEL(":guildId", ":channelId?", ":messageId?"),
                    component: V
                }), (0, d.jsx)(o.Redirect, {
                    from: N.Routes.INVITE(""),
                    to: N.Routes.LOGIN
                }), (0, d.jsx)(m.default, {
                    path: N.Routes.INVITE_PROXY(":channelId"),
                    component: y
                }), (0, d.jsx)(o.Redirect, {
                    from: N.Routes.GIFT_CODE(""),
                    to: N.Routes.LOGIN
                }), (0, d.jsx)(m.default, {
                    path: N.Routes.QUESTS(":questId"),
                    component: z,
                    impressionName: r.ImpressionNames.QUESTS_LANDING_PAGE,
                    impressionProperties: e => {
                        let {
                            computedMatch: t
                        } = e;
                        return {
                            quest_id: t.params.questId
                        }
                    }
                }), (0, d.jsx)(m.default, {
                    path: N.Routes.HANDOFF,
                    component: F
                }), (0, d.jsx)(m.default, {
                    path: N.Routes.MOBILE_WEB_HANDOFF,
                    component: B
                }), (0, d.jsx)(m.default, {
                    path: N.Routes.CONNECTION_LINK(":type"),
                    component: k
                }), (0, d.jsx)(m.default, {
                    path: N.Routes.CONNECTION_LINK_AUTHORIZE(":type"),
                    component: U
                }), (0, d.jsx)(m.default, {
                    path: N.Routes.ACTIVATE,
                    component: x
                }), (0, d.jsx)(m.default, {
                    path: N.Routes.CONNECTIONS_AUTHORIZE_CONTINUE(":type"),
                    component: Y
                }), (0, d.jsx)(m.default, {
                    path: N.Routes.CONNECTIONS(":type"),
                    component: M
                }), (0, d.jsx)(m.default, {
                    path: N.Routes.DOWNLOAD_QR_CODE_REDIRECT,
                    render: () => {
                        var e, t, a;
                        let d = null === (e = v.default.getSuperProperties()) || void 0 === e ? void 0 : e.os,
                            n = (0, c.parse)((null !== (a = window.location.search) && void 0 !== a ? a : "").substr(1)),
                            i = null === (t = n.referring_location) || void 0 === t ? void 0 : t.toString();
                        return ("iOS" === d || "Android" === d) && v.default.track(N.AnalyticEvents.DOWNLOAD_APP, {
                            platform: d,
                            ptb: !1,
                            released: !0,
                            has_e_mail: "true" === n.has_e_mail,
                            referring_location: i,
                            qr_code: !0
                        }), window.location.href = (0, R.getMobileDownloadLink)(null != i && "" !== i ? i : "qr_code", d), null
                    }
                }), (0, d.jsx)(m.default, {
                    path: N.Routes.OPEN_APP_FROM_EMAIL,
                    render: () => {
                        var e, t;
                        let a = null === (e = v.default.getSuperProperties()) || void 0 === e ? void 0 : e.os,
                            n = (0, w.getOpenAppFromEmailDestinations)(null !== (t = window.location.search) && void 0 !== t ? t : "");
                        if ("iOS" !== a && "Android" !== a) return (0, d.jsx)(o.Redirect, {
                            to: null != n.desktop ? "".concat(n.desktop.pathname).concat(n.desktop.search) : N.Routes.APP
                        });
                        {
                            let e = (0, R.getMobileDownloadLink)("app_open_from_email", a, n.mobile),
                                t = (0, l.parseDynamicLink)(e);
                            null != t && v.default.track(N.AnalyticEvents.DEEP_LINK_CLICKED, {
                                fingerprint: (0, s.maybeExtractId)(t.fingerprint),
                                attempt_id: t.attemptId,
                                source: t.utmSource,
                                destination: null != n.mobile ? n.mobile.toString() : null
                            }), window.location.href = e
                        }
                    }
                }), (0, d.jsx)(o.Redirect, {
                    from: N.Routes.CONNECT_AUTHORIZE,
                    to: {
                        ...location,
                        pathname: N.Routes.OAUTH2_AUTHORIZE
                    }
                }), (0, d.jsx)(o.Route, {
                    path: [N.Routes.OAUTH2_AUTHORIZED, N.Routes.OAUTH2_AUTHORIZE, N.Routes.OAUTH2_ERROR, N.Routes.OAUTH2_WHITELIST_ACCEPT],
                    component: G
                }), t ? null : (0, d.jsx)(o.Route, {
                    path: [N.Routes.ACCOUNT_STANDING],
                    component: K
                }), t ? null : (0, d.jsx)(o.Route, {
                    path: N.Routes.APPLICATION_STORE,
                    component: p.default
                }), t ? null : (0, d.jsx)(o.Route, {
                    path: [N.Routes.APPLICATION_DIRECTORY_SEARCH, N.Routes.APPLICATION_DIRECTORY_PROFILE(":applicationId", ":section?"), N.Routes.APPLICATION_DIRECTORY],
                    component: H
                }), (0, d.jsx)(o.Route, {
                    render: q
                })]
            }) : (0, d.jsx)(o.Switch, {
                children: (0, d.jsx)(m.default, {
                    component: P
                })
            }), (0, d.jsxs)(E.default, {
                skipsSettingDefaultPageTitle: n,
                children: [e, S.isPlatformEmbedded && (a === g.MigrationStatus.NOT_STARTED || a === g.MigrationStatus.IN_PROGRESS) && !0 !== b.Storage.get(f.DOMAIN_MIGRATION_SUCCESS_KEY) ? (0, d.jsx)(I.default, {}) : null]
            })
        }
    }
    t.default = u.default.connectStores([T.default, g.default], () => ({
        isAuthenticated: T.default.isAuthenticated(),
        migrationStatus: g.default.getMigrationStatus()
    }), {
        forwardRef: !0
    })(function(e) {
        let t = function() {
            let {
                pathname: e
            } = (0, o.useLocation)();
            return null != (0, i.matchPath)(e, {
                path: N.Routes.APPLICATION_DIRECTORY
            })
        }();
        return (0, d.jsx)(Q, {
            ...e,
            skipsSettingDefaultPageTitle: t
        })
    })
}