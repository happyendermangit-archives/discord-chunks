{
    "exports": {
        "default": {
            "instantBatchUpload": "function(e){let{channelId:t,files:n,draftType:i,isThumbnail:a=!1,filesMetadata:s=[]}=e,l=Array.from(n).map((e,n)=>{let i=null!=s?s[n]:{};return new c.CloudUpload({file:e,platform:f.UploadPlatform.WEB,isThumbnail:a,...i},t)});M({channelId:t,uploads:l,draftType:i})}",
            "upload": "function e(t){let{channelId:n,file:r,draftType:u,message:d,hasSpoiler:c,filename:f}=t,h={content:\"\",tts:!1,hasSpoiler:c,filename:f};if(null!=d){h.content=d.content,h.tts=d.tts,h.channel_id=d.channel_id;let e=S.default.getPendingReply(n);if(null!=e){let t=l.default.getSendMessageOptionsForReply(e);h.type=O.MessageTypes.REPLY,h.message_reference=t.messageReference,h.allowed_mentions=t.allowedMentions,(0,y.deletePendingReply)(n)}}let E=new p.default(O.Endpoints.MESSAGES(n));E.on(\"start\",e=>{a.default.dispatch({type:\"UPLOAD_START\",channelId:n,file:e,uploader:E})}),E.on(\"progress\",e=>{a.default.dispatch({type:\"UPLOAD_PROGRESS\",channelId:n,file:e})}),E.on(\"error\",(t,c,f)=>{if(a.default.dispatch({type:\"UPLOAD_FAIL\",channelId:n,file:t}),(0,I.logMessageSendFailure)({fileItems:t.items,failureCode:c}),c===O.AbortCodes.EXPLICIT_CONTENT){l.default.sendExplicitMediaClydeError(n,f?.attachments,m.TrackMediaRedactionContext.EXPLICIT_MEDIA_MESSAGE_SEND_BLOCKED);return}(0,o.openUploadError)({title:R.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,help:R.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_HELP.format({onClick:()=>{(0,i.closeModal)(o.UPLOAD_ERROR_MODAL_KEY),e({channelId:n,file:r,draftType:u,message:d})}})}),\"\"!==h.content&&\"\"===x.default.getDraft(n,u)&&s.default.saveDraft(n,h.content,u)}),E.on(\"complete\",e=>{a.default.dispatch({type:\"UPLOAD_COMPLETE\",channelId:n,file:e})}),E.upload(r,h)}",
            "uploadFiles": "async function M(e){let t,{channelId:n,uploads:i,draftType:c,parsedMessage:f,options:M={},raiseEndpointErrors:v=!1}=e,L=new p.default(O.Endpoints.MESSAGES(n)),P=new N.Future,b={content:\"\",nonce:\"\",channel_id:n,type:O.MessageTypes.DEFAULT,sticker_ids:M?.stickerIds,poll:M?.poll};null!=f&&(b.content=f?.content),null!=S.default.getPendingReply(n)&&(b.type=O.MessageTypes.REPLY,b.message_reference=M.messageReference,b.allowed_mentions=M.allowedMentions,(0,y.deletePendingReply)(n));let[k,D]=(0,g.default)(b.content);k&&(b.content=D,b.flags=(0,A.addFlag)(b.flags??0,O.MessageFlags.SUPPRESS_NOTIFICATIONS));let U=M.nonce??(0,_.createNonce)(),j=(0,_.default)({channelId:n,content:b.content,tts:f?.tts??!1,type:b.type,messageReference:b.message_reference,flags:b.flags,nonce:U,poll:(0,C.createPollServerDataFromCreateRequest)(M.poll)});return(b.nonce=U,L.on(\"start\",e=>{t=(0,E.createMessageRecord)({...j,id:e.id}),a.default.dispatch({type:\"UPLOAD_START\",channelId:n,file:e,message:t,uploader:L})}),L.on(\"progress\",e=>{a.default.dispatch({type:\"UPLOAD_PROGRESS\",channelId:n,file:e})})),L.on(\"error\",(e,f,p,E)=>{if(a.default.dispatch({type:\"UPLOAD_FAIL\",channelId:n,file:e,messageRecord:t}),(0,I.logMessageSendFailure)({fileItems:e.items,failureCode:f,errorMessage:E?.msg}),f===O.AbortCodes.EXPLICIT_CONTENT){l.default.sendExplicitMediaClydeError(n,p?.attachments,m.TrackMediaRedactionContext.EXPLICIT_MEDIA_MESSAGE_SEND_BLOCKED);return}if(f===O.AbortCodes.AUTOMOD_MESSAGE_BLOCKED){let e={code:f,message:p?.message},i=null==t?null:{type:d.MessageDataType.SEND,message:{...t,channelId:n}};(0,o.openUploadError)({title:R.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,help:(0,h.getAutomodErrorMessage)(i,e)});return}f!==O.AbortCodes.GUILD_FILE_UPLOAD_RATE_LIMITED_ACCESS&&(v?P.reject(new u.APIError({status:f,body:p??{}},f)):(0,o.openUploadError)({title:R.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,help:R.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_RETRY_HELP}),\"\"!==b.content&&\"\"===x.default.getDraft(n,c)&&s.default.saveDraft(n,b.content,c),0===T.default.getUploadCount(n,c)&&r.default.setUploads({channelId:n,uploads:i,draftType:c}))}),L.on(\"complete\",(e,t)=>{a.default.dispatch({type:\"UPLOAD_COMPLETE\",channelId:n,file:e,aborted:L._aborted,messageRecord:t})}),await L.uploadFiles(i,b),P.resolve(),P.promise}",
            "cancel": "cancel(e){a.default.dispatch({type:\"UPLOAD_CANCEL_REQUEST\",file:e}),null!=e.draftContent&&null!=e.channelId&&\"\"===x.default.getDraft(e.channelId,x.DraftType.ChannelMessage)&&a.default.dispatch({type:\"DRAFT_SAVE\",channelId:e.channelId,draft:e.draftContent,draftType:x.DraftType.ChannelMessage})}"
        }
    }
}