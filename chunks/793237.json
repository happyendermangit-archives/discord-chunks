{
    "exports": {
        "setHighlightedSummary": "function _(e,t){u.default.dispatch({type:\"SET_HIGHLIGHTED_SUMMARY\",channelId:e,summaryId:null!=t?t:null})}",
        "toggleTopicsBar": "function N(){u.default.dispatch({type:\"TOGGLE_TOPICS_BAR\"})}",
        "setSelectedSummary": "function A(e,t){null!=e&&null!=t&&v(e,t),u.default.dispatch({type:\"SET_SELECTED_SUMMARY\",channelId:e,summaryId:null!=t?t:null})}",
        "updateVisibleMessages": "function x(e,t){u.default.dispatch({type:\"UPDATE_VISIBLE_MESSAGES\",topVisibleMessage:null!=e?e:null,bottomVisibleMessage:null!=t?t:null})}",
        "useSummaryPolling": "function O(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,r.default)([p.default],()=>p.default.getChannel(e),[e]),[i,a]=l.useState(null),o=(0,c.useChannelSummariesExperiment)(n)&&!s.isMobile;l.useEffect(()=>{if(o)return a(e),()=>{a(null)}},[e,o]),l.useEffect(()=>{if(i!==e&&null!=i&&b.stopPolling(e),o&&null!=i)return(t||null!=e&&i!==e)&&b.fetchSummaries(e),b.startPolling(e),()=>{null!=i&&b.stopPolling(e)}},[e,t,i,o])}",
        "setSummaryFeedback": "function R(e,t){u.default.dispatch({type:\"SET_SUMMARY_FEEDBACK\",summary:e,rating:t})}",
        "deleteSummary": "async function P(e){try{await o.default.delete(\"/channels/\".concat(e.channelId,\"/summaries/\").concat(e.id)),u.default.dispatch({type:\"DELETE_SUMMARY\",summary:e})}catch(e){throw new d.APIError(e)}}",
        "default": {
            "startPolling": "function(e){let t=y(e,1);t-1==0&&(T[e]=setInterval(async()=>{await b.fetchSummaries(e)},C))}",
            "stopPolling": "function(e){let t=y(e,-1);t<=0&&(y(e,0),clearInterval(T[e]))}",
            "setSummaryFeedback": "function R(e,t){u.default.dispatch({type:\"SET_SUMMARY_FEEDBACK\",summary:e,rating:t})}",
            "useSummaryPolling": "function O(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,r.default)([p.default],()=>p.default.getChannel(e),[e]),[i,a]=l.useState(null),o=(0,c.useChannelSummariesExperiment)(n)&&!s.isMobile;l.useEffect(()=>{if(o)return a(e),()=>{a(null)}},[e,o]),l.useEffect(()=>{if(i!==e&&null!=i&&b.stopPolling(e),o&&null!=i)return(t||null!=e&&i!==e)&&b.fetchSummaries(e),b.startPolling(e),()=>{null!=i&&b.stopPolling(e)}},[e,t,i,o])}",
            "updateVisibleMessages": "function x(e,t){u.default.dispatch({type:\"UPDATE_VISIBLE_MESSAGES\",topVisibleMessage:null!=e?e:null,bottomVisibleMessage:null!=t?t:null})}",
            "setSelectedSummary": "function A(e,t){null!=e&&null!=t&&v(e,t),u.default.dispatch({type:\"SET_SELECTED_SUMMARY\",channelId:e,summaryId:null!=t?t:null})}",
            "setHighlightedSummary": "function _(e,t){u.default.dispatch({type:\"SET_HIGHLIGHTED_SUMMARY\",channelId:e,summaryId:null!=t?t:null})}",
            "fetchSummaries": "async function I(e){var t,n;let l,i;if(!E.default.shouldFetch(e))return;let s=Date.now();u.default.dispatch({type:\"REQUEST_CHANNEL_SUMMARIES\",channelId:e,requestedAt:s});try{i=await o.default.get(\"/channels/\".concat(e,\"/summaries\"))}catch(e){l=new d.APIError(e)}let r=(null==i?void 0:null===(t=i.body)||void 0===t?void 0:t.summaries)instanceof Array?i.body.summaries:null!==(n=null==i?void 0:i.body)&&void 0!==n?n:[];r=a.takeRight(r,75),u.default.dispatch({type:\"RECEIVE_CHANNEL_SUMMARIES\",channelId:e,summaries:r,error:null!=l?l:void 0,requestedAt:s,receivedAt:Date.now()})}",
            "fetchSummariesBulk": "async function L(e){let t,n,{useQuickSwitcher:l=!0,useChannelAffinities:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=null!=e?e:[];let a=Date.now();if(0===(e=e.concat(E.default.defaultChannelIds({withQuickSwitcher:l,withChannelAffinities:i})).filter(e=>{let t=p.default.getChannel(e);return(0,c.canSeeChannelSummaries)(t,!1,!0)}).filter(e=>{let t=Date.now(),n=E.default.status(e);if(null==n?void 0:n.fetching)return!1;let l=null==n?void 0:n.lastReceivedAt;return null==l||t-l>g}).slice(0,50)).length)return Promise.resolve(null);u.default.dispatch({type:\"REQUEST_CHANNEL_SUMMARIES_BULK\",channelIds:e,requestedAt:a});try{n=await o.default.post({url:\"/users/@me/summaries\",body:{channel_ids:e}})}catch(e){t=new d.APIError(e)}let s=null==n?void 0:n.body.summaries;u.default.dispatch({type:\"RECEIVE_CHANNEL_SUMMARIES_BULK\",requestedAt:a,receivedAt:Date.now(),summaries:s,requestArgs:{channelIds:e},error:t})}",
            "useChannelSummaries": "function(e){let{channelIds:t=[]}=e;return!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=l.useMemo(()=>e.join(\",\"),[e]);l.useEffect(()=>{(async function e(){try{await M()}catch(e){}try{var e,n;(null===(e=m.default.getProps().results)||void 0===e?void 0:e.length)===0&&(0,f.search)(null!==(n=m.default.getProps().query)&&void 0!==n?n:\"\")}catch(e){}await L(t.split(\",\"))})()},[t])}(t),(0,r.useStateFromStoresArray)([E.default],()=>E.default.topSummaries(),[])}",
            "deleteSummary": "async function P(e){try{await o.default.delete(\"/channels/\".concat(e.channelId,\"/summaries/\").concat(e.id)),u.default.dispatch({type:\"DELETE_SUMMARY\",summary:e})}catch(e){throw new d.APIError(e)}}"
        }
    }
}