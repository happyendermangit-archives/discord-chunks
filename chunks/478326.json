{
    "exports": {
        "EXPRESSION_TOOLTIP_PROPS": {
            "delay": 300,
            "position": "top"
        },
        "ErrorLoadingBar": "e=>{let{onClick:t,loading:n}=e;return(0,s.jsx)(b.MessagesInteractionContext.Consumer,{children:e=>e.disableInteractions?null:(0,s.jsxs)(p.Clickable,{className:z.messagesErrorBar,onClick:t,focusProps:{offset:{top:4,right:4,bottom:12,left:4}},children:[(0,s.jsx)(\"div\",{className:z.barButtonMain,children:W.default.Messages.MESSAGES_FAILED_TO_LOAD}),n?(0,s.jsx)(p.Spinner,{type:p.Spinner.Type.PULSING_ELLIPSIS,className:z.spinner,itemClassName:z.spinnerItem}):(0,s.jsx)(\"div\",{className:z.barButtonAlt,children:W.default.Messages.MESSAGES_FAILED_TO_LOAD_TRY_AGAIN})]})})}",
        "JumpBarType": {
            "0": "OLD_MESSAGES",
            "1": "REPLY",
            "OLD_MESSAGES": 0,
            "REPLY": 1
        },
        "JumpToPresentBar": "e=>{let{type:t=0,onClick:n}=e;return(0,s.jsx)(b.MessagesInteractionContext.Consumer,{children:e=>e.disableInteractions?null:(0,s.jsxs)(\"div\",{className:z.jumpToPresentBar,children:[(0,s.jsx)(p.FocusRing,{offset:4,children:(0,s.jsx)(\"button\",{type:\"button\",onClick:n,className:z.barButtonMain,children:function(e){switch(e){case 0:return W.default.Messages.YOURE_VIEWING_OLDER_MESSAGES;case 1:return W.default.Messages.JUMP_BAR_VIEWING_REPLY;default:return(0,F.assertNever)(e)}}(t)})}),null!=n?(0,s.jsx)(p.FocusRing,{offset:4,children:(0,s.jsxs)(\"button\",{type:\"button\",onClick:n,className:z.barButtonAlt,children:[function(e){switch(e){case 0:return W.default.Messages.JUMP_TO_PRESENT;case 1:return W.default.Messages.JUMP_TO_ORIGINAL_MESSAGE;default:return(0,F.assertNever)(e)}}(t),(0,s.jsx)(k.default,{className:z.barButtonIcon})]})}):(0,s.jsx)(p.Spinner,{type:p.Spinner.Type.PULSING_ELLIPSIS,className:z.spinner,itemClassName:z.spinnerItem})]})})}",
        "MessagePopoutContent": "e=>{let{children:t,className:n}=e;return(0,s.jsx)(\"div\",{className:o()(z.popoutContainer,n),children:t})}",
        "NewMessagesBar": "function es(e){let{content:t,channelId:n}=e,[i]=l.useState(()=>(0,P.uid)(\"NewMessagesBarJumpToNewMessages_\")),a=l.useCallback(()=>{let e=O.default.ackMessageId(n);null!=e?m.default.jumpToMessage({channelId:n,messageId:e,offset:1,context:\"Mark As Read\"}):m.default.jumpToMessage({channelId:n,messageId:B.default.castChannelIdAsMessageId(n),offset:1,context:\"Mark As Read\"})},[n]),r=l.useCallback(()=>{(0,h.ack)(n)},[n]),{disableInteractions:u}=l.useContext(b.MessagesInteractionContext);return u?null:(0,s.jsxs)(\"div\",{className:o()(z.newMessagesBar,{[z.disableInteractions]:u}),children:[(0,s.jsx)(p.FocusRing,{offset:4,children:(0,s.jsx)(\"button\",{type:\"button\",className:z.barButtonMain,onClick:a,\"aria-label\":W.default.Messages.JUMP_TO_LAST_UNREAD_MESSAGE,\"aria-describedby\":i,children:(0,s.jsx)(\"span\",{id:i,className:z.span,children:t})})}),(0,s.jsx)(p.FocusRing,{offset:4,children:(0,s.jsxs)(\"button\",{type:\"button\",onClick:r,className:z.barButtonAlt,children:[W.default.Messages.MARK_AS_READ,(0,s.jsx)(D.default,{className:z.barButtonIcon})]})})]})}",
        "NewTopicsBar": "function el(e){let{channel:t,content:n,scrollManager:i}=e,{disableInteractions:a}=l.useContext(b.MessagesInteractionContext),[r,u]=l.useState(null),E=l.useRef(null),[_,T]=l.useState(null),A=l.useRef(null),N=(0,f.useStateFromStoresArray)([g.default],()=>g.default.summaries(t.id)??[],[t]),M=(0,C.default)(N);l.useEffect(()=>{!d().isEqual(M,N)&&w.default.track(H.AnalyticEvents.SUMMARIES_TOPICS_PILL_VIEWED,{num_summaries:N.length,message_counts:N.map(e=>e.count),start_message_ids:N.map(e=>e.startId),end_message_ids:N.map(e=>e.endId),num_participants:N.map(e=>e.people.length),guild_id:t.guild_id,channel_id:t.id,channel_type:t.type})},[N,M,t.guild_id,t.id,t.type]);let v=(0,f.useStateFromStores)([R.default],()=>N?.map(e=>e.people?.map(e=>R.default.getUser(e)??null).filter(F.isNotNullish))??[],[N],er),L=(0,f.useStateFromStores)([g.default],()=>g.default.visibleSummaryIndex())??-1,P=N?.[L]?.topic;null==P&&null==r&&N?.length>=1&&(P=N[0]?.topic);let G=l.useMemo(()=>d().debounce(e=>{u(e?.id??null)},64),[u]),V=l.useMemo(()=>d().throttle(()=>{(0,S.setHighlightedSummary)(null)},1200,{trailing:!1}),[]),K=l.useCallback(e=>{V(),G(e)},[G,V]),[J,Z]=l.useState(!1),$=l.useCallback(()=>{w.default.track(H.AnalyticEvents.SUMMARIES_TOPICS_PILL_TOGGLED,{topics_dropdown_open:!J,num_summaries:N.length,message_counts:N.map(e=>e.count),start_message_ids:N.map(e=>e.startId),end_message_ids:N.map(e=>e.endId),num_participants:N.map(e=>e.people.length),guild_id:t.guild_id,channel_id:t.id,channel_type:t.type}),Z(!J)},[J,N,Z,t]),q=l.useCallback(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y.SummariesTopicClickedSource.PILL_DROPDOWN,a=N[e];if(null==a)return;(0,S.setSelectedSummary)(t.id,a.id),(0,S.setHighlightedSummary)(t.id,a.id);let s=()=>{i.removeScrollCompleteCallback(s),setTimeout(()=>{i.addAutomaticAnchorCallback(K,!1)},100)};i.removeAutomaticAnchorCallback(K),i.addScrollCompleteCallback(s),w.default.track(H.AnalyticEvents.SUMMARIES_TOPIC_CLICKED,{source:n,message_id:a.startId,guild_id:t.guild_id,channel_id:t.id,channel_type:t.type}),m.default.jumpToMessage({channelId:t.id,messageId:a.startId,flash:!0,offset:0,jumpType:I.JumpTypes.ANIMATED,context:\"Summary Jump\"})},[N,t,K,i]),X=l.useCallback(e=>{Z(e);let t=A.current?.scrollTop;null!=t&&T(t)},[]);l.useEffect(()=>{null!=_&&J&&A.current?.scrollTo({top:_})},[_,J]);let Q=l.useCallback(e=>{!((0,c.isElement)(e.target)&&E.current?.contains(e.target))&&(J&&w.default.track(H.AnalyticEvents.SUMMARIES_TOPICS_PILL_TOGGLED,{topics_dropdown_open:!1,num_summaries:N.length,message_counts:N.map(e=>e.count),start_message_ids:N.map(e=>e.startId),end_message_ids:N.map(e=>e.endId),num_participants:N.map(e=>e.people.length),guild_id:t.guild_id,channel_id:t.id,channel_type:t.type}),X(!1))},[J,N,t,X]);l.useEffect(()=>(i.addAutomaticAnchorCallback(K),()=>{i.removeAutomaticAnchorCallback(K)}),[i,K]),(0,S.useSummaryPolling)(t.id,!0),l.useEffect(()=>(document.addEventListener(\"mousedown\",Q),()=>{document.removeEventListener(\"mousedown\",Q)}),[Q]);let ee=l.useMemo(()=>(0,s.jsx)(x.default,{channel:t,summaries:N,summariesMembers:v,selectTopic:q,setOpen:X}),[N,v,q,X,t]),et=l.useCallback(()=>{let e=O.default.ackMessageId(t.id);null!=e?m.default.jumpToMessage({channelId:t.id,messageId:e,offset:1,context:\"Mark As Read\"}):m.default.jumpToMessage({channelId:t.id,messageId:B.default.castChannelIdAsMessageId(t.id),offset:1,context:\"Mark As Read\"})},[t.id]),en=l.useCallback(()=>{(0,h.ack)(t.id)},[t.id]),ei=W.default.Messages.SUMMARIES_NO_SUMMARIES;return N.length>0&&(ei=\"\"===P||null==P?W.default.Messages.SUMMARIES_VIEW_ALL:P),a?null:(0,s.jsxs)(\"div\",{ref:E,className:o()(z.newTopicsBarContainer,z.containerMarginTop),children:[(0,s.jsx)(\"div\",{className:o()(z.newTopicsBarTopicSection),children:(0,s.jsx)(p.Clickable,{className:z.newTopicsBarTextClickable,\"aria-label\":W.default.Messages.SUMMARY_PILL,onClick:$,children:(0,s.jsxs)(\"div\",{className:o()({[z.newTopicsBarTextUnselected]:!J,[z.newTopicsBarTextSelected]:J}),children:[(0,s.jsx)(j.default,{className:z.newTopicsBarIcon,width:16,height:16}),(0,s.jsx)(p.Text,{variant:\"text-sm/medium\",className:o()(z.newTopicsBarCompact,z.newTopicsBarText),children:ei}),(0,s.jsx)(k.default,{width:16,height:16,direction:k.default.Directions.DOWN,className:z.newTopicsBarCaret})]})})}),(0,s.jsx)(p.Clickable,{onClick:et,className:o()(z.barButtonMain,z.newTopicsBarInitial),children:n}),(0,s.jsxs)(p.Clickable,{onClick:en,className:o()(z.barButtonAlt,z.flexEnd),children:[(0,s.jsx)(\"div\",{className:z.newTopicsBarCompact,children:W.default.Messages.MARK_AS_READ}),(0,s.jsx)(D.default,{className:z.barButtonIcon})]}),J&&(0,s.jsxs)(\"div\",{className:z.topicsDropdown,children:[(0,s.jsxs)(\"div\",{className:z.topicsDropdownHeading,children:[(0,s.jsxs)(\"div\",{className:z.topicsDropdownHeadingText,children:[(0,s.jsx)(j.default,{className:z.topicsPillHeadingIcon,width:18,height:20}),(0,s.jsx)(p.Heading,{variant:\"heading-md/bold\",color:\"header-primary\",lineClamp:1,children:W.default.Messages.SUMMARIES}),(0,s.jsx)(y.default,{className:z.summariesBetaTag})]}),(0,s.jsx)(p.Clickable,{\"aria-label\":W.default.Messages.CLOSE,onClick:$,className:z.topicsDropdownClose,children:(0,s.jsx)(U.default,{})})]}),(0,s.jsx)(p.Scroller,{ref:A,className:z.topicsScroller,fade:!0,children:ee})]})]})}",
        "PopoutLoadingAnimation": "e=>{let{className:t}=e;return(0,s.jsx)(ed,{className:t,children:(0,s.jsx)(\"div\",{className:z.popoutLoadingBackground,children:(0,s.jsx)(\"div\",{className:z.popoutLoadingForeground})})})}",
        "TopicsPill": "function eo(e){let{channel:t,scrollManager:n}=e,{disableInteractions:i}=l.useContext(b.MessagesInteractionContext),[a,r]=l.useState(null),u=l.useRef(null),[h,E]=l.useState(null),_=l.useRef(null),T=(0,f.useStateFromStoresArray)([g.default],()=>g.default.summaries(t.id)??[],[t]),A=(0,C.default)(T);l.useEffect(()=>{!d().isEqual(A,T)&&w.default.track(H.AnalyticEvents.SUMMARIES_TOPICS_PILL_VIEWED,{num_summaries:T.length,message_counts:T.map(e=>e.count),start_message_ids:T.map(e=>e.startId),end_message_ids:T.map(e=>e.endId),num_participants:T.map(e=>e.people.length),guild_id:t.guild_id,channel_id:t.id,channel_type:t.type})},[T,A,t.guild_id,t.id,t.type]);let N=(0,f.useStateFromStores)([R.default],()=>T?.map(e=>e.people?.map(e=>R.default.getUser(e)??null).filter(F.isNotNullish))??[],[T],er),O=(0,f.useStateFromStores)([g.default],()=>g.default.visibleSummaryIndex())??-1,M=T?.[O]?.topic;null==M&&null==a&&T?.length>=1&&(M=T[0]?.topic);let v=l.useMemo(()=>d().get(T,O-1),[O,T]),L=l.useMemo(()=>d().get(T,O+1),[O,T]),P=l.useMemo(()=>d().debounce(e=>{r(e?.id??null)},64),[r]),D=l.useMemo(()=>d().throttle(()=>{(0,S.setHighlightedSummary)(null)},1200,{trailing:!1}),[]),G=l.useCallback(e=>{D(),P(e)},[P,D]),[B,V]=l.useState(!1),K=l.useCallback(()=>{w.default.track(H.AnalyticEvents.SUMMARIES_TOPICS_PILL_TOGGLED,{topics_dropdown_open:!B,num_summaries:T.length,message_counts:T.map(e=>e.count),start_message_ids:T.map(e=>e.startId),end_message_ids:T.map(e=>e.endId),num_participants:T.map(e=>e.people.length),guild_id:t.guild_id,channel_id:t.id,channel_type:t.type}),V(!B)},[B,T,V,t]),J=l.useCallback(function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y.SummariesTopicClickedSource.PILL_DROPDOWN,a=T[e];if(null==a)return;(0,S.setSelectedSummary)(t.id,a.id),(0,S.setHighlightedSummary)(t.id,a.id);let s=()=>{n.removeScrollCompleteCallback(s),setTimeout(()=>{n.addAutomaticAnchorCallback(G,!1)},100)};n.removeAutomaticAnchorCallback(G),n.addScrollCompleteCallback(s),w.default.track(H.AnalyticEvents.SUMMARIES_TOPIC_CLICKED,{source:i,message_id:a.startId,guild_id:t.guild_id,channel_id:t.id,channel_type:t.type}),m.default.jumpToMessage({channelId:t.id,messageId:a.startId,flash:!0,offset:0,jumpType:I.JumpTypes.ANIMATED,context:\"Summary Jump\"})},[T,t,G,n]),Z=l.useCallback(()=>{J(O-1,Y.SummariesTopicClickedSource.PILL_NEXT_ARROW)},[J,O]),$=l.useCallback(()=>{J(O+1,Y.SummariesTopicClickedSource.PILL_PREVIOUS_ARROW)},[O,J]),q=l.useCallback(e=>{V(e);let t=_.current?.scrollTop;null!=t&&E(t)},[]);l.useEffect(()=>{null!=h&&B&&_.current?.scrollTo({top:h})},[h,B]);let X=l.useCallback(e=>{!((0,c.isElement)(e.target)&&u.current?.contains(e.target))&&(B&&w.default.track(H.AnalyticEvents.SUMMARIES_TOPICS_PILL_TOGGLED,{topics_dropdown_open:!1,num_summaries:T.length,message_counts:T.map(e=>e.count),start_message_ids:T.map(e=>e.startId),end_message_ids:T.map(e=>e.endId),num_participants:T.map(e=>e.people.length),guild_id:t.guild_id,channel_id:t.id,channel_type:t.type}),q(!1))},[B,T,t,q]);l.useEffect(()=>(n.addAutomaticAnchorCallback(G),()=>{n.removeAutomaticAnchorCallback(G)}),[n,G]),(0,S.useSummaryPolling)(t.id,!0),l.useEffect(()=>(document.addEventListener(\"mousedown\",X),()=>{document.removeEventListener(\"mousedown\",X)}),[X]);let Q=l.useMemo(()=>(0,s.jsx)(x.default,{channel:t,summaries:T,summariesMembers:N,selectTopic:J,setOpen:q}),[T,N,J,q,t]);if(!(0,f.useStateFromStores)([g.default],()=>g.default.shouldShowTopicsBar()))return null;let ee=W.default.Messages.SUMMARIES_NO_SUMMARIES;return T.length>0&&(ee=\"\"===M||null==M?W.default.Messages.SUMMARIES_VIEW_ALL:M),i?null:(0,s.jsxs)(\"div\",{ref:u,className:o()(z.topicsPillContainer,z.containerMarginTop),children:[(0,s.jsxs)(\"div\",{className:z.topicsPill,children:[(0,s.jsx)(p.Clickable,{className:z.topicsPillText,\"aria-label\":W.default.Messages.SUMMARY_PILL,onClick:K,children:(0,s.jsxs)(\"div\",{className:o()({[z.topicsPillTextUnselected]:!B,[z.topicsPillTextSelected]:B}),children:[(0,s.jsx)(j.default,{className:z.topicsPillSummaryIcon,width:16,height:16}),(0,s.jsx)(p.Text,{className:z.topicsPillTextTitle,variant:\"text-sm/medium\",children:ee}),(0,s.jsx)(k.default,{width:16,height:16,direction:k.default.Directions.DOWN,className:z.topicsPillDropdownCaret})]})}),(0,s.jsxs)(\"div\",{className:z.topicsPillCarets,children:[(0,s.jsx)(p.Clickable,{\"aria-label\":W.default.Messages.SUMMARY_PILL_NEXT,onClick:$,className:o()(z.topicsPillCaret,z.topicsCaretLeft,{[z.topicsPillCaretDisabled]:null==L}),children:(0,s.jsx)(k.default,{width:16,height:16,direction:k.default.Directions.UP})}),(0,s.jsx)(p.Clickable,{\"aria-label\":W.default.Messages.SUMMARY_PILL_PREVIOUS,onClick:Z,className:o()(z.topicsPillCaret,z.topicsCaretRight,{[z.topicsPillCaretDisabled]:null==v}),children:(0,s.jsx)(k.default,{width:16,height:16,direction:k.default.Directions.DOWN})})]})]}),B&&(0,s.jsxs)(\"div\",{className:z.topicsDropdown,children:[(0,s.jsxs)(\"div\",{className:z.topicsDropdownHeading,children:[(0,s.jsxs)(\"div\",{className:z.topicsDropdownHeadingText,children:[(0,s.jsx)(j.default,{className:z.topicsPillHeadingIcon,width:18,height:20}),(0,s.jsx)(p.Heading,{variant:\"heading-md/bold\",color:\"header-primary\",lineClamp:1,children:W.default.Messages.SUMMARIES}),(0,s.jsx)(y.default,{className:z.summariesBetaTag})]}),(0,s.jsx)(p.Clickable,{\"aria-label\":W.default.Messages.CLOSE,onClick:K,className:z.topicsDropdownClose,children:(0,s.jsx)(U.default,{})})]}),(0,s.jsx)(p.Scroller,{ref:_,className:z.topicsScroller,fade:!0,children:Q})]})]})}",
        "renderAudioComponent": "function X(e){let{onVolumeChange:t,volume:n,onMute:i,onVolumeShow:a,onVolumeHide:r,renderAdjacentContent:o,...u}=e,d=Z(t),c=$(i);return n=null==n?G.getVolume:n,(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(M.default,{...u,onVolumeChange:d,onMute:c,onVolumeShow:a,onVolumeHide:r,volume:n,autoMute:()=>!1,renderLinkComponent:et}),null!=o&&o()]})}",
        "renderClickableTooltipNode": "function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,s.jsxs)(\"div\",{className:z.tooltip,children:[(0,s.jsx)(p.Text,{color:\"none\",variant:\"text-sm/semibold\",lineClamp:1,className:z.tooltipEmojiName,children:e}),n&&(0,s.jsxs)(\"div\",{className:z.tooltipPremiumContent,children:[(0,s.jsx)(A.default,{isSelected:!1}),(0,s.jsx)(p.Text,{className:z.clickCTA,color:\"text-muted\",variant:\"text-sm/normal\",children:W.default.Messages.EMBEDDED_ACTIVITIES_PREMIUM_TIER_CUSTOM_EMOJI})]}),t&&(0,s.jsx)(p.Text,{className:z.clickCTA,color:\"text-muted\",variant:\"text-sm/normal\",children:W.default.Messages.EMOJI_TOOLTIP_CLICK_CTA})]})}",
        "renderImageComponent": "function ee(e){let{alt:t,hiddenSpoilers:n,renderAdjacentContent:i,containerClassName:a,imageContainerClassName:r,disableAltTextDisplay:u=!1,mediaLayoutType:d,imageContainerStyle:c}=e,f=d===K.MediaLayoutType.MOSAIC,m=!u&&T.ViewImageDescriptions.getSetting()&&null!=t&&\"\"!==t&&!0!==n,h=e=>{let{altText:t}=e;return(0,s.jsxs)(p.Dialog,{\"aria-label\":W.default.Messages.MEDIA_MOSAIC_ALT_TEXT_POPOUT_TITLE,className:z.mediaMosaicAltTextPopout,onKeyDown:e=>{e.key===V.KeyboardEventKey.Escape&&setTimeout(()=>_.current?.focus(),0)},children:[(0,s.jsx)(\"span\",{className:z.mediaMosaicAltTextPopoutTitle,children:W.default.Messages.MEDIA_MOSAIC_ALT_TEXT_POPOUT_TITLE}),(0,s.jsx)(\"span\",{className:z.mediaMosaicAltTextPopoutDescription,children:t})]})},_=l.createRef();return(0,s.jsxs)(\"div\",{className:o()(z.imageContent,a),children:[(0,s.jsxs)(\"div\",{className:o()(z.imageContainer,r),style:c,children:[(0,s.jsx)(E.default,{...e,renderLinkComponent:et}),null!=i&&i()]}),f&&m&&(0,s.jsx)(\"div\",{className:z.mediaMosaicAltTextContainer,children:(0,s.jsx)(p.Popout,{animation:p.Popout.Animation.FADE,renderPopout:()=>(0,s.jsx)(h,{altText:t}),children:e=>(0,s.jsx)(p.FocusRing,{offset:4,children:(0,s.jsx)(\"button\",{...e,type:\"button\",ref:_,\"aria-label\":W.default.Messages.MEDIA_MOSAIC_ALT_TEXT_POPOUT_TITLE,className:z.mediaMosaicAltText,children:W.default.Messages.MEDIA_MOSAIC_ALT_TEXT_CTA})})})}),!f&&m&&(0,s.jsx)(\"span\",{className:z.altText,children:t})]})}",
        "renderMaskedLinkComponent": "function et(e){return(0,s.jsx)(_.default,{...e})}",
        "renderPlaintextFilePreview": "function en(e){let{renderAdjacentContent:t,...n}=e;return(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(L.default,{...n}),null!=t&&t()]})}",
        "renderVideoComponent": "function q(e){let{onVolumeChange:t,onMute:n,volume:i,autoMute:a,alt:r,renderAdjacentContent:o,renderOverlayContent:u,...d}=e,c=Z(t),f=$(n);return i=null==i?G.getVolume:i,a=null==a?G.getMuted:a,(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(v.default,{...d,alt:r,volume:i,autoMute:a,onVolumeChange:c,onMute:f,renderLinkComponent:et,renderOverlayContent:u}),null!=o&&o()]})}",
        "renderVoiceMessageAudioComponent": "function Q(e){let{onVolumeChange:t,volume:n,onMute:i,...a}=e,l=Z(t),r=$(i);return n=null==n?G.getVolume:n,(0,s.jsx)(N.default,{...a,onVolumeChange:l,onMute:r,volume:n})}"
    }
}