{
    "exports": {
        "SubscriptionRecord": "class I extends o.default{static createFromServer(e){return new I({id:e.id,type:e.type,createdAt:new Date(e.created_at),canceledAt:null!=e.canceled_at?new Date(e.canceled_at):null,currentPeriodStart:new Date(e.current_period_start),currentPeriodEnd:new Date(e.current_period_end),status:e.status,paymentSourceId:e.payment_source_id,paymentGateway:e.payment_gateway,paymentGatewayPlanId:e.payment_gateway_plan_id,paymentGatewaySubscriptionId:e.payment_gateway_subscription_id,trialId:e.trial_id,trialEndsAt:e.trial_ends_at,items:e.items.map(u),renewalMutations:null!=e.renewal_mutations?{items:e.renewal_mutations.items.map(u),paymentGatewayPlanId:e.renewal_mutations.payment_gateway_plan_id}:null,streakStartedAt:null!=e.streak_started_at?new Date(e.streak_started_at):null,currency:e.currency,metadata:e.metadata,useStorekitResubscribe:e.use_storekit_resubscribe,price:e.price,userId:e.user_id,...null!=e.latest_invoice?{latestInvoice:_.default.createInvoiceFromServer(e.latest_invoice)}:{}})}constructor(e){super(),this.id=e.id,this.type=e.type,this.items=e.items,this.createdAt=e.createdAt,this.canceledAt=e.canceledAt,this.currentPeriodStart=e.currentPeriodStart,this.currentPeriodEnd=e.currentPeriodEnd,this.status=e.status,this.paymentSourceId=e.paymentSourceId,this.paymentGateway=e.paymentGateway,this.paymentGatewayPlanId=e.paymentGatewayPlanId,this.paymentGatewaySubscriptionId=e.paymentGatewaySubscriptionId,this.trialId=e.trialId,this.trialEndsAt=e.trialEndsAt,this.renewalMutations=e.renewalMutations,this.currency=e.currency,this.metadata=e.metadata,this.latestInvoice=e.latestInvoice,this.useStorekitResubscribe=e.useStorekitResubscribe,this.price=e.price,this.userId=e.userId;let t=this.renewalMutations,n=e.items[0].planId,i=null;if(e.type===E.SubscriptionTypes.PREMIUM){let r=l.SubscriptionPlanInfo[e.items[0].planId],o=r.interval,s=r.intervalCount;n=(0,a.getBasePlanIdForSubscriptionItems)(e.items,o,s),null!=t&&(i=(0,a.getBasePlanIdForSubscriptionItems)(t.items,o,s))}else null!=t&&t.items.length>0&&(i=t.items[0].planId);this.planId=n,this.additionalPlans=e.items.filter(e=>e.planId!==n),null!=t&&null!=i&&(t.planId=i,t.additionalPlans=t.items.filter(e=>e.planId!==i))}getCurrentSubscriptionPlanIdForGroup(e){return this.items.find(t=>e.includes(t.planId))?.planId}get isPremium(){return this.type===E.SubscriptionTypes.PREMIUM}get planIdForCurrencies(){let e;return this.isPremium?(r()(this.planIdFromItems,\"Premium subscription has no planId for currencies\"),e=this.planIdFromItems):e=this.planId,e}get planIdFromItems(){return this.getCurrentSubscriptionPlanIdForGroup(Object.values(l.SubscriptionPlans))}get isPurchasedViaApple(){return this.paymentGateway===E.PaymentGateways.APPLE}get isPurchasedViaGoogle(){return this.paymentGateway===E.PaymentGateways.GOOGLE}get isPurchasedExternally(){return this.isPurchasedViaApple||this.isPurchasedViaGoogle}get isOnPlatformMatchingExternalPaymentGateway(){return this.isPurchasedViaApple&&(0,s.isIOS)()||this.isPurchasedViaGoogle&&(0,s.isAndroid)()}get hasExternalPlanChange(){return this.isPurchasedExternally&&null!=this.renewalMutations&&this.paymentGatewayPlanId!==this.renewalMutations.paymentGatewayPlanId}get hasPremiumNitroMonthly(){return null!=this.items.find(e=>e.planId===l.SubscriptionPlans.PREMIUM_MONTH_TIER_2)}}",
        "default": "class I extends o.default{static createFromServer(e){return new I({id:e.id,type:e.type,createdAt:new Date(e.created_at),canceledAt:null!=e.canceled_at?new Date(e.canceled_at):null,currentPeriodStart:new Date(e.current_period_start),currentPeriodEnd:new Date(e.current_period_end),status:e.status,paymentSourceId:e.payment_source_id,paymentGateway:e.payment_gateway,paymentGatewayPlanId:e.payment_gateway_plan_id,paymentGatewaySubscriptionId:e.payment_gateway_subscription_id,trialId:e.trial_id,trialEndsAt:e.trial_ends_at,items:e.items.map(u),renewalMutations:null!=e.renewal_mutations?{items:e.renewal_mutations.items.map(u),paymentGatewayPlanId:e.renewal_mutations.payment_gateway_plan_id}:null,streakStartedAt:null!=e.streak_started_at?new Date(e.streak_started_at):null,currency:e.currency,metadata:e.metadata,useStorekitResubscribe:e.use_storekit_resubscribe,price:e.price,userId:e.user_id,...null!=e.latest_invoice?{latestInvoice:_.default.createInvoiceFromServer(e.latest_invoice)}:{}})}constructor(e){super(),this.id=e.id,this.type=e.type,this.items=e.items,this.createdAt=e.createdAt,this.canceledAt=e.canceledAt,this.currentPeriodStart=e.currentPeriodStart,this.currentPeriodEnd=e.currentPeriodEnd,this.status=e.status,this.paymentSourceId=e.paymentSourceId,this.paymentGateway=e.paymentGateway,this.paymentGatewayPlanId=e.paymentGatewayPlanId,this.paymentGatewaySubscriptionId=e.paymentGatewaySubscriptionId,this.trialId=e.trialId,this.trialEndsAt=e.trialEndsAt,this.renewalMutations=e.renewalMutations,this.currency=e.currency,this.metadata=e.metadata,this.latestInvoice=e.latestInvoice,this.useStorekitResubscribe=e.useStorekitResubscribe,this.price=e.price,this.userId=e.userId;let t=this.renewalMutations,n=e.items[0].planId,i=null;if(e.type===E.SubscriptionTypes.PREMIUM){let r=l.SubscriptionPlanInfo[e.items[0].planId],o=r.interval,s=r.intervalCount;n=(0,a.getBasePlanIdForSubscriptionItems)(e.items,o,s),null!=t&&(i=(0,a.getBasePlanIdForSubscriptionItems)(t.items,o,s))}else null!=t&&t.items.length>0&&(i=t.items[0].planId);this.planId=n,this.additionalPlans=e.items.filter(e=>e.planId!==n),null!=t&&null!=i&&(t.planId=i,t.additionalPlans=t.items.filter(e=>e.planId!==i))}getCurrentSubscriptionPlanIdForGroup(e){return this.items.find(t=>e.includes(t.planId))?.planId}get isPremium(){return this.type===E.SubscriptionTypes.PREMIUM}get planIdForCurrencies(){let e;return this.isPremium?(r()(this.planIdFromItems,\"Premium subscription has no planId for currencies\"),e=this.planIdFromItems):e=this.planId,e}get planIdFromItems(){return this.getCurrentSubscriptionPlanIdForGroup(Object.values(l.SubscriptionPlans))}get isPurchasedViaApple(){return this.paymentGateway===E.PaymentGateways.APPLE}get isPurchasedViaGoogle(){return this.paymentGateway===E.PaymentGateways.GOOGLE}get isPurchasedExternally(){return this.isPurchasedViaApple||this.isPurchasedViaGoogle}get isOnPlatformMatchingExternalPaymentGateway(){return this.isPurchasedViaApple&&(0,s.isIOS)()||this.isPurchasedViaGoogle&&(0,s.isAndroid)()}get hasExternalPlanChange(){return this.isPurchasedExternally&&null!=this.renewalMutations&&this.paymentGatewayPlanId!==this.renewalMutations.paymentGatewayPlanId}get hasPremiumNitroMonthly(){return null!=this.items.find(e=>e.planId===l.SubscriptionPlans.PREMIUM_MONTH_TIER_2)}}"
    }
}