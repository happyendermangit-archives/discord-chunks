{
    "exports": {
        "default": {
            "receiveMessage": "receiveMessage(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s.default.dispatch({type:\"MESSAGE_CREATE\",channelId:e,message:t,optimistic:n,sendMessageOptions:a,isPushNotification:!1})}",
            "sendBotMessage": "sendBotMessage(e,t,n,a){null!=n&&d.default.trackWithMetadata(es.AnalyticEvents.AUTOMATED_MESSAGE_RECEIVED,{message_author:\"Clyde\",message_name:n}),eS.receiveMessage(e,(0,O.createBotMessage)({messageId:a,channelId:e,content:t,loggingName:n}))}",
            "sendClydeError": "sendClydeError(e){let t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=Y.default.getChannel(e);null!=l&&(a===es.AbortCodes.SLOWMODE_RATE_LIMITED?(t=ed.default.Messages.CHANNEL_SLOWMODE_DESC.format({seconds:l.rateLimitPerUser}),n=\"SLOWMODE_RATE_LIMITED\"):a===es.AbortCodes.INVALID_MESSAGE_SEND_USER?(t=ed.default.Messages.BOT_DM_SEND_FAILED_WITH_HELP_LINK.format({helpUrl:ea.default.getArticleURL(es.HelpdeskArticles.DM_COULD_NOT_BE_DELIVERED)}),n=\"INVALID_MESSAGE_SEND_USER\"):a===es.AbortCodes.TOO_MANY_THREADS?(t=l.isForumLikeChannel()||l.isForumPost()?ed.default.Messages.BOT_DM_TOO_MANY_POSTS:ed.default.Messages.BOT_DM_TOO_MANY_THREADS,n=\"TOO_MANY_THREADS\"):a===es.AbortCodes.TOO_MANY_ANNOUNCEMENT_THREADS?(t=ed.default.Messages.BOT_DM_TOO_MANY_ANNOUNCEMENT_THREADS,n=\"TOO_MANY_ANNOUNCEMENT_THREADS\"):a===es.AbortCodes.HARMFUL_LINK_MESSAGE_BLOCKED?(t=ed.default.Messages.HARMFUL_LINK_MESSAGE_BLOCKED_ERROR.format({helpUrl:es.MarketingURLs.HARMFUL_LINKS}),n=\"HARMFUL_LINK_MESSAGE_BLOCKED\"):a in eg?(n=eg[a].messageName,t=eg[a].messageGetter()):(t=ed.default.Messages.BOT_DM_SEND_FAILED_WITH_HELP_LINK.format({helpUrl:ea.default.getArticleURL(es.HelpdeskArticles.DM_COULD_NOT_BE_DELIVERED)}),n=`SEND_FAILED (${a})`),eS.sendBotMessage(e,t,n))}",
            "sendExplicitMediaClydeError": "sendExplicitMediaClydeError(e,t,n){let l=Y.default.getChannel(e);if(null==l)return;let{message:i,messageName:r}=(0,a.match)({isDM:l.isDM(),isGDM:l.isGroupDM()}).with({isDM:!0},()=>({message:ed.default.Messages.SENDER_BLOCKED_MEDIA_BOT_DMS_MESSAGE,messageName:\"BOT_DM_EXPLICIT_CONTENT\"})).with({isDM:!1,isGDM:!0},()=>({message:ed.default.Messages.SENDER_BLOCKED_MEDIA_BOT_DMS_MESSAGE,messageName:\"BOT_GDM_EXPLICIT_CONTENT\"})).otherwise(()=>({message:ed.default.Messages.SENDER_BLOCKED_MEDIA_BOT_GUILD_MESSAGE,messageName:\"BOT_GUILD_EXPLICIT_CONTENT\"})),u=(0,O.createNonce)();eS.sendBotMessage(e,i,r,u),(0,S.trackMediaRedactionAction)({action:S.TrackMediaRedactionActionType.EXPLICIT_MEDIA_FALSE_POSITIVE_CLYDE_MESSAGE_SENT,messageId:u,channelId:e,context:n}),null!=t&&t.length>0&&s.default.dispatch({type:\"MESSAGE_EXPLICIT_CONTENT_FP_CREATE\",messageId:u,channelId:e,attachments:t})}",
            "truncateMessages": "truncateMessages(e,t,n){s.default.dispatch({type:\"TRUNCATE_MESSAGES\",channelId:e,truncateBottom:t,truncateTop:n})}",
            "clearChannel": "clearChannel(e){s.default.dispatch({type:\"CLEAR_MESSAGES\",channelId:e})}",
            "jumpToPresent": "jumpToPresent(e,t){eS.trackJump(e,null,\"Present\");let n={present:!0};K.default.hasPresent(e)?s.default.dispatch({type:\"LOAD_MESSAGES_SUCCESS_CACHED\",jump:n,channelId:e,limit:t}):eS.fetchMessages({channelId:e,limit:t,jump:n})}",
            "trackJump": "trackJump(e,t,n,a){d.default.trackWithMetadata(es.AnalyticEvents.JUMP,{context:n,channel_id:e,message_id:t,...a})}",
            "jumpToMessage": "jumpToMessage(e){let{channelId:t,messageId:n,flash:a=!1,offset:l,context:i,extraProperties:r=null,isPreload:s,returnMessageId:u,skipLocalFetch:o,jumpType:d}=e;return\"string\"==typeof i&&eS.trackJump(t,n,i,r),eS.fetchMessages({channelId:t,limit:es.MAX_MESSAGES_FOR_JUMP,jump:{messageId:n,flash:a,offset:l,returnMessageId:u,jumpType:d},isPreload:s,skipLocalFetch:o})}",
            "focusMessage": "focusMessage(e){let{channelId:t,messageId:n}=e;eS.fetchMessages({channelId:t,limit:es.MAX_MESSAGES_FOR_JUMP,focus:{messageId:n}})}",
            "fetchMessages": "fetchMessages(e){let{channelId:t,before:n,after:a,limit:l,jump:r,focus:o,isPreload:d,skipLocalFetch:c,truncate:f}=e,E=Y.default.getChannel(t),_=m.default.isConnectedOrOverlay(),h=Date.now();if(null!=E&&E.type===es.ChannelTypes.GUILD_STORE)return!1;if(t===eu.FAKE_PLACEHOLDER_PRIVATE_CHANNEL_ID)return;if(ec.log(`Fetching messages for ${t} between ${n} and ${a}. jump=${JSON.stringify(r)}`),eS._tryFetchMessagesCached({channelId:t,before:n,after:a,limit:l,jump:r,focus:o,truncate:f}))return;x.default.fetchMessages.recordStart();let g=r??void 0;null==g&&null!=o&&(g={...o});let S=u.default.getOrCreate(t).loadStart(g);u.default.commit(S),s.default.dispatch({type:\"LOAD_MESSAGES\"});let p=g?.messageId,T=new e_;return!c&&this.fetchLocalMessages(t,n,a,l,T),i.default.get({url:es.Endpoints.MESSAGES(t),query:{before:n,after:a,limit:l,around:p,preload:d},retries:2,oldFormErrors:!0}).then(e=>(x.default.fetchMessages.recordEnd(),x.default.dispatchMessages.measure(()=>{let i=e.body,u=null!=n,o=null!=a,d=null==n&&null==a,c=null!=p||i.length===l&&(u||d),E=null!=p||o&&i.length===l;if(null!=p){let e=Math.floor(l/2),n=[p,...i.map(e=>{let{id:t}=e;return t})].filter((e,t,n)=>n.indexOf(e)===t).sort(ei.default.compare).indexOf(p);if(n<e&&(c=!1),i.length-n<e&&(E=!1),E&&i.length>0){let e=$.default.lastMessageId(t);i[0].id===e&&(E=!1)}}ec.log(`Fetched ${i.length} messages for ${t} isBefore:${u} isAfter:${o}`),T.markComplete(),s.default.dispatch({type:\"LOAD_MESSAGES_SUCCESS\",channelId:t,messages:i,isBefore:u,isAfter:o,hasMoreBefore:c,hasMoreAfter:E,limit:l,jump:r,isStale:!_||m.default.lastTimeConnectedChanged()>=h,truncate:f})}),!0),()=>(ec.log(`Failed to fetch messages for ${t}`),s.default.dispatch({type:\"LOAD_MESSAGES_FAILURE\",channelId:t}),!1))}",
            "fetchLocalMessages": "async fetchLocalMessages(e,t,n,a,l){let i=Y.default.getBasicChannel(e),r=u.default.getOrCreate(e),o=c.default.database();if(null==o||null==i||null!=t||null!=n){x.default.addLocalMessages(e,-1);return}if(r.ready&&!r.cached){x.default.addLocalMessages(e,-2);return}let d=await (0,f.tryLoadAsync)(()=>E.default.load(o,e,a));if(null==d){x.default.addLocalMessages(e,-3);return}if(ec.log(`fetched ${d.messages.length} messages from local database (channel_id: ${e}, remote_fetch_completed: ${l.completed})`),x.default.addLocalMessages(e,d.messages.length),!l.completed&&d.messages.length>0){let t=d.messages.length>=a&&d.connectionId===m.default.lastTimeConnectedChanged();s.default.dispatch({type:\"LOCAL_MESSAGES_LOADED\",guildId:i.guild_id,channelId:e,users:d.users,members:d.members,messages:d.messages,stale:!t})}}",
            "fetchNewLocalMessages": "async fetchNewLocalMessages(e,t){let n=Y.default.getBasicChannel(e),a=c.default.database();if(null==a||null==n)return;let l=u.default.getOrCreate(e);if(l.hasMoreAfter)return;let i=await (0,f.tryLoadAsync)(()=>E.default.load(a,e,t));if(null==i)return;l=u.default.getOrCreate(e);let r=l.last()?.id,o=null==r?i.messages:i.messages.filter(e=>ei.default.compare(e.id,r)>0);ec.log(`Fetched ${i.messages.length} messages from the cache after foregrounding. ${o.length} are new`),0!==o.length&&s.default.dispatch({type:\"LOCAL_MESSAGES_LOADED\",guildId:n.guild_id,channelId:e,users:i.users,members:i.members,messages:o,stale:!0})}",
            "_tryFetchMessagesCached": "_tryFetchMessagesCached(e){let{channelId:t,before:n,after:a,limit:l,jump:i,focus:r,truncate:u}=e,o=K.default.getMessages(t);if(o.cached||!o.ready)return!1;if(i?.messageId!=null||r?.messageId!=null){if(i?.messageId!=null&&o.has(i.messageId,!1))return s.default.dispatch({type:\"LOAD_MESSAGES_SUCCESS_CACHED\",channelId:t,jump:i,limit:l,truncate:u}),!0;if(r?.messageId!=null){if(o.has(r.messageId,!1))return s.default.dispatch({type:\"LOAD_MESSAGES_SUCCESS_CACHED\",channelId:t,focus:r,limit:l,truncate:u}),!0;i={...r}}let e=i?.messageId!=null?ei.default.extractTimestamp(i?.messageId):0,n=o.first(),a=o.last();if(!o.hasMoreBefore&&null!=n&&ei.default.extractTimestamp(n.id)>=e||!o.hasMoreAfter&&null!=a&&ei.default.extractTimestamp(a.id)<=e||null!=n&&null!=a&&ei.default.extractTimestamp(n.id)<e&&ei.default.extractTimestamp(a.id)>e)return s.default.dispatch({type:\"LOAD_MESSAGES_SUCCESS_CACHED\",channelId:t,jump:i,limit:es.MAX_MESSAGES_FOR_JUMP}),!0}else if(null!=n&&o.hasBeforeCached(n))return s.default.dispatch({type:\"LOAD_MESSAGES_SUCCESS_CACHED\",channelId:t,before:n,limit:l,truncate:u}),!0;else if(null!=a&&o.hasAfterCached(a))return s.default.dispatch({type:\"LOAD_MESSAGES_SUCCESS_CACHED\",channelId:t,after:a,limit:l,truncate:u}),!0;return!1}",
            "sendMessage": "async sendMessage(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.reaction)return Promise.resolve();let l=await (0,G.default)(e);if(null!=l)return eS.sendMessage(l,t,n,a);let i=()=>eS._sendMessage(e,t,a),r=M.LocalMessageBackgroundSendingExperiment.getCurrentConfig({location:\"8e1e29_1\"}).enableBackgroundSending?N.default.backgroundify(i,void 0):i,s=a.nonce??(0,O.createNonce)();return(a={...a,nonce:s},R.default.recordMessageSendAttempt(e,s),K.default.isReady(e))?r():n&&e!==eu.FAKE_PLACEHOLDER_PRIVATE_CHANNEL_ID?(ef.info(`Waiting for channel ${e} to be ready before sending.`),new Promise((t,n)=>{K.default.whenReady(e,()=>{ef.info(`Channel ${e} is ready for sending now.`),r().then(t,n)})})):r()}",
            "getSendMessageOptionsForReply": "getSendMessageOptionsForReply(e){if(null==e)return{};let t={guild_id:e.channel.getGuildId()??void 0,channel_id:e.channel.id,message_id:e.message.id};return{messageReference:t,allowedMentions:e.shouldMention?void 0:{parse:Object.values(es.AllowedMentionTypes),replied_user:!1}}}",
            "sendInvite": "(e,t,n,a)=>eS._sendMessage(e,{content:(0,C.default)(t),tts:!1,validNonShortcutEmojis:[],invalidEmojis:[]},{location:n,suggestedInvite:a??void 0})",
            "sendActivityBookmark": "(e,t,n,a)=>eS._sendMessage(e,{content:t,tts:!1,validNonShortcutEmojis:[],invalidEmojis:[]},{location:n,suggestedInvite:a??void 0})",
            "sendStickers": "sendStickers(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return eS._sendMessage(e,{content:n,invalidEmojis:[],validNonShortcutEmojis:[],tts:l},{...a,stickerIds:t})}",
            "sendGreetMessage": "sendGreetMessage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{messageReference:a,allowedMentions:l}=n;return i.default.post({url:es.Endpoints.MESSAGES_GREET(e),body:{sticker_ids:[t],allowed_mentions:l,message_reference:a},oldFormErrors:!0}).then(n=>(L.default.donateSentMessage(n.body.content,e),eS.receiveMessage(e,n.body),s.default.dispatch({type:\"STICKER_TRACK_USAGE\",stickerIds:[t]}),n),t=>{throw ec.log(\"Failed to send greeting\"),429!==t.status&&eS.sendClydeError(e,t.body.code),s.default.dispatch({type:\"MESSAGE_SEND_FAILED\",messageId:t.body.id,channelId:e}),t})}",
            "sendPollMessage": "sendPollMessage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return eS._sendMessage(e,{content:\"\",tts:!1,validNonShortcutEmojis:[],invalidEmojis:[]},{...n,poll:t})}",
            "_sendMessage": "_sendMessage(e,t,n){let a=(0,G.default)(e);if(null!=a)return ef.info(\"Converting channel to a private channel\"),a.then(e=>{ef.info(\"Finished converting channel to a private channel\"),eS._sendMessage(e,t,n)});let i=t.content,{invalidEmojis:r,validNonShortcutEmojis:u,tts:c=!1}=t,{activityAction:f,location:E,suggestedInvite:g,stickerIds:S,messageReference:m,allowedMentions:p,poll:I}=n,C=n.flags??0,[M,N]=(0,k.default)(i);if(M&&(i=N,C=(0,et.addFlag)(C,es.MessageFlags.SUPPRESS_NOTIFICATIONS)),\"\"===i&&null==f&&null==S&&null==I)return Promise.reject(Error(\"not sending empty message\"));let y=null!=m?es.MessageTypes.REPLY:es.MessageTypes.DEFAULT,w=n.nonce??(0,O.createNonce)();if(!1!==n.eagerDispatch){let t=(0,O.default)({channelId:e,content:i,tts:c,type:y,messageReference:m,allowedMentions:p,flags:0!==C?C:void 0,nonce:w,poll:(0,v.createPollServerDataFromCreateRequest)(I)});(0,b.updateComboOnMessageSend)(e,t.id),null!=S&&(t.sticker_items=S.map(e=>F.default.getStickerById(e)).filter(e=>null!=e)),eS.receiveMessage(e,t,!0,n)}if(!eE&&null!=r&&r.length>0){let t,n;eE=!0;let a=J.default.getCurrentUser();r.some(e=>e.animated)&&!el.default.canUseAnimatedEmojis(a)?(t=ed.default.Messages.INVALID_ANIMATED_EMOJI_BODY_UPGRADE,n=\"INVALID_ANIMATED_EMOJI_BODY\"):q.default.canWithPartialContext(es.Permissions.USE_EXTERNAL_EMOJIS,{channelId:e})?(t=ed.default.Messages.INVALID_EXTERNAL_EMOJI_BODY_UPGRADE,n=\"INVALID_EXTERNAL_EMOJI_BODY_UPGRADE\"):(t=ed.default.Messages.INVALID_EXTERNAL_EMOJI_BODY,n=\"INVALID_EXTERNAL_EMOJI_BODY\"),eS.sendBotMessage(e,t,n)}let H={type:o.MessageDataType.SEND,message:{channelId:e,content:i,nonce:w,tts:c,message_reference:m,allowed_mentions:p,flags:C}};if(null!=f){let e=f.type===es.ActivityActionTypes.JOIN_REQUEST?f?.activity.session_id:V.default.getSessionId();if(null!=e){let t={type:f.type,session_id:e},{activity:n}=f;null!=n.party&&null!=n.party.id&&(t.party_id=n.party.id),H.message.application_id=n.application_id,H.message.activity=t}}return null!=I&&(H.message.poll=I),null!=S&&(H.message.sticker_ids=S),U.default.isEnabled()&&(H.message.has_poggermode_enabled=!0),new Promise((t,a)=>{let r=Date.now(),c=o.default.length,f=Math.floor(1e4*Math.random());ef.info(`Queueing message to be sent LogId:${f}`),o.default.enqueue(H,o=>{let f=Date.now()-r;if(o.ok)L.default.donateSentMessage(i,e),eS.receiveMessage(e,o.body,!0,{sendAnalytics:{duration:f,queueSize:c},poll:I}),R.default.recordMessageSendApiResponse(w),s.default.dispatch({type:\"SLOWMODE_RESET_COOLDOWN\",slowmodeType:z.SlowmodeType.SendMessage,channelId:e}),s.default.dispatch({type:\"EMOJI_TRACK_USAGE\",emojiUsed:u}),s.default.dispatch({type:\"STICKER_TRACK_USAGE\",stickerIds:S}),!function(e){let{content:t,channelId:n,messageId:a,location:i,suggested:r=null,overrideProperties:s={}}=e;(0,h.default)(t).forEach(e=>{let{type:t,code:u}=e;if(t===_.CodedLinkType.INVITE)eh({inviteKey:u,channelId:n,messageId:a,location:i,suggested:r,overrideProperties:s});else if(t===_.CodedLinkType.TEMPLATE){let e=A.default.getGuildTemplate(u);if(null==e||e.state===eo.GuildTemplateStates.RESOLVING)return;d.default.trackWithMetadata(es.AnalyticEvents.GUILD_TEMPLATE_LINK_SENT,{guild_template_code:u,guild_template_name:e.name,guild_template_description:e.description,guild_template_guild_id:e.sourceGuildId})}else if(t===_.CodedLinkType.BUILD_OVERRIDE);else if(t===_.CodedLinkType.MANUAL_BUILD_OVERRIDE);else if(t===_.CodedLinkType.EVENT);else if(t===_.CodedLinkType.CHANNEL_LINK);else if(t===_.CodedLinkType.APP_DIRECTORY_PROFILE)Z.default.track(es.AnalyticEvents.APP_DIRECTORY_PROFILE_EMBED_SENT,{application_id:u,device_platform:l.isMobile?\"mobile_web\":\"desktop_web\",guild_id:X.default.getGuildId(),channel_id:j.default.getChannelId()});else if(t===_.CodedLinkType.ACTIVITY_BOOKMARK);else if(t===_.CodedLinkType.EMBEDDED_ACTIVITY_INVITE);else if(t===_.CodedLinkType.GUILD_PRODUCT);else if(t===_.CodedLinkType.SERVER_SHOP);else if(t===_.CodedLinkType.QUESTS_EMBED)(0,P.trackQuestEvent)(u,es.AnalyticEvents.QUEST_LINK_SHARED,{guild_id:X.default.getGuildId(),channel_type:Y.default.getChannel(j.default.getChannelId())?.type});else throw Error(`Unknown coded link type: ${t}`)})}({content:i,channelId:e,messageId:o.body.id,location:E??\"chat_input\",suggested:g}),!function(e,t,n,a,l){(0,en.findGiftCodes)(e).forEach(e=>{let i=Y.default.getChannel(t);null!=i&&d.default.trackWithMetadata(es.AnalyticEvents.GIFT_CODE_SENT,{location:a,gift_code:e,guild_id:i.getGuildId(),channel_id:i.id,channel_type:i.type,message_id:n,automatic_send:l})})}(i,e,o.body.id,E??\"chat_input\",!!n.isGiftLinkSentOnBehalfOfUser),t(o);else{ec.log(\"Failed to send message\",{hasErr:o.hasErr,status:o.status,code:o.body?.code,error:o.err});let t=!1;if(o.hasErr)\"ABORTED\"===o.err.code&&(t=!0);else if(o.status>=400&&o.status<500&&o.body){if(o.body.code===es.AbortCodes.SLOWMODE_RATE_LIMITED){let t=o.body.retry_after;null!=t&&t>0&&s.default.dispatch({type:\"SLOWMODE_SET_COOLDOWN\",channelId:e,slowmodeType:z.SlowmodeType.SendMessage,cooldownMs:t*ee.default.Millis.SECOND})}else T.AUTOMOD_ERROR_CODES.has(o.body.code)?s.default.dispatch({type:\"MESSAGE_SEND_FAILED_AUTOMOD\",messageData:H,errorResponseBody:{code:o.body.code,message:o.body.message}}):o.body.code===es.AbortCodes.POGGERMODE_TEMPORARILY_DISABLED?s.default.dispatch({type:\"POGGERMODE_TEMPORARILY_DISABLED\"}):null!=I||eS.sendClydeError(e,o.body.code)}t?eS.deleteMessage(e,w,!0):(s.default.dispatch({type:\"MESSAGE_SEND_FAILED\",messageId:w,channelId:e}),(0,D.logMessageSendFailure)({failureCode:o.hasErr?void 0:o.status,errorMessage:o.hasErr?o.err.message:void 0})),a(o)}},f)})}",
            "startEditMessage": "startEditMessage(e,t,n,a){s.default.dispatch({type:\"MESSAGE_START_EDIT\",channelId:e,messageId:t,content:n,source:a})}",
            "updateEditMessage": "updateEditMessage(e,t,n){s.default.dispatch({type:\"MESSAGE_UPDATE_EDIT\",channelId:e,textValue:t,richValue:n})}",
            "endEditMessage": "endEditMessage(e,t){s.default.dispatch({type:\"MESSAGE_END_EDIT\",channelId:e,response:t})}",
            "editMessage": "async editMessage(e,t,n){let{content:a}=n;await H.default.unarchiveThreadIfNecessary(e);let l=function(e,t){let n=K.default.getMessage(e,t);if(null==n||n.type!==es.MessageTypes.REPLY)return;let a=w.default.getMessageByReference(n.messageReference);if(a.state===w.ReferencedMessageState.LOADED){if(!n.mentions.includes(a.message.author.id))return{parse:Object.values(es.AllowedMentionTypes),replied_user:!1}}}(e,t),i={channelId:e,messageId:t,content:a,allowed_mentions:l};o.default.enqueue({type:o.MessageDataType.EDIT,message:i},n=>{let a=!n.hasErr&&T.AUTOMOD_ERROR_CODES.has(n.body.code);if(a){let e={type:o.MessageDataType.EDIT,message:i};s.default.dispatch({type:\"MESSAGE_EDIT_FAILED_AUTOMOD\",messageData:e,errorResponseBody:{code:n.body.code,message:n.body.message}})}n.hasErr?r.AccessibilityAnnouncer.announce(ed.default.Messages.A11Y_ANNOUNCEMENT_MESSAGE_EDITED_FAILED):a?r.AccessibilityAnnouncer.announce(ed.default.Messages.A11Y_ANNOUNCEMENT_MESSAGE_EDITED_AUTOMOD_BLOCKED):r.AccessibilityAnnouncer.announce(ed.default.Messages.A11Y_ANNOUNCEMENT_MESSAGE_EDITED),eS.endEditMessage(e,n.hasErr?void 0:n),eS.focusMessage({channelId:e,messageId:t})})}",
            "suppressEmbeds": "async suppressEmbeds(e,t){await H.default.unarchiveThreadIfNecessary(e),i.default.patch({url:es.Endpoints.MESSAGE(e,t),body:{flags:es.MessageFlags.SUPPRESS_EMBEDS},oldFormErrors:!0})}",
            "patchMessageAttachments": "async patchMessageAttachments(e,t,n){await H.default.unarchiveThreadIfNecessary(e),i.default.patch({url:es.Endpoints.MESSAGE(e,t),body:{attachments:n},oldFormErrors:!0})}",
            "deleteMessage": "async deleteMessage(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=()=>{s.default.dispatch({type:\"MESSAGE_DELETE\",id:t,channelId:e}).then(()=>{r.AccessibilityAnnouncer.announce(ed.default.Messages.A11Y_ANNOUNCEMENT_MESSAGE_DELETED)})};n?a():(await H.default.unarchiveThreadIfNecessary(e),i.default.delete({url:es.Endpoints.MESSAGE(e,t),oldFormErrors:!0}).then(()=>{a()}));let l=K.default.getMessage(e,t);l?.type===es.MessageTypes.GUILD_INVITE_REMINDER&&(0,y.trackGuildInviteNotificationDismissed)()}",
            "dismissAutomatedMessage": "dismissAutomatedMessage(e){null!=e.loggingName&&d.default.trackWithMetadata(es.AnalyticEvents.AUTOMATED_MESSAGE_DISMISSED,{message_name:e.loggingName,message_author:e.author.username}),this.deleteMessage(e.channel_id,e.id,!0)}",
            "revealMessage": "revealMessage(e,t){s.default.dispatch({type:\"MESSAGE_REVEAL\",channelId:e,messageId:t})}",
            "crosspostMessage": "(e,t)=>i.default.post({url:es.Endpoints.MESSAGE_CROSSPOST(e,t),oldFormErrors:!0}).catch(e=>{let t;t=429===e.status?ed.default.Messages.PUBLISH_FOLLOWED_NEWS_FAIL_BODY.format({retryAfter:Math.floor(e.body.retry_after/60)}):ed.default.Messages.PUBLISH_FOLLOWED_NEWS_GENERIC_BODY,er.default.show({title:ed.default.Messages.PUBLISH_FOLLOWED_NEWS_FAIL_TITLE,body:t,confirmText:ed.default.Messages.OKAY})})",
            "trackInvite": "function eh(e){let{inviteKey:t,channelId:n,messageId:a,location:l,suggested:i=null,overrideProperties:r={}}=e,s=(0,I.parseExtraDataFromInviteKey)(t),u=Y.default.getChannel(n);if(null!=u){let e=null;u.isMultiUserDM()?e=es.LoggingInviteTypes.GDM_INVITE:!u.isPrivate()&&(e=es.LoggingInviteTypes.SERVER_INVITE);let n={},o=W.default.getInvite(t);if(null!=o&&o.state===es.InviteStates.RESOLVED&&null!=o.channel){let t=o.channel;n.invite_channel_id=t.id,n.invite_guild_id=o.guild?.id,n.invite_channel_type=t.type,null!=o.inviter&&(n.invite_inviter_id=o.inviter.id);let a=B.default.getLastActiveStream();if(null!=a&&a.channelId===t.id){e=es.LoggingInviteTypes.STREAM,n.destination_user_id=a.ownerId;let t=(0,p.getStreamerApplication)(a,Q.default);n.application_id=null!=t?t.id:null}}null!=i&&(n.is_suggested=i.isAffinitySuggestion,n.row_num=i.rowNum,n.num_total=i.numTotal,n.num_affinity_connections=i.numAffinityConnections,n.is_filtered=i.isFiltered),n={...n,location:l,invite_type:e,invite_code:s.baseCode,guild_id:u.getGuildId(),channel_id:u.id,message_id:a,send_type:es.SendTypes.DIRECT_MESSAGE,invite_guild_scheduled_event_id:s.guildScheduledEventId,...r},d.default.trackWithMetadata(es.AnalyticEvents.INVITE_SENT,n)}else{let e={},n=W.default.getInvite(t);null!=n&&n.state===es.InviteStates.RESOLVED&&null!=n.inviter&&(e.invite_inviter_id=n.inviter.id,e={...e,location:l,invite_type:es.LoggingInviteTypes.FRIEND_INVITE,invite_code:s.baseCode,message_id:a,send_type:es.SendTypes.DIRECT_MESSAGE,invite_guild_scheduled_event_id:s.guildScheduledEventId,...r},d.default.trackWithMetadata(es.AnalyticEvents.INVITE_SENT,e))}}"
        }
    }
}