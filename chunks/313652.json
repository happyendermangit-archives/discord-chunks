{
    "exports": {
        "GiftExperience": {
            "0": "DEFAULT",
            "1": "CUSTOM_STYLE",
            "2": "CUSTOM_MESSAGE_EMOJI_SOUNDBOARD",
            "DEFAULT": 0,
            "CUSTOM_STYLE": 1,
            "CUSTOM_MESSAGE_EMOJI_SOUNDBOARD": 2
        },
        "findGiftCodes": "e=>{let t;if(null==e)return[];let n=new Set;for(;null!=(t=S.exec(e))&&n.size<3;)n.add(w(t[1]));for(;null!=(t=A.exec(e))&&n.size<3;)n.add(w(t[1]));return Array.from(n)}",
        "firstLibraryApplicationForGiftCode": "function z(e,t,n){let s=t.applicationId,i=e.length>0?e:[s],r=i.map(e=>n.getLibraryApplication(s,e,!0)).filter(c.isNotNullish);return r.length===i.length?r[0]:null}",
        "getBodyText": "function K(e){let{step:t,sku:n,libraryApplication:s,error:i,accepted:a,accepting:o,onGoToLibrary:u,subscriptionPlan:d=null}=e;switch(t){case p.GiftCodeModalStates.ERROR:return W(s,i,a,o,u);case p.GiftCodeModalStates.SUCCESS:if(null!=d){var l;return l=d,(0,r.match)(l).with({interval:v.SubscriptionIntervalTypes.MONTH,premiumSubscriptionType:v.PremiumTypes.TIER_2},()=>y.default.Messages.PREMIUM_FEATURES_TIER_2.format({timeInterval:y.default.Messages.PREMIUM_SUBSCRIPTION_INTERVAL_MONTH})).with({interval:v.SubscriptionIntervalTypes.YEAR,premiumSubscriptionType:v.PremiumTypes.TIER_2},()=>y.default.Messages.PREMIUM_FEATURES_TIER_2.format({timeInterval:y.default.Messages.PREMIUM_SUBSCRIPTION_INTERVAL_YEAR})).with({interval:v.SubscriptionIntervalTypes.MONTH,premiumSubscriptionType:v.PremiumTypes.TIER_1},()=>y.default.Messages.GIFT_CONFIRMATION_BODY_SUCCESS_PREMIUM_TIER_1_MONTHLY.format({intervalCount:l.intervalCount})).with({interval:v.SubscriptionIntervalTypes.YEAR,premiumSubscriptionType:v.PremiumTypes.TIER_1},()=>y.default.Messages.GIFT_CONFIRMATION_BODY_SUCCESS_PREMIUM_TIER_1_YEARLY.format({intervalCount:l.intervalCount})).otherwise(()=>y.default.Messages.GIFT_CONFIRMATION_BODY_SUCCESS_GENERIC)}return y.default.Messages.GIFT_CONFIRMATION_BODY_SUCCESS.format({skuName:n.name});case p.GiftCodeModalStates.CONFIRM:default:if(null!=d)return(d.interval===v.SubscriptionIntervalTypes.MONTH?y.default.Messages.GIFT_CONFIRMATION_BODY_SUBSCRIPTION_MONTHLY_CONFIRM:y.default.Messages.GIFT_CONFIRMATION_BODY_SUBSCRIPTION_YEARLY_CONFIRM).format({skuName:n.name,intervalCount:d.intervalCount});return y.default.Messages.GIFT_CONFIRMATION_BODY_CONFIRM.format({skuName:n.name})}}",
        "getButtonText": "function j(e,t,n){switch(e){case p.GiftCodeModalStates.ERROR:return y.default.Messages.GIFT_CONFIRMATION_BUTTON_FAIL;case p.GiftCodeModalStates.SUCCESS:if(__OVERLAY__)return y.default.Messages.GIFT_CONFIRMATION_BUTTON_NOICE;if(t.isSubscription)return y.default.Messages.GIFT_CONFIRMATION_BUTTON_SUBSCRIPTION_SUCCESS;return y.default.Messages.GIFT_CONFIRMATION_BUTTON_GO_TO_LIBRARY;case p.GiftCodeModalStates.OPEN:return y.default.Messages.GIFT_OPEN_PROMPT;case p.GiftCodeModalStates.CONFIRM:default:if(null!=n&&n)return y.default.Messages.GIFT_CODE_AUTH_ACCEPT;if(null!=t.giftStyle)return t.isClaimed?y.default.Messages.GIFT_CONFIRMATION_BUTTON_CONFIRM:y.default.Messages.GIFT_CONFIRMATION_BUTTON_CONFIRM_MOBILE;return t.isSubscription?y.default.Messages.GIFT_CONFIRMATION_BUTTON_CONFIRM_SUBSCRIPTION:y.default.Messages.GIFT_CONFIRMATION_BUTTON_CONFIRM}}",
        "getErrorMessage": "function W(e,t,n,s,i){let r=y.default.Messages.GIFT_CONFIRMATION_BODY_OWNED.format({onGoToLibrary:i});return null!=(n||s?void 0:e)?r:null==t?null:function(e,t){switch(e.code){case p.AbortCodes.INVALID_GIFT_SELF_REDEMPTION:return y.default.Messages.GIFT_CONFIRMATION_BODY_SELF_GIFT_NO_PAYMENT;case p.AbortCodes.INVALID_GIFT_REDEMPTION_EXHAUSTED:return y.default.Messages.GIFT_CONFIRMATION_BODY_CLAIMED;case p.AbortCodes.INVALID_GIFT_REDEMPTION_OWNED:return y.default.Messages.GIFT_ERROR_OWNED;case p.AbortCodes.UNKNOWN_GIFT_CODE:return y.default.Messages.GIFT_CONFIRMATION_BODY_INVALID;case p.AbortCodes.INVALID_GIFT_REDEMPTION_SUBSCRIPTION_INCOMPATIBLE:return y.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_MISMATCH.format({planName:(0,m.isPremiumExactly)(t,v.PremiumTypes.TIER_2)?y.default.Messages.PREMIUM_TIER_2:y.default.Messages.PREMIUM_TIER_1});case p.AbortCodes.INVALID_GIFT_REDEMPTION_SUBSCRIPTION_MANAGED:return y.default.Messages.GIFT_CONFIRMATION_BODY_ERROR_SUBSCRIPTION_MANAGED;case p.AbortCodes.INVALID_GIFT_REDEMPTION_INVOICE_OPEN:return y.default.Messages.GIFT_CONFIRMATION_BODY_ERROR_INVOICE_OPEN;case p.AbortCodes.INVALID_GIFT_REDEMPTION_FRAUD_REJECTED:return y.default.Messages.GIFT_CODE_SMITE_REJECT_HELP_TEXT;case p.AbortCodes.BILLING_NON_REFUNDABLE_PAYMENT_SOURCE:return y.default.Messages.GIFT_CODE_PAYMENT_SOURCE_INVALID;default:return y.default.Messages.GIFT_CONFIRMATION_BODY_UNKNOWN_ERROR}}(t,f.default.getCurrentUser())}",
        "getGiftCodeURL": "function F(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",n=window.GLOBAL_ENV.GIFT_CODE_HOST;return null==n||(0,g.isAndroid)()?(n=location.host,e=`/gifts/${t}`):e=`/${t}`,`${location.protocol}//${n}${e}`}",
        "getGiftExperience": "(e,t)=>a.isMobile||a.isTablet?0:null!=e||t?2:1",
        "getHeaderText": "function Y(e,t,n){switch(e){case p.GiftCodeModalStates.ERROR:return y.default.Messages.GIFT_CONFIRMATION_HEADER_FAIL;case p.GiftCodeModalStates.SUCCESS:return t.isSubscription?y.default.Messages.GIFT_CONFIRMATION_HEADER_SUCCESS_NITRO.format({skuName:n.name}):y.default.Messages.GIFT_CONFIRMATION_HEADER_SUCCESS;case p.GiftCodeModalStates.CONFIRM:default:return t.isSubscription?y.default.Messages.GIFT_CONFIRMATION_HEADER_CONFIRM_NITRO.format({skuName:n.name}):y.default.Messages.GIFT_CONFIRMATION_HEADER_CONFIRM}}",
        "getStep": "function x(e,t,n,s,i,r,a){return null==n&&(s||i||null==e)?!a||r||s||i?s&&(t.isSubscription||null!=e)?p.GiftCodeModalStates.SUCCESS:p.GiftCodeModalStates.CONFIRM:p.GiftCodeModalStates.OPEN:p.GiftCodeModalStates.ERROR}",
        "isGiftCodeEmbed": "e=>e?.type===p.MessageTypes.CUSTOM_GIFT&&e?.embeds.length===1&&e?.embeds[0].type===p.MessageEmbedTypes.GIFT",
        "makeComboId": "function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return`${e}:${t??\"\"}:${n??\"\"}`}",
        "parseComboId": "function k(e){let[t,n,s]=e.split(\":\");return{skuId:t,subscriptionPlanId:\"\"===n?null:n,giftStyle:\"\"!==s&&null!=s?Number.parseInt(s):void 0}}",
        "processGiftCodeInput": "function $(e){let t=e.trim().split(\"/\").pop().match(b);if(null==t)return null;let[n,s,i]=t;return null==i?null:i.replace(/-/g,\"\")}",
        "resolveGiftCode": "async function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let s=(await (0,E.httpGetWithCountryCodeQuery)({url:p.Endpoints.GIFT_CODE_RESOLVE(e),query:{with_application:t,with_subscription_plan:n},oldFormErrors:!0})).body;return _.default.track(p.AnalyticEvents.GIFT_CODE_RESOLVED,{resolved:!0,gift_code:s.code,gift_code_max_uses:s.max_uses,sku_id:s.store_listing.sku.id,sku_type:s.store_listing.sku.type,application_id:s.store_listing.sku.application_id,store_title:s.store_listing.sku.name},{flush:!0}),s}catch(t){throw _.default.track(p.AnalyticEvents.GIFT_CODE_RESOLVED,{resolved:!1,gift_code:e}),new u.default(t)}}",
        "shouldShowCustomGiftExperience": "e=>0!==M(e)",
        "trackGiftCodeCopy": "function H(e,t){_.default.track(p.AnalyticEvents.GIFT_CODE_COPIED,{...(0,d.default)(t,!1,!1),...e.analyticsData})}",
        "useGetGiftCode": "(e,t)=>(0,o.useStateFromStores)([l.default],()=>{if(null==e||!t)return null;let n=l.default.getGiftCode(e);return null==n||\"\"===n?null:n})"
    }
}