{
    "exports": {
        "default": "function I(e){let{onChange:t}=e,n=null;return e.onChange=()=>{c.EditorUtils.richValue(e)!==n&&(o.HistoryUtils.withMergedEntry(e,()=>{c.EditorUtils.withoutNormalizing(e,()=>(function(e){let t=function(e){let t=[],n=null;for(let i of c.EditorUtils.blocks(e)){let a=null!=n&&(n.isInCodeBlock||n.opensCodeBlock),s=null!=n&&(n.isStyledCodeBlockLine||n.opensCodeBlockOnOwnLine);n=function(e,t,n,i,a){let s=function(e){let t;let[n,i]=e;if(!p.has(n.type))return[];let a=[],s=/\\\\|```/g;for(let e=0;e<n.children.length;e++){let l=n.children[e];if(c.TextUtils.isText(l))for(s.lastIndex=0;null!=(t=s.exec(l.text));){if(\"\\\\\"===t[0]){s.lastIndex+=1;continue}a.push({path:c.PathUtils.child(i,e),offset:t.index})}}return a}(t),l=s[0],r=s[s.length-1],o=null;if(null!=r){let[t]=c.EditorUtils.node(e,r.path);o=t.text.substring(r.offset+3)}let u=n&&null!=l,d=n&&0===s.length,f=i&&0===s.length,m=(u?s.slice(1):s).length%2==1,E=m&&(null==o||\"\"===o||null!=o.match(_)),I=E&&null!=o?h[o.toLowerCase()]??null:null;return{blockEntry:t,wasInCodeBlock:n,isInCodeBlock:d,isStyledCodeBlockLine:f,lang:m||u?I:a,hljsTypes:null,closesCodeBlock:u,opensCodeBlock:m,opensCodeBlockOnOwnLine:E}}(e,i,a,s,null!=n&&(n.opensCodeBlock||!n.closesCodeBlock)?n.lang:null),t.push(n)}return function(e){let t=[],n=!1;for(let a of e){let s=a===e[e.length-1];if((a.closesCodeBlock||s)&&(n&&s&&!a.closesCodeBlock&&t.push(a),n=!1,t.length>0)){let e=t.map(e=>(0,u.serializeDescendant)(e.blockEntry[0])).join(\"\\n\"),n=t[0].lang;if(null!=n&&null!=i.default.getLanguage(n)){let i=function(e,t){let n=`${e}-${t}`,i=S.get(n);if(null!=i)return i;let a=r.default.highlight(t,e,!1);if(null==a||a.illegal)return null;let s=a.value.split(\"\\n\");return S.set(n,s),s}(e,n);if(null!=i&&i.length===t.length){let e=[];for(let n=0;n<t.length;n++){let a;let s=i[n].replace(/&amp;/g,\"&\").replace(/&lt;/g,\"<\").replace(/&gt;/g,\">\").replace(/&quot;/g,'\"').replace(/&#x27;/g,\"'\"),l=[],r=0,o=0;for(;null!=(a=C.exec(s));){let t=a.index+a[0].length,n=a.index-o;a.index>o&&(e.length>0&&l.push({types:[...e],start:r,end:r+n}),r+=n),\"</span>\"===a[0]?e.pop():e.push(a[1]),o=t}if(e.length>0){let t=s.length-o;l.push({types:[...e],start:r,end:r+t})}t[n].hljsTypes=l}}else for(let e=0;e<t.length;e++)t[e].hljsTypes=null}t=[]}n&&t.push(a),a.opensCodeBlock&&(n=!0)}}(t),t}(e);(function(e,t){for(let n of t){let[t,i]=n.blockEntry,a=function(e){return e.isStyledCodeBlockLine||e.wasInCodeBlock?{lang:e.lang,wasInCodeBlock:e.wasInCodeBlock,isInCodeBlock:e.isInCodeBlock,isStyledCodeBlockLine:e.isStyledCodeBlockLine,hljsTypes:e.hljsTypes}:null}(n);t?.codeBlockState!=a&&d.SlateTransforms.setNodes(e,{codeBlockState:a},{at:i})}})(e,t)})(e))}),n=c.EditorUtils.richValue(e)),t()},e}",
        "hasOpenPlainTextCodeBlock": "function x(e){if(null==e.selection)return!1;let t=c.RangeUtils.start(e.selection);return g(e,t)}",
        "isPointInCodeBlock": "function g(e,t){let n=0;for(let i of c.EditorUtils.nodes(e,{at:{anchor:{path:f.FIRST_TEXT_PATH,offset:0},focus:t},mode:\"lowest\",match:e=>c.TextUtils.isText(e)})){let e=i[0].text;c.PathUtils.equals(i[1],t.path)&&(e=e.substring(0,t.offset));let a=e.match(/```/g);n+=a?.length??0}return n%2!=0}"
    }
}