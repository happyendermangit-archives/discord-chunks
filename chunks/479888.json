{
    "exports": {
        "default": {
            "init": "init(){let e=(e,t)=>{!u.default.getAllActiveStreamKeys().includes(e)&&S.start(t?N:A,()=>{r.default.dispatch({type:\"STREAM_TIMED_OUT\",streamKey:e})})};r.default.subscribe(\"STREAM_WATCH\",t=>{let{streamKey:n}=t,{channelId:i}=(0,T.decodeStreamKey)(n),r=_.default.getChannel(i);e(n,r?.isGuildStageVoice())}),r.default.subscribe(\"STREAM_START\",t=>{let{streamType:n,guildId:i,channelId:r}=t,o=_.default.getChannel(r);e((0,T.encodeStreamKey)({streamType:n,guildId:i,channelId:r,ownerId:s.default.getId()}),o?.isGuildStageVoice())}),r.default.subscribe(\"STREAM_CREATE\",()=>{S.stop()}),r.default.subscribe(\"STREAM_UPDATE\",()=>{S.stop()}),r.default.subscribe(\"STREAM_DELETE\",()=>{S.stop()}),r.default.subscribe(\"STREAM_CLOSE\",()=>{d.stop(),S.stop()}),r.default.subscribe(\"VOICE_CHANNEL_SELECT\",e=>{let{channelId:t}=e;if(null==t)return;O=null;let n=a.default.getAllApplicationStreamsForChannel(t).filter(e=>{let{ownerId:t}=e;return t!==s.default.getId()})[0];null!=n&&R(t,n.ownerId)}),r.default.subscribe(\"VOICE_STATE_UPDATES\",e=>{let{voiceStates:t}=e;t.forEach(e=>{let{userId:t,channelId:n,guildId:i,selfStream:r}=e;if(t!==s.default.getId()&&null!=n){if(r&&R(n,t))return;let e=a.default.getActiveStreamForUser(t,i);if(null!=e&&e.channelId===n&&(!r&&e.state!==c.ApplicationStreamStates.ENDED&&d.start(18e4,()=>(0,o.closeStream)((0,T.encodeStreamKey)(e),!1)),r&&e.state===c.ApplicationStreamStates.ENDED)){d.stop();let e=a.default.getStreamForUser(t,i);if(null==e)return;(0,o.watchStream)(e)}}})}),r.default.subscribe(\"CALL_UPDATE\",e=>{let{channelId:t,region:n}=e,i=a.default.getCurrentUserActiveStream();i?.channelId===t&&C((0,T.encodeStreamKey)(i),n)}),r.default.subscribe(\"CHANNEL_UPDATES\",e=>{let{channels:t}=e,n=a.default.getCurrentUserActiveStream();if(null!=n)for(let e of t)n.channelId===e.id&&C((0,T.encodeStreamKey)(n),e.rtcRegion)})}"
        }
    }
}