{
    "exports": {
        "default": "function N(e){let{className:t,waveform:n,currentTime:a,duration:c,played:C,playing:N,onDrag:A,onDragStart:x,onDragEnd:y}=e,{ref:O,width:R}=(0,u.default)(),M=i.useMemo(()=>{var e;let t;return Math.floor(((t=(e=c)<=E?40:e>=45?294:(Math.min(e,45)-E)/(45-E)*254+40)+4)/g)*g-4},[c]),L=i.useRef(),P=function(e,t){let n=i.useMemo(()=>(function(e){let t;if(null==e)return;try{t=window.atob(e)}catch(e){return}let n=[];for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e)/p.WAVEFORM_WAVE_MAX_VALUE;return n})(e),[e]),l=i.useMemo(()=>(function(e){if(null!=e)return Math.floor((e+4)/6)})(t),[t]),a=i.useMemo(()=>{var e;return null!==(e=function(e,t){if(null!=e&&null!=t){if(e.length<t){let n=t-e.length;return e.concat(Array(n).fill(0))}return(0,f.default)(e,t)}}(null!=n?n:[],l))&&void 0!==e?e:S},[n,l]);return a}(n,R),b=i.useRef(C),j=i.useRef(N),U=i.useRef(null),D=window.devicePixelRatio,{lastBackgroundFillColor:k,backgroundFillColor:w,lastActiveFillColor:F,activeFillColor:G,lastInactiveFillColor:B,inactiveFillColor:H}=function(e,t){let n=(0,o.useToken)(r.default.colors.INTERACTIVE_MUTED).hex(),l=(0,o.useToken)(r.default.colors.INTERACTIVE_NORMAL).hex(),i=(0,o.useToken)(r.default.colors.INTERACTIVE_ACTIVE).hex(),a=(0,o.useToken)(r.default.unsafe_rawColors.BRAND_430).hex(),s=(0,o.useToken)(r.default.unsafe_rawColors.WHITE_500).hex(),u=t?a:n,[d,c]=I(u,t,e),f=t?s:e?i:l,[m,p]=I(f,t,e),h=e?u:l,[E,g]=I(h,t,e);return{lastBackgroundFillColor:d,backgroundFillColor:c,lastActiveFillColor:m,activeFillColor:p,lastInactiveFillColor:E,inactiveFillColor:g}}(C,N);i.useEffect(()=>{let e=T({showAll:!C,currentTime:a,duration:c,numSegments:P.length});L.current=P.map((t,n)=>new m.default(n<e?t:0))},[P]),i.useEffect(()=>{let e=L.current;if(null==e)return;let t=T({showAll:!C,currentTime:a,duration:c,numSegments:P.length});for(let n=0;n<e.length;n++){let l=e[n];if(n<t){l.animateTo(P[n]);continue}l.reset()}},[P,a,c,C]),i.useEffect(()=>{let e=null;return e=requestAnimationFrame(function t(n){let l=O.current,i=null==l?void 0:l.getContext(\"2d\"),a=L.current;if(null==l||null==i||null==a)return;let s=!1;(b.current!==C||j.current!==N)&&(b.current=C,j.current=N,U.current=n),null!=U.current&&n>U.current+200&&(U.current=null);let r=l.height/D;i.clearRect(0,0,l.width,l.height),i.beginPath();let[o,u]=_(k,w,n,U.current);s=s||u,i.fillStyle=o;for(let e=0;e<P.length;e++)v({context:i,devicePixelRatio:D,canvasHeight:r,segmentValue:P[e],segmentIndex:e,constrainMin:!0});i.fill();let[d,c]=_(B,H,n,U.current);s=s||c;let[f,m]=_(F,G,n,U.current);s=s||m;for(let e=0;e<a.length;e++){let t=a[e],n=Math.max(t.getCurrentValue(),P[e]-.1);i.beginPath(),i.fillStyle=t.isReset?d:f,v({context:i,devicePixelRatio:D,canvasHeight:r,segmentValue:n,segmentIndex:e,constrainMin:!t.isReset}),s=s||t.isAnimating(),i.fill()}s&&(e=requestAnimationFrame(t))}),()=>{null!=e&&cancelAnimationFrame(e)}},[O,D,P,R,a,c,C,N,k,w,F,G,B,H]);let[,V]=(0,d.default)({ref:O,onDrag:A,onDragStart:x,onDragEnd:y});return(0,l.jsx)(\"canvas\",{onMouseDown:V,className:s(h.canvas,t),style:{width:M},ref:O,height:32*window.devicePixelRatio,width:(null!=R?R:0)*window.devicePixelRatio})}"
    }
}