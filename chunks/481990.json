{
    "exports": {
        "maybeJoinEmbeddedActivity": "async function I(e){let{channelId:t,applicationId:n,instanceId:I,inputApplication:C,analyticsLocations:y,embeddedActivitiesManager:S}=e,g=p.default.getEmbeddedActivitiesForChannel(t).find(e=>e.applicationId===n&&(null==I||e.instanceId===I)),x=C;if(null==x){let e=await a.default.fetchApplication(n);x=r.default.createFromServer(e)}if(null==g||null==x)return;let T=c.default.getCurrentUser(),A=o.default.getChannel(t),N=(0,E.default)({userId:T?.id,application:x,channelId:t,currentUser:T,isActivitiesEnabledForCurrentPlatform:(0,h.getIsActivitiesEnabledForCurrentPlatform)(A),ChannelStore:o.default,VoiceStateStore:f.default,PermissionStore:d.default,GuildStore:u.default}),O=p.default.getSelfEmbeddedActivityForChannel(t),R=O?.applicationId,M=null!=R?s.default.getApplication(R)??void 0:void 0;!function(e){let{embeddedActivityJoinability:t,handleCanJoin:n}=e;switch(t){case E.EmbeddedActivityJoinability.CAN_JOIN:n?.();break;case E.EmbeddedActivityJoinability.NO_USE_EMBEDDED_ACTIVITIES_PERMISSION:(0,l.showActivitiesInvalidPermissionsAlert)();break;case E.EmbeddedActivityJoinability.ACTIVITIES_FEATURE_NOT_ENABLED_FOR_OS:i.default.show({title:_.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAILURE,body:_.default.Messages.EMBEDDED_ACTIVITIES_NOT_AVAILABLE_ON_OS,hideActionSheet:!1});break;case E.EmbeddedActivityJoinability.ACTIVITY_NOT_SUPPORTED_ON_OS:i.default.show({title:_.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAILURE,body:_.default.Messages.EMBEDDED_ACTIVITIES_APPLICATION_UNSUPPORTED_OS,hideActionSheet:!1});break;case E.EmbeddedActivityJoinability.ACTIVITY_AGE_GATED:i.default.show({title:_.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAILURE,body:_.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_AGE_GATE,hideActionSheet:!1});break;case E.EmbeddedActivityJoinability.NO_CHANNEL_CONNECT_PERMISSION:case E.EmbeddedActivityJoinability.CHANNEL_FULL:case E.EmbeddedActivityJoinability.NO_CHANNEL:case E.EmbeddedActivityJoinability.NO_USER:i.default.show({title:_.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAILURE,body:_.default.Messages.ACTIVITIES_GENERIC_LAUNCH_FAILURE_DIALOG_BODY,hideActionSheet:!1})}}({embeddedActivityJoinability:N,handleCanJoin:async function e(){null!=g&&await (0,m.default)({applicationId:g.applicationId,currentEmbeddedApplication:M,activityChannelId:t,locationObject:{},embeddedActivitiesManager:S,analyticsLocations:y})}})}"
    }
}