{
    "exports": {
        "default": "function N(e){let{channelId:t,guildId:s,participant:l,className:C,compact:m=!1,disableInteraction:g=!1,maxVisibleUsers:v=3}=e,[A,N]=r.useState(!1),L=r.useRef(new d.DelayedCall(150,()=>N(!1))),O=(0,o.useStateFromStoresArray)([p.default,E.default],()=>{if(l.type===_.ParticipantTypes.STREAM){let e=p.default.getViewerIds(l.id);return e.length>0?e.map(e=>E.default.getUser(e)).filter(S.isNotNullish):R}return l.type===_.ParticipantTypes.ACTIVITY?l.participants.size>0?Array.from(l.participants).map(e=>E.default.getUser(e)).filter(S.isNotNullish):R:R},[l]),y=r.useCallback(()=>{L.current.cancel(),N(!0)},[]),P=r.useCallback(()=>{L.current.delay()},[]),D=r.useCallback((e,t)=>{y(),(0,f.openContextMenuLazy)(e,async()=>{let{default:e}=await n.el(\"406784\").then(n.bind(n,\"406784\"));return n=>(0,a.jsx)(e,{...n,user:t})},{onClose:P})},[P,y]);if(0===O.length)return null;if(m)return(0,a.jsx)(x,{maxVisibleUsers:v,users:O,guildId:s,channelId:t,className:C,participantType:l.type});let b=u(O).take(v).map(e=>(0,a.jsx)(c.Avatar,{src:e.getAvatarURL(s,24),\"aria-label\":e.username,size:c.AvatarSizes.SIZE_24,className:I.viewer},e.id)).value();return O.length>v&&(b[b.length-1]=(0,a.jsxs)(\"div\",{className:I.overflow,children:[\"+\",O.length-v+1]},\"overflow\")),(0,a.jsx)(h.default,{section:T.AnalyticsSections.STREAM_VIEWER_POPOUT,children:(0,a.jsx)(\"div\",{onMouseEnter:y,onMouseLeave:P,children:(0,a.jsx)(c.Popout,{renderPopout:()=>(0,a.jsx)(M,{participantType:l.type,handleUserContextMenu:D,guildId:s,channelId:t,users:O,disableInteraction:g}),shouldShow:A,position:\"top\",children:()=>(0,a.jsx)(\"div\",{className:i(I.viewers,C),children:b})})})})}"
    }
}