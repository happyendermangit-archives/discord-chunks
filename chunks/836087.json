{
    "exports": {
        "default": "function N(e){let{channelId:t,guildId:s,participant:i,className:m,compact:C=!1,disableInteraction:g=!1,maxVisibleUsers:T=3}=e,[A,N]=r.useState(!1),R=r.useRef(new d.DelayedCall(150,()=>N(!1))),L=(0,o.useStateFromStoresArray)([E.default,p.default],()=>{if(i.type===_.ParticipantTypes.STREAM){let e=E.default.getViewerIds(i.id);return e.length>0?e.map(e=>p.default.getUser(e)).filter(S.isNotNullish):y}return i.type===_.ParticipantTypes.ACTIVITY?i.participants.size>0?Array.from(i.participants).map(e=>p.default.getUser(e)).filter(S.isNotNullish):y:y},[i]),O=r.useCallback(()=>{R.current.cancel(),N(!0)},[]),P=r.useCallback(()=>{R.current.delay()},[]),b=r.useCallback((e,t)=>{O(),(0,f.openContextMenuLazy)(e,async()=>{let{default:e}=await n.el(\"406784\").then(n.bind(n,\"406784\"));return n=>(0,a.jsx)(e,{...n,user:t})},{onClose:P})},[P,O]);if(0===L.length)return null;if(C)return(0,a.jsx)(x,{maxVisibleUsers:T,users:L,guildId:s,channelId:t,className:m,participantType:i.type});let D=u(L).take(T).map(e=>(0,a.jsx)(c.Avatar,{src:e.getAvatarURL(s,24),\"aria-label\":e.username,size:c.AvatarSizes.SIZE_24,className:I.viewer},e.id)).value();return L.length>T&&(D[D.length-1]=(0,a.jsxs)(\"div\",{className:I.overflow,children:[\"+\",L.length-T+1]},\"overflow\")),(0,a.jsx)(h.default,{section:v.AnalyticsSections.STREAM_VIEWER_POPOUT,children:(0,a.jsx)(\"div\",{onMouseEnter:O,onMouseLeave:P,children:(0,a.jsx)(c.Popout,{renderPopout:()=>(0,a.jsx)(M,{participantType:i.type,handleUserContextMenu:b,guildId:s,channelId:t,users:L,disableInteraction:g}),shouldShow:A,position:\"top\",children:()=>(0,a.jsx)(\"div\",{className:l(I.viewers,m),children:D})})})})}"
    }
}