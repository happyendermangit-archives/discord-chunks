{
    "exports": {
        "default": "function x(e){let{channelId:t,guildId:s,participant:l,className:p,compact:m=!1,disableInteraction:g=!1,maxVisibleUsers:v=3}=e,[A,x]=r.useState(!1),L=r.useRef(new d.DelayedCall(150,()=>x(!1))),R=(0,o.useStateFromStoresArray)([E.default,C.default],()=>{if(l.type===_.ParticipantTypes.STREAM){let e=E.default.getViewerIds(l.id);return e.length>0?e.map(e=>C.default.getUser(e)).filter(S.isNotNullish):O}return l.type===_.ParticipantTypes.ACTIVITY?l.participants.size>0?Array.from(l.participants).map(e=>C.default.getUser(e)).filter(S.isNotNullish):O:O},[l]),y=r.useCallback(()=>{L.current.cancel(),x(!0)},[]),P=r.useCallback(()=>{L.current.delay()},[]),D=r.useCallback((e,t)=>{y(),(0,f.openContextMenuLazy)(e,async()=>{let{default:e}=await n.el(\"406784\").then(n.bind(n,\"406784\"));return n=>(0,a.jsx)(e,{...n,user:t})},{onClose:P})},[P,y]);if(0===R.length)return null;if(m)return(0,a.jsx)(N,{maxVisibleUsers:v,users:R,guildId:s,channelId:t,className:p,participantType:l.type});let b=u(R).take(v).map(e=>(0,a.jsx)(c.Avatar,{src:e.getAvatarURL(s,24),\"aria-label\":e.username,size:c.AvatarSizes.SIZE_24,className:I.viewer},e.id)).value();return R.length>v&&(b[b.length-1]=(0,a.jsxs)(\"div\",{className:I.overflow,children:[\"+\",R.length-v+1]},\"overflow\")),(0,a.jsx)(h.default,{section:T.AnalyticsSections.STREAM_VIEWER_POPOUT,children:(0,a.jsx)(\"div\",{onMouseEnter:y,onMouseLeave:P,children:(0,a.jsx)(c.Popout,{renderPopout:()=>(0,a.jsx)(M,{participantType:l.type,handleUserContextMenu:D,guildId:s,channelId:t,users:R,disableInteraction:g}),shouldShow:A,position:\"top\",children:()=>(0,a.jsx)(\"div\",{className:i(I.viewers,p),children:b})})})})}"
    }
}