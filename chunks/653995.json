{
    "exports": {
        "default": {
            "render": "function(e,t){let{value:n,type:s,channel:L,className:P,id:b,disabled:k,submitting:D,placeholder:U,required:j,textAreaPaddingClassName:w,onChange:F,onPaste:G,onResize:H,onFocus:B,onBlur:V,onKeyDown:Y,onKeyUp:K,onTab:W,onEnter:z,onSubmit:J,maybeShowAutocomplete:Z,hideAutocomplete:$,moveSelection:q,spellcheckEnabled:X,canUseCommands:Q,canOnlyUseTextCommands:ee,disableAutoFocus:et,disableEnterToSubmit:en,allowNewLines:ei,\"aria-owns\":ea,\"aria-expanded\":es,\"aria-haspopup\":el,\"aria-activedescendant\":er,\"aria-controls\":eo,\"aria-invalid\":eu,\"aria-describedby\":ed,\"aria-labelledby\":ec,\"aria-autocomplete\":ef}=e,ep=a.useRef(null),em=a.useRef(null),eh=a.useRef(!0),eE=a.useRef(!0),e_=k||D,eI=a.useCallback((e,t,n)=>{let{value:i,selection:a}=n,s=I.EditorUtils.richValue(e),l=e.selection,r=!1;if(void 0!==i&&i!==s){if(e.children=i,\"parent\"===t&&!e.previewMarkdown){try{e.previewMarkdown=!0,(0,N.run)(e,L.guild_id,L.id)}finally{e.previewMarkdown=!1}(0,N.run)(e,L.guild_id,L.id),a=void 0}\"undo\"!==t&&void 0!==i&&i!==s&&m.HistoryUtils.insertEntry(e,\"other\",!1,s,l),r=!0}if(null!=a&&!I.SelectionUtils.isValid(e,a)&&(a=void 0),(r||!I.SelectionUtils.isValid(e,l))&&void 0===a){let t=I.EditorUtils.end(e,[]);a={anchor:t,focus:t}}if(null!=a&&!I.SelectionUtils.equals(a,l)){e.selection=a;let t=m.HistoryUtils.currentEntry(e);null!=t&&(t.selection=a),r=!0}let o=p.getCommandBlock(e);if(null!=o&&o[0].command.id!==u.default.getActiveCommand(L.id)?.id&&m.HistoryUtils.withMergedEntry(e,()=>{(0,A.unsetCommand)(e,L.id,null,!0)}),r){if(!et&&I.EditorUtils.focus(e),\"parent\"===t)try{eE.current=!1,e.onChange()}finally{eE.current=!0}else e.onChange()}},[L.id,L.guild_id,et]),eC=a.useCallback(()=>{eh.current=!1},[]),ey=a.useCallback(()=>{eh.current=!0},[]),eS=(0,y.default)({channel:L,chatInputType:s,canUseCommands:Q,canOnlyUseTextCommands:ee,onChangeStart:eC,onChangeEnd:ey,updateState:eI}),eg=a.useCallback((e,t)=>{let n=p.getOptionValues(eS,e),i=p.validateOptionValues(e,L.guild_id,L.id,n,t);return{values:n,results:i}},[L.guild_id,L.id,eS]),ex=a.useCallback(()=>{let e;let t=Q?u.default.getActiveCommand(L.id):null;if(null!=t&&null!=t.options){let n=eg(t,!1);e=n.values;let i=p.getOptionNames(eS).filter(e=>!n.results[e].success).map(e=>(t.options??[]).find(t=>t.name===e));for(let e of t.options)e.required&&!(e.name in n.values)&&(_.SlateTransforms.insertCommandOption(eS,e),i.push(e));if(i.length>0){let e=i[0];_.SlateTransforms.selectCommandOption(eS,e.name),f.ComponentDispatch.dispatch(M.ComponentActions.SHAKE_APP,{duration:200,intensity:2}),(0,o.trackWithMetadata)(M.AnalyticEvents.APPLICATION_COMMAND_VALIDATION_FAILED,{application_id:t?.applicationId,command_id:t?.rootCommand?.id,argument_type:r.ApplicationCommandOptionType[e?.type??3],is_required:e?.required});return}}J?.(E.toTextValue(I.EditorUtils.richValue(eS),{mode:\"raw\",ignoreTrailingEmptyNodes:!0}),t,e)},[L.id,eS,J,eg,Q]);(0,S.default)(t,eS,L,ex),(0,T.default)(eS,ep,H);let{handleKeyDown:eT,handleKeyUp:eA}=(0,g.default)({editor:eS,channel:L,disableEnterToSubmit:en,onKeyDown:Y,onKeyUp:K,onTab:W,onEnter:z,allowNewLines:ei,submit:ex,hideAutocomplete:$,moveSelection:q}),{handlePaste:eN,handleGlobalPaste:eO}=(0,x.default)(eS,e_,G),eR=a.useCallback(e=>{Z?.()},[Z]),eM=a.useCallback(e=>{e!==em.current?eE.current&&F?.(null,E.toTextValue(e,{mode:\"raw\"}),e):eE.current&&Z()},[Z,F]);a.useLayoutEffect(()=>{eh.current&&(em.current=n,eI(eS,\"parent\",{value:n}))},[eS,n,eI]),a.useEffect(()=>{let e=()=>{let e=u.default.getActiveCommand(L.id)??null;null!==e&&null!=e.options&&eg(e,!0)};return d.default.addChangeListener(e),()=>d.default.removeChangeListener(e)},[L,eS,eg]);let ev=a.useCallback((e,t)=>(0,C.default)(e,t),[]),eL=a.useCallback(e=>(0,O.default)(eS,e,L.id),[L.id,eS]),eP=a.useCallback(e=>(0,R.default)(e),[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.ComponentAction,{event:M.ComponentActions.GLOBAL_CLIPBOARD_PASTE,handler:eO}),(0,i.jsx)(\"div\",{ref:ep,className:l()(P,v.slateContainer),children:(0,i.jsx)(h.default,{id:b,editor:eS,channelId:L.id,guildId:L.guild_id,className:l()(v.slateTextArea,w),placeholder:U,readOnly:e_,spellCheck:X,autoFocus:!et,canFocus:!k,onChange:eM,onFocus:B,onBlur:V,onClick:eR,onPaste:eN,onKeyDown:eT,onKeyUp:eA,decorateExtra:ev,renderExtraElement:eL,renderExtraLeaf:eP,\"aria-owns\":ea,\"aria-haspopup\":el,\"aria-expanded\":es,\"aria-activedescendant\":er,\"aria-controls\":eo,\"aria-labelledby\":ec,\"aria-describedby\":ed,\"aria-invalid\":eu,\"aria-autocomplete\":ef,\"aria-required\":j})})]})}"
        }
    }
}