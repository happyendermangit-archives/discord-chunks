{
    "exports": {
        "default": "function I(e){let{filterOutEmptyCurrentGuild:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=(0,i.useStateFromStores)([u.default],()=>u.default.getCurrentUser()),[g,I,v]=(0,i.useStateFromStoresArray)([p.default],()=>[p.default.getSounds(),p.default.getFavorites(),p.default.isFetching()]),_=(0,E.useSortedGuildIdsForSoundboard)(e,!1),N=(0,i.useStateFromStoresArray)([r.default],()=>{let e=[];return _.forEach(t=>{let n=r.default.getGuild(t);null!=n&&e.push(n)}),e}),A=d.default.canUseSoundboardEverywhere(c),x=(0,i.useStateFromStores)([r.default],()=>r.default.getGuild(null==e?void 0:e.guild_id)),y=(0,i.useStateFromStores)([o.default],()=>{let{canCreateExpressions:e}=(0,a.getManageResourcePermissions)(x);return e},[x]),{canSeeRecentlyHeard:O,canSeeFrequentlyPlayed:R}=(0,f.useRecentlyHeardExperiment)({location:\"soundboard-useSoundGrid\",autoTrackExposure:!0}),M=function(){l.useEffect(()=>{s.FrecencyUserSettingsActionCreators.loadIfNecessary()},[]);let e=(0,i.useStateFromStores)([m.default],()=>m.default.frecentlyPlayedSounds);return e}(),L=(0,i.useStateFromStoresArray)([m.default],()=>m.default.recentlyHeardSoundIds);return l.useMemo(()=>{let e=[];return n?(T(e,g),{categories:e,isFetching:v}):(S({sections:e,guildIds:_,allSounds:g,potentialSoundIdsForSection:Array.from(I),sectionType:h.SoundboardSoundGridSectionType.FAVORITES,sortById:!0}),O&&S({sections:e,guildIds:_,allSounds:g,potentialSoundIdsForSection:L,sectionType:h.SoundboardSoundGridSectionType.RECENTLY_HEARD,sortById:!1}),R&&S({sections:e,guildIds:_,allSounds:g,potentialSoundIdsForSection:M.map(e=>e.soundId),sectionType:h.SoundboardSoundGridSectionType.FREQUENTLY_USED,sortById:!1}),!function(e,t,n,l,i){var a;if(null==t)return;let s=null!==(a=l.get(t.id))&&void 0!==a?a:[],r=C(s),o=s.length<t.getMaxSoundboardSlots()&&n,u=0===r.length;(o||u)&&!i&&r.push({type:h.SoundboardSoundItemType.ADD_SOUND,guild:t});!(i&&u)&&e.push({categoryInfo:{type:h.SoundboardSoundGridSectionType.GUILD,guild:t},key:t.id,items:r})}(e,x,y,g,t),!A&&T(e,g),!function(e,t,n,l){for(let a of t){var i;if(a.id===n)continue;let t=null!==(i=l.get(a.id))&&void 0!==i?i:[],s=C(t);s.length>0&&e.push({categoryInfo:{type:h.SoundboardSoundGridSectionType.GUILD,guild:a},key:a.id,items:s})}}(e,N,null==x?void 0:x.id,g),A&&T(e,g),{categories:e,isFetching:v})},[_,g,I,L,M,R,O,x,y,t,A,N,n,v])}",
        "useSearchCategories": "function v(e,t,n){return l.useMemo(()=>n.length>0?[{key:h.SoundboardSoundGridSectionType.SEARCH,categoryInfo:{type:h.SoundboardSoundGridSectionType.SEARCH},items:C(t,!1)}]:e,[e,n.length,t])}"
    }
}