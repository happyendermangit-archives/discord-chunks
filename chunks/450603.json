{
    "exports": {
        "default": "function y(e){let{channelId:t,guildId:i,participant:l,className:E,compact:C=!1,disableInteraction:S=!1,maxVisibleUsers:I=3}=e,[v,y]=r.useState(!1),R=r.useRef(new d.DelayedCall(150,()=>y(!1))),O=(0,o.useStateFromStoresArray)([p.default,g.default],()=>{if(l.type===_.ParticipantTypes.STREAM){let e=p.default.getViewerIds(l.id);return e.length>0?e.map(e=>g.default.getUser(e)).filter(m.isNotNullish):M}return l.type===_.ParticipantTypes.ACTIVITY?l.participants.size>0?Array.from(l.participants).map(e=>g.default.getUser(e)).filter(m.isNotNullish):M:M},[l]),x=r.useCallback(()=>{R.current.cancel(),y(!0)},[]),b=r.useCallback(()=>{R.current.delay()},[]),D=r.useCallback((e,t)=>{x(),(0,f.openContextMenuLazy)(e,async()=>{let{default:e}=await n.el(\"450603@5519:5586\").then(n.bind(n,\"84406\"));return n=>(0,a.jsx)(e,{...n,user:t})},{onClose:b})},[b,x]);if(0===O.length)return null;if(C)return(0,a.jsx)(L,{maxVisibleUsers:I,users:O,guildId:i,channelId:t,className:E,participantType:l.type});let P=u()(O).take(I).map(e=>(0,a.jsx)(c.Avatar,{src:e.getAvatarURL(i,24),\"aria-label\":e.username,size:c.AvatarSizes.SIZE_24,className:A.viewer},e.id)).value();return O.length>I&&(P[P.length-1]=(0,a.jsxs)(\"div\",{className:A.overflow,children:[\"+\",O.length-I+1]},\"overflow\")),(0,a.jsx)(h.default,{section:T.AnalyticsSections.STREAM_VIEWER_POPOUT,children:(0,a.jsx)(\"div\",{onMouseEnter:x,onMouseLeave:b,children:(0,a.jsx)(c.Popout,{renderPopout:()=>(0,a.jsx)(N,{participantType:l.type,handleUserContextMenu:D,guildId:i,channelId:t,users:O,disableInteraction:S}),shouldShow:v,position:\"top\",children:()=>(0,a.jsx)(\"div\",{className:s()(A.viewers,E),children:P})})})})}"
    }
}