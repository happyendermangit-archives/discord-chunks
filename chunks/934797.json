{
    "exports": {
        "default": "function T(e){let{streamId:t,paused:n,onReady:o,onResize:s,className:T,...c}=e,d=r.useRef(null),S=r.useRef(null),A=r.useRef({width:0,height:0}),N=r.useRef({streamId:t,paused:n,onReady:o,onResize:s});return r.useLayoutEffect(()=>{let{current:e}=d;if(null!=e){let t=document.createElement(\"video\");t.style.display=\"block\",t.style.width=\"100%\",t.style.height=\"100%\",t.autoplay=!0,t.muted=!0,t.addEventListener(\"pause\",function(){!N.current.paused&&S.current?.play()}),t.addEventListener(\"resize\",function(){let{width:e,height:t}=A.current,n=S.current?.videoWidth??0,i=S.current?.videoHeight??0;if(e!==n||t!==i){let e={width:n,height:i};N.current.onResize?.(e),A.current=e}}),t.addEventListener(\"canplaythrough\",function(){E.info(`handleReady for ${N.current.streamId}, have onReady callback = ${null!=N.current.onReady}`),N.current.onReady?.()}),E.info(`create video element for ${N.current.streamId}, readyState=${t.readyState}`),t.readyState>3&&E.error(`video element for ${N.current.streamId} was ready before attached`),e.appendChild(t),S.current=t}},[]),r.useEffect(()=>{N.current.streamId=t,N.current.paused=n,N.current.onReady=o,N.current.onResize=s}),r.useEffect(()=>{let e=S.current;if(null!=e){if(n)null!=e.srcObject&&(e.srcObject=null,I(t));else{var i;let n;E.info(`attaching srcObject for ${t}`);return e.srcObject=(i=t,null==(n=u.get(i))?(n=new l(i),(0,_.getVoiceEngine)().addDirectVideoOutputSink(i),u.set(i,n)):n.addref(),n.stream),()=>{I(t),e.srcObject=null}}}},[n,t]),(0,i.jsx)(\"div\",{className:a()(\"media-engine-video\",T),ref:d,...c})}"
    }
}