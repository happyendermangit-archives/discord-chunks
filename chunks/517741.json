{
    "exports": {
        "default": "class E extends s.default{constructor(e){super(),this.socket=e}get guildId(){return this.getState().guildId}get channelId(){return this.getState().channelId}computeVoiceFlags(){let e=0,t=l.ClipsAllowVoiceRecording.getSetting();e=(0,m.setFlag)(e,h.VoiceFlags.ALLOW_VOICE_RECORDING,t);let n=(0,a.default)(c.default),s=(0,i.areClipsEnabled)()&&r.default.getSettings().clipsEnabled&&(f.default.getCurrentUserActiveStream()?.state===h.ApplicationStreamStates.ACTIVE||f.default.getCurrentUserActiveStream()?.state===h.ApplicationStreamStates.PAUSED),{enableDecoupledGameClipping:_}=u.default.getCurrentConfig({location:\"computeVoiceFlags\"}),g=n&&r.default.getSettings().decoupledClipsEnabled&&o.default.getVisibleGame()?.windowHandle!=null&&_;e=(0,m.setFlag)(e,h.VoiceFlags.CLIPS_ENABLED,s||g);let{enableViewerClipping:E}=d.default.getCurrentConfig({location:\"computeVoiceFlags\"},{autoTrackExposure:!1}),p=E&&n&&r.default.getSettings().viewerClipsEnabled;return e=(0,m.setFlag)(e,h.VoiceFlags.ALLOW_ANY_VIEWER_CLIPS,p)}getInitialState(){return{guildId:null,channelId:null,selfMute:c.default.isSelfMute(),selfDeaf:c.default.isSelfDeaf(),selfVideo:c.default.isVideoEnabled(),preferredRegion:null,videoStreamParameters:null,flags:0}}getNextState(e){let{guildId:t,channelId:n}=e;return{guildId:t,channelId:n,selfMute:c.default.isSelfMute(),selfDeaf:c.default.isSelfDeaf(),selfVideo:c.default.isVideoEnabled(),preferredRegion:g.default.getPreferredRegion(),videoStreamParameters:c.default.getVideoStreamParameters(),flags:this.computeVoiceFlags()}}shouldCommit(){return this.socket.isSessionEstablished()}didCommit(e){let{guildId:t,channelId:n,selfMute:s,selfDeaf:i,selfVideo:r,preferredRegion:a,videoStreamParameters:o,flags:u=0}=e;r&&_.default.getChannel(n)?.type===h.ChannelTypes.GUILD_STAGE_VOICE?this.socket.voiceStateUpdate({guildId:t,channelId:n,selfMute:s,selfDeaf:i,selfVideo:r,preferredRegion:a,videoStreamParameters:o,flags:u}):this.socket.voiceStateUpdate({guildId:t,channelId:n,selfMute:s,selfDeaf:i,selfVideo:r,preferredRegion:a,flags:u})}}"
    }
}