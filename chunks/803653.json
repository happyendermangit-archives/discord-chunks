{
    "exports": {
        "executeQuery": "function A(e,t,n){if(!v({location:\"executeQuery\"}))return!0===n.allowFetch&&u.querySearchManager((0,s.getCommandContext)(e),t.text??\"\",n.limit??10,t.commandType),{commands:h.default.getQueryCommands(e.id,t.commandType,t.text??\"\")??[],sections:h.default.getApplicationSections(e.id,t.commandType)??[]};let{descriptors:i,commands:a,loading:l}=f.default.query(e,t,n),r=[];if(null!=n.placeholderCount&&l)for(let e=0;e<n.placeholderCount;e++)r.push(b(e,t.commandType));return{commands:l?[...a,...r]:a,sections:l&&0===i.length?[d.BUILT_IN_SECTIONS[I.BuiltInSectionId.BUILT_IN]]:i}}",
        "getCachedApplicationSection": "function S(e,t,n){if(!v({location:\"getCachedApplicationSection\"}))return h.default.getApplicationSections(e.id,t)?.find(e=>e.id===n);let i=f.default.getUserState(),a=f.default.getContextState(e),s=i.result?.sections?.[n]??a.result?.sections?.[n];return s?.descriptor}",
        "getCachedCommand": "function y(e,t){if(null==t)return{application:void 0,command:void 0};if(!v({location:\"getCachedCommand\"})){let e=m.default.getCommand(t),n=m.default.getApplication(e?.applicationId);return{command:e,application:n}}let n=f.default.getUserState(),i=f.default.getContextState(e);for(let e of Object.values(n.result?.sections??{}).concat(Object.values(i.result?.sections??{}))){let n=e.commands[t];if(null!=n)return{application:e.descriptor.application,command:n}}return{application:void 0,command:void 0}}",
        "getCachedResults": "function g(e,t,n){if(!v({location:\"getCachedResults\"}))return{commands:h.default.getQueryCommands(e.id,t,n)??[],sections:h.default.getApplicationSections(e.id,t)??[]};let i=f.default.query(e,{commandType:t,text:n},{scoreMethod:p.ScoreMethod.COMMAND_OR_APPLICATION,allowFetch:!1});return{commands:i.commands,sections:i.descriptors}}",
        "getChangeKeys": "function x(e,t,n){if(!v({location:\"getChangeKeys\"},{autoTrackExposure:!1}))return[h.default.getQueryCommands(e.id,t,n)];let i=f.default.getUserState(),a=f.default.getContextState(e);return[i?.result,a?.result]}",
        "isInIndexExperiment": "function v(e,t){return c.default.getCurrentConfig(e,t).enabled}",
        "useCommand": "function O(e,t){if(!L({location:\"useCommand\"})){let n=(0,a.useStateFromStores)([r.default],()=>{if(e?.isDM()){let t=e.getRecipientId(),n=r.default.getUser(t);if(null!=n&&n.bot)return n}return null},[e]),{command:s,application:l}=(0,a.useStateFromStoresObject)([m.default],()=>{let e=null!=t?m.default.getCommand(t):void 0,n=m.default.getApplication(e?.applicationId);return{command:e,application:n}});return(i.useEffect(()=>{null!=e&&null==s&&(null!=n?u.fetchCommandsForApplication({guildId:null,channelId:e.id,applicationId:n.id}):null!=e.guild_id&&null!=t&&u.fetchCommand(e.guild_id,e.id,t))},[n,e,s,t]),null==e||null==e.guild_id&&(null==n||null==l||n.id!==l.bot?.id))?{command:void 0,application:void 0}:{command:s,application:l}}let n=(0,f.useUserIndexState)(!0,!0),s=(0,f.useContextIndexState)(e,!0,!0);return i.useMemo(()=>{if(null!=t)for(let e of Object.values(n.result?.sections??{}).concat(Object.values(s.result?.sections??{}))){let n=e.commands[t];if(null!=n)return{command:n,application:e.descriptor.application}}return{command:void 0,application:void 0}},[s.result,n.result,t])}",
        "useCommandsForApplication": "function R(e,t,n){if(!L({location:\"useCommandsForApplication\"}))return i.useEffect(()=>{u.fetchCommands(e.guild_id,e.id,n)},[n,e]),(0,a.useStateFromStoresObject)([m.default],()=>{let i=m.default.getApplication(t);return{commands:m.default.getCommands(n,e.id),application:i}});let s=(0,f.useUserIndexState)(!0,!0),l=(0,f.useContextIndexState)(e,!0,!0);return i.useMemo(()=>{let e=s.result?.sections?.[t]??l.result?.sections[t],i=Object.values(e?.commands??{}).map(e=>null==e.rootCommand?e:(0,_.buildCommand)({rootCommand:e.rootCommand,command:e.rootCommand,applicationId:e.applicationId})).reduce((e,t)=>(e[t.id]=t,e),{});return{application:e?.descriptor?.application,commands:n.map(e=>i[e]).filter(o.isNotNullish)}},[s?.result,l?.result,t,n])}",
        "useDiscovery": "function T(e,t,n){if(!L({location:\"useDiscovery\"}))return(0,h.useDiscoveryState)(e,t.commandType,n.placeholderCount??0,n.limit??10,{canOnlyUseTextCommands:t.builtIns===p.BuiltInCommandFilter.ONLY_TEXT,canUseFrecency:n.includeFrecency});let s=(0,a.useStateFromStores)([l.default],()=>l.default.getGuild(e?.guild_id),[e.guild_id]),{descriptors:r,commands:o,sectionedCommands:u,loading:c}=(0,f.useDiscoveryState)(e,s,t,{...n,allowFetch:!0}),[m,E]=i.useState(null),_=i.useRef(!1);_.current=c;let y=i.useMemo(()=>{let e=[];if(null!=n.placeholderCount)for(let i=0;i<n.placeholderCount;i++)e.push(b(i,t.commandType));return e},[t.commandType,n.placeholderCount]);return i.useMemo(()=>{let e={loading:_,commands:o,activeSections:r,commandsByActiveSection:u,filteredSectionId:m,hasMoreAfter:!1,placeholders:c?y:[],sectionDescriptors:r,filterSection:e=>{E(e)},scrollDown:C.NOOP};if(null!=m){let t=u.find(e=>e.section.id===m);e.activeSections=null!=t?[t.section]:[],e.commandsByActiveSection=null!=t?[t]:[]}if(c){let t=u[0];if(null!=t)e.commandsByActiveSection=[{section:t.section,data:[...t.data,...y]},...u.slice(1)];else{let t=d.BUILT_IN_SECTIONS[I.BuiltInSectionId.BUILT_IN];e.activeSections=[t],e.commandsByActiveSection=[{section:t,data:y}]}e.commands=[...o,...y]}return e},[o,r,m,u,c,y])}",
        "useQuery": "function N(e,t,n){if(!L({location:\"useQuery\"}))return(0,h.useQueryState)(e,t.commandType,t.text??\"\",n.limit??10);let{descriptors:a,commands:s,loading:l}=(0,f.useQueryState)(e,t,{...n,allowFetch:!0}),r=i.useMemo(()=>{let e=[];if(null!=n.placeholderCount)for(let i=0;i<n.placeholderCount;i++)e.push(b(i,t.commandType));return e},[t.commandType,n.placeholderCount]);return i.useMemo(()=>({commands:l?[...s,...r]:s,sections:l&&0===a.length?[d.BUILT_IN_SECTIONS[I.BuiltInSectionId.BUILT_IN]]:a,scrollDown:C.NOOP}),[l,s,a,r])}",
        "useSearchOpenState": "function M(){!L({location:\"useSearchOpenState\"})&&(0,h.useSearchStoreOpenState)()}"
    }
}