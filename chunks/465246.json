{
    "exports": {
        "GridActionType": {
            "UPDATE_COLUMN_COUNTS": "UPDATE_COLUMN_COUNTS",
            "SET_FOCUSED_POSITION": "SET_FOCUSED_POSITION"
        },
        "default": "function l(e){let{navId:t,columnCounts:n,focusedX:l=0,focusedY:u=0,onSelect:I,prepareFocus:T,getNewFocusPosition:c,maintainFocusPosition:d=!0,enabled:S=!0,onDispatch:A,autoFocusElement:N=!0,useVirtualFocus:O=!1}=e,R=i.useCallback((e,t)=>{let n=(0,r.default)(e,t);return null!=A&&A(e,n,t),n},[A]),[C,h]=i.useReducer(R,{focusedX:l,focusedY:u,columnCounts:n}),{columnCounts:L,focusedX:D,focusedY:m}=C,[p]=i.useState(()=>(0,a.throttle)(h,16));return i.useEffect(()=>{h({type:r.GridActionType.UPDATE_COLUMN_COUNTS,columnCounts:n})},[n]),function(e){let{navId:t,columnCounts:n,focusedX:l,focusedY:u,onSelect:I,prepareFocus:T,getNewFocusPosition:c,dispatch:d,maintainFocusPosition:S,enabled:A,autoFocusElement:N,useVirtualFocus:O}=e,R=i.useRef();R.current=A;let C=E(_(t,l,u)),[h,L]=i.useState(!1),[D,m]=i.useState(!1),[p,f]=i.useState(!1),[P]=i.useState(()=>new a.HandlerMemoizer(e=>{let[t,n]=e.split(\",\").map(Number);return()=>{L(!0),d({type:r.GridActionType.SET_FOCUSED_POSITION,x:t,y:n})}}));i.useEffect(()=>()=>P.clean(),[P]);let M=i.useCallback(e=>{if(!R.current||!N)return!1;e.focus()},[N]),U=i.useCallback((e,n)=>{let i=_(t,e,n);(null!=T?T(e,n,i):Promise.resolve()).then(()=>{let e=E(i);null!=e?(M(e),m(!1)):requestAnimationFrame(()=>m(!0))})},[t,T,M]),g=i.useCallback(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],[n,i]=null!=c?c(l,u):[l,u];if((n!==l||i!==u)&&(d({type:r.GridActionType.SET_FOCUSED_POSITION,x:n,y:i}),!e)){f(!0);return}let o=E(_(t,n,i));null!=o&&(f(!0),M(o))},[d,l,u,c,t,M]),[G,y]=i.useState(!1);i.useEffect(()=>{if(!G||!h)return;y(!1);let e=E(_(t,l,u));if(null!=e){M(e);return}L(!1);let n=E(_(t));null!=n&&M(n)},[t,G,h,M,l,u]);let v=i.useCallback(e=>{R.current&&null==e&&y(!0)},[]);i.useEffect(()=>{h&&D&&null!=C&&(M(C),m(!1))},[D,C]),i.useEffect(()=>{h&&(!p&&U(l,u),f(!1))},[l,u]);let b=i.useCallback(e=>{if(!R.current)return;if(!O&&s.includes(e.key)&&!(e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)&&e.currentTarget===e.target){e.preventDefault(),e.stopPropagation(),g();return}let t=function(e){switch(e.key){case o.Keys.ENTER:return o.ActionType.SELECT_FOCUSED_ITEM;case o.Keys.UP:return o.ActionType.NAVIGATE_UP;case o.Keys.DOWN:return o.ActionType.NAVIGATE_DOWN;case o.Keys.RIGHT:return o.ActionType.NAVIGATE_RIGHT;case o.Keys.LEFT:return o.ActionType.NAVIGATE_LEFT;case o.Keys.HOME:if(e.ctrlKey)return o.ActionType.NAVIGATE_START;return o.ActionType.NAVIGATE_INLINE_START;case o.Keys.END:if(e.ctrlKey)return o.ActionType.NAVIGATE_END;return o.ActionType.NAVIGATE_INLINE_END}}(e);switch(t){case o.ActionType.NAVIGATE_UP:case o.ActionType.NAVIGATE_DOWN:case o.ActionType.NAVIGATE_RIGHT:case o.ActionType.NAVIGATE_LEFT:case o.ActionType.NAVIGATE_INLINE_START:case o.ActionType.NAVIGATE_INLINE_END:case o.ActionType.NAVIGATE_START:case o.ActionType.NAVIGATE_END:!(0===n.length||0===l&&0===u&&t===o.ActionType.NAVIGATE_LEFT)&&(e.preventDefault(),e.stopPropagation()),d({type:t});return;case o.ActionType.SELECT_FOCUSED_ITEM:var i;if(N&&(i=C,i?.ownerDocument.activeElement!==i)||e.repeat)return;e.preventDefault(),e.stopPropagation(),d({type:t}),null!=I?I(l,u,e):null!=C&&C.click()}},[g,d,N,C,I,l,u]),B=i.useCallback(e=>e.currentTarget!==e.target?(!h&&(L(!0),f(!0)),!1):h?(g(!1),!1):void(S&&null!=C?U(l,u):g(!0)),[h,S,C,g,U,l,u]),w=i.useCallback(e=>{if(e.target!==e.currentTarget){if(e.currentTarget.contains(e.relatedTarget))return!1;L(!1)}},[]),H=i.useMemo(()=>Math.max(...n),[n]),F=i.useCallback(()=>({role:\"grid\",\"aria-rowcount\":n.length,\"aria-colcount\":H,tabIndex:h&&S?-1:0,\"data-ref-id\":t,onKeyDown:b,onFocus:B,onBlur:w}),[n.length,H,h,S,t,b,B,w]),V=i.useCallback((e,n)=>{let i={role:\"gridcell\",\"aria-rowindex\":n+1,\"aria-colindex\":e+1,id:(0,a.makeGridId)(t,e,n),tabIndex:S&&e===l&&n===u?0:-1,onFocus:P.get(`${e},${n}`)};return e===l&&n===u&&(i.ref=v),i},[t,S,l,u,P,v]),k=i.useCallback(e=>({role:\"row\",\"aria-rowindex\":e+1}),[]);return i.useMemo(()=>({dispatch:d,getContainerProps:F,getItemProps:V,getRowProps:k}),[d,F,V,k])}({navId:t,columnCounts:L,focusedX:D,focusedY:m,dispatch:p,onSelect:I,prepareFocus:T,getNewFocusPosition:c,maintainFocusPosition:d,enabled:S,autoFocusElement:N,useVirtualFocus:O})}"
    }
}