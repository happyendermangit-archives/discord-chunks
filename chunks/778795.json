{
    "exports": {
        "HTML5BackendImpl": "function c(e,t,n){var o=this;!function(e,t){if(!(e instanceof t))throw TypeError(\"Cannot call a class as a function\")}(this,c),d(this,\"options\",void 0),d(this,\"actions\",void 0),d(this,\"monitor\",void 0),d(this,\"registry\",void 0),d(this,\"enterLeaveCounter\",void 0),d(this,\"sourcePreviewNodes\",new Map),d(this,\"sourcePreviewNodeOptions\",new Map),d(this,\"sourceNodes\",new Map),d(this,\"sourceNodeOptions\",new Map),d(this,\"dragStartSourceIds\",null),d(this,\"dropTargetIds\",[]),d(this,\"dragEnterTargetIds\",[]),d(this,\"currentNativeSource\",null),d(this,\"currentNativeHandle\",null),d(this,\"currentDragSourceNode\",null),d(this,\"altKeyPressed\",!1),d(this,\"mouseMoveTimeoutTimer\",null),d(this,\"asyncEndDragFrameId\",null),d(this,\"dragOverTargetIds\",null),d(this,\"getSourceClientOffset\",function(e){var t=o.sourceNodes.get(e);return t&&(0,a.getNodeClientOffset)(t)||null}),d(this,\"endDragNativeItem\",function(){o.isDraggingNativeItem()&&(o.actions.endDrag(),o.currentNativeHandle&&o.registry.removeSource(o.currentNativeHandle),o.currentNativeHandle=null,o.currentNativeSource=null)}),d(this,\"isNodeInDocument\",function(e){return!!(e&&o.document&&o.document.body&&o.document.body.contains(e))}),d(this,\"endDragIfSourceWasRemovedFromDOM\",function(){var e=o.currentDragSourceNode;!(null==e||o.isNodeInDocument(e))&&o.clearCurrentDragSourceNode()&&o.monitor.isDragging()&&o.actions.endDrag()}),d(this,\"handleTopDragStartCapture\",function(){o.clearCurrentDragSourceNode(),o.dragStartSourceIds=[]}),d(this,\"handleTopDragStart\",function(e){if(!e.defaultPrevented){var t=o.dragStartSourceIds;o.dragStartSourceIds=null;var n=(0,a.getEventClientOffset)(e);o.monitor.isDragging()&&o.actions.endDrag(),o.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:o.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,s=(0,i.matchNativeItemType)(r);if(o.monitor.isDragging()){if(r&&\"function\"==typeof r.setDragImage){var c=o.monitor.getSourceId(),l=o.sourceNodes.get(c),u=o.sourcePreviewNodes.get(c)||l;if(u){var d=o.getCurrentSourcePreviewNodeOptions(),p=d.anchorX,f=d.anchorY,m=d.offsetX,h=d.offsetY,v=(0,a.getDragPreviewOffset)(l,u,n,{anchorX:p,anchorY:f},{offsetX:m,offsetY:h});r.setDragImage(u,v.x,v.y)}}try{null==r||r.setData(\"application/json\",{})}catch(e){}o.setCurrentDragSourceNode(e.target),o.getCurrentSourcePreviewNodeOptions().captureDraggingState?o.actions.publishDragSource():setTimeout(function(){return o.actions.publishDragSource()},0)}else if(s)o.beginDragNativeItem(s);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute(\"draggable\")))return;e.preventDefault()}}}),d(this,\"handleTopDragEndCapture\",function(){o.clearCurrentDragSourceNode()&&o.monitor.isDragging()&&o.actions.endDrag()}),d(this,\"handleTopDragEnterCapture\",function(e){if(o.dragEnterTargetIds=[],!(!o.enterLeaveCounter.enter(e.target)||o.monitor.isDragging())){var t=e.dataTransfer,n=(0,i.matchNativeItemType)(t);n&&o.beginDragNativeItem(n,t)}}),d(this,\"handleTopDragEnter\",function(e){var t=o.dragEnterTargetIds;o.dragEnterTargetIds=[],o.monitor.isDragging()&&(o.altKeyPressed=e.altKey,t.length>0&&o.actions.hover(t,{clientOffset:(0,a.getEventClientOffset)(e)}),t.some(function(e){return o.monitor.canDropOnTarget(e)})&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=o.getCurrentDropEffect())))}),d(this,\"handleTopDragOverCapture\",function(){o.dragOverTargetIds=[]}),d(this,\"handleTopDragOver\",function(e){var t=o.dragOverTargetIds;if(o.dragOverTargetIds=[],!o.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=\"none\");return}o.altKeyPressed=e.altKey,o.actions.hover(t||[],{clientOffset:(0,a.getEventClientOffset)(e)}),(t||[]).some(function(e){return o.monitor.canDropOnTarget(e)})?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=o.getCurrentDropEffect())):o.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=\"none\"))}),d(this,\"handleTopDragLeaveCapture\",function(e){o.isDraggingNativeItem()&&e.preventDefault(),o.enterLeaveCounter.leave(e.target)&&o.isDraggingNativeItem()&&setTimeout(function(){return o.endDragNativeItem()},0)}),d(this,\"handleTopDropCapture\",function(e){if(o.dropTargetIds=[],o.isDraggingNativeItem()){var t;e.preventDefault(),null===(t=o.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)}else(0,i.matchNativeItemType)(e.dataTransfer)&&e.preventDefault();o.enterLeaveCounter.reset()}),d(this,\"handleTopDrop\",function(e){var t=o.dropTargetIds;o.dropTargetIds=[],o.actions.hover(t,{clientOffset:(0,a.getEventClientOffset)(e)}),o.actions.drop({dropEffect:o.getCurrentDropEffect()}),o.isDraggingNativeItem()?o.endDragNativeItem():o.monitor.isDragging()&&o.actions.endDrag()}),d(this,\"handleSelectStart\",function(e){var t=e.target;if(\"function\"==typeof t.dragDrop)\"INPUT\"!==t.tagName&&\"SELECT\"!==t.tagName&&\"TEXTAREA\"!==t.tagName&&!t.isContentEditable&&(e.preventDefault(),t.dragDrop())}),this.options=new s.OptionsReader(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new r.EnterLeaveCounter(this.isNodeInDocument)}"
    }
}