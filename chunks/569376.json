{
    "exports": {
        "PictureInPictureWindow": "class h extends r.PureComponent{static #e=this.defaultProps={hidden:!1,roundCorners:!0};componentDidMount(){this.setPosition(this.props.position)}componentDidUpdate(e){(e.edgeOffsetTop!==this.props.edgeOffsetTop||e.edgeOffsetLeft!==this.props.edgeOffsetLeft||e.edgeOffsetBottom!==this.props.edgeOffsetBottom||e.edgeOffsetRight!==this.props.edgeOffsetRight||e.maxX!==this.props.maxX||e.maxY!==this.props.maxY||e.dockedRect!==this.props.dockedRect||e.roundCorners!==this.props.roundCorners)&&this.ensureIsInPosition()}componentWillUnmount(){this._resizeObserver?.disconnect()}getPosition(e){let t=(0,l.findDOMNode)(this._innerDiv);if(null!=t){let e=t.getBoundingClientRect();this._width=e.width,this._height=e.height}let{edgeOffsetTop:n,edgeOffsetLeft:a,edgeOffsetBottom:r,edgeOffsetRight:i,maxX:s,maxY:o,dockedRect:c}=this.props,f=Math.round(n),h=Math.round(o-r-this._height),p=Math.round(a),g=Math.round(s-i-this._width),E=(0,u.getPlatform)()!==u.PlatformTypes.WEB&&this.inPopout?22:0;if(null!=c)return{y:(c?.y??0)-E,x:c?.x??0};switch(e){case d.PictureInPicturePositions.TOP_LEFT:return{y:f,x:p};case d.PictureInPicturePositions.BOTTOM_LEFT:return{y:h,x:p};case d.PictureInPicturePositions.TOP_RIGHT:return{y:f,x:g};default:return{y:h,x:g}}}setPosition(e){let{x:t,y:n}=this.getPosition(e);this._draggable?.setPosition(t,n)}animateToPosition(e,t){let{x:n,y:a}=this.getPosition(e);this._draggable?.animateToPosition(n,a,{},t)}calculateDecayingPosition(e,t,n,a){return{x:e+200*n,y:t+200*a}}getXOffset(){let{position:e,edgeOffsetLeft:t,edgeOffsetRight:n}=this.props;switch(e){case d.PictureInPicturePositions.TOP_LEFT:case d.PictureInPicturePositions.BOTTOM_LEFT:return-t;default:return n}}getYOffset(){let{position:e,edgeOffsetTop:t,edgeOffsetBottom:n}=this.props;switch(e){case d.PictureInPicturePositions.TOP_LEFT:case d.PictureInPicturePositions.TOP_RIGHT:return-t;default:return n}}get inPopout(){return this.props.appContext===d.AppContext.POPOUT}render(){let{maxX:e,maxY:t,dockedRect:n,hidden:r,roundCorners:i,className:l}=this.props,u={};return null!=n&&(u={transform:`translate3d(${n.x}, ${n.y}, 0)`,width:n.width,height:n.height}),(0,a.jsx)(o.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:s()(c.pictureInPictureWindow,l,{[c.hidden]:r,[c.borderRadius]:i}),maxX:e,maxY:t,disabled:null!=n,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd,children:(0,a.jsx)(\"div\",{ref:this.handleSetInnerDivRef,style:u,children:this.props.children})})}constructor(...e){super(...e),this._width=0,this._height=0,this._velocityX=0,this._velocityY=0,this._lastMoveX=0,this._lastMoveY=0,this.ensureIsInPosition=()=>{this.setPosition(this.props.position)},this.handleSetInnerDivRef=e=>{this._innerDiv=e;let t=e?.ownerDocument.defaultView;null!=e&&null!=t&&(this._resizeObserver=new t.ResizeObserver(this.ensureIsInPosition),this._resizeObserver?.observe(e))},this.handleSetDraggableRef=e=>{this._draggable=e},this.handleDragStart=(e,t)=>{this._velocityX=0,this._velocityY=0,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=new Date},this.handleDrag=(e,t)=>{let n=new Date,a=Number(n)-Number(this._lastMoveTime);this._velocityX=(e-this._lastMoveX)/a,this._velocityY=(t-this._lastMoveY)/a,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=n},this.handleDragEnd=(e,t)=>{let n;let{maxX:a,maxY:r}=this.props,i=this.calculateDecayingPosition(e,t,this._velocityX,this._velocityY),s=!0,l=!0;if(i.x>a/2&&(l=!1),i.y>r/2&&(s=!1),n=s&&l?d.PictureInPicturePositions.TOP_LEFT:s&&!l?d.PictureInPicturePositions.TOP_RIGHT:!s&&l?d.PictureInPicturePositions.BOTTOM_LEFT:d.PictureInPicturePositions.BOTTOM_RIGHT,this.animateToPosition(n,this.ensureIsInPosition),n!==this.props.position){let{id:e,onMove:t}=this.props;t?.(e,n)}}}}",
        "default": {
            "type": "e=>{let{selectedPIPWindow:t,pipWindows:n,maxX:r,maxY:i,onWindowMove:s,dockedRect:l,pictureInPictureComponents:u,appContext:o,roundCorners:p}=e;return(0,a.jsx)(\"div\",{className:c.pictureInPicture,children:(()=>{if(null==t)return null;let e=n.map(e=>{if(e.id!==t.id&&e.component!==d.PictureInPictureComponents.EMBED_IFRAME)return null;let n=\"string\"==typeof e.component?u[e.component]:e.component;return(0,a.jsx)(n,{...e.props},`pipWindow-${e.id}`)});return(0,a.jsx)(h,{appContext:o,position:t.position,id:t.id,hidden:t.hidden,onMove:s,maxX:r,maxY:i,dockedRect:l,edgeOffsetTop:f.top,edgeOffsetBottom:f.bottom,edgeOffsetLeft:f.left,edgeOffsetRight:f.top,roundCorners:p,children:e})})()})}",
            "compare": null
        }
    }
}