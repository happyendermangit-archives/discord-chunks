{
    "exports": {
        "IMAGE_GIF_RE": {
            "exec": "function exec() { [native code] }",
            "dotAll": false,
            "flags": "i",
            "global": false,
            "hasIndices": false,
            "ignoreCase": true,
            "multiline": false,
            "source": "\\.gif($|\\?|#)",
            "sticky": false,
            "unicode": false,
            "compile": "function compile() { [native code] }",
            "test": "function test() { [native code] }",
            "unicodeSets": false
        },
        "default": "class E extends a.Component{static #e=this.visibilityObserver=new l.VisibilityObserver({threshold:.7});static #t=this.defaultProps={shouldLink:!1,autoPlay:!1,animated:!1,minWidth:0,minHeight:0,shouldRenderAccessory:!0};static isAnimated(e){let{src:t,original:n,animated:i}=e;return i||m.test(null!=n&&\"\"!==n?n:t)}static isSrcPNG(e){let{src:t}=e;return h.test(t)}constructor(e){super(e),this.state={readyState:p.ImageReadyStates.LOADING,hasMouseOver:!1,hasFocus:!1},this._cancellers=new Set,this.observeVisibility=()=>{E.visibilityObserver.observe(this)},this.unobserveVisibility=()=>{E.visibilityObserver.unobserve(this)},this.handleImageLoad=e=>this.setState({readyState:e?p.ImageReadyStates.ERROR:p.ImageReadyStates.READY}),this.preloadImage=(e,t)=>{let{width:n,height:i}=e,{width:a,height:s}=this.props;(1!==a||1!==s)&&this.loadImage(this.getSrc((0,u.getRatio)({width:a,height:s,maxWidth:n,maxHeight:i})),t)},this.onMouseEnter=e=>{E.isAnimated(this.props)&&this.setState({hasMouseOver:!0});let{onMouseEnter:t}=this.props;null!=t&&t(e,{preloadImage:this.preloadImage})},this.onFocus=e=>{E.isAnimated(this.props)&&this.setState({hasFocus:!0})},this.onBlur=e=>{let{currentTarget:t,relatedTarget:n}=e;!t.contains(n)&&this.setState({hasFocus:!1})},this.onMouseLeave=()=>this.setState({hasMouseOver:!1}),this.onClick=e=>{let{onZoom:t,onClick:n}=this.props;null!=n?n(e):null!=t&&(e.preventDefault(),t(e,{zoomThumbnailPlaceholder:this.getSrc(this.getRatio())}))},this.renderAccessory=()=>{let{hasMouseOver:e,hasFocus:t}=this.state,n=null!=this.props.renderAccessory?this.props.renderAccessory():null;return this.props.shouldRenderAccessory?e||t?n:(0,i.jsx)(d.default,{}):null},(0,r.isImageLoaded)(this.getSrc(this.getRatio(),E.isAnimated(this.props)))&&(this.state.readyState=p.ImageReadyStates.READY)}componentDidMount(){let{readyState:e}=this.state;e===p.ImageReadyStates.LOADING&&this.loadImage(this.getSrc(this.getRatio(),E.isAnimated(this.props)),this.handleImageLoad),E.isAnimated(this.props)&&this.observeVisibility()}componentDidUpdate(e){let t=E.isAnimated(this.props);E.isAnimated(e)!==t&&(t?this.observeVisibility():this.unobserveVisibility())}componentWillUnmount(){E.isAnimated(this.props)&&this.unobserveVisibility(),this._cancellers.forEach(e=>e()),this._cancellers.clear()}getSrc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{src:n,width:i,height:a,maxWidth:s,maxHeight:l,mediaLayoutType:u}=this.props,d=null,c=null;return o.SUPPORTS_WEBP&&(t||!E.isAnimated(this.props))?(d=\"webp\",E.isSrcPNG(this.props)&&(c=\"lossless\")):t&&(d=\"png\"),(0,r.getImageSrc)({src:n,width:i,height:a,ratio:e,maxWidth:u===f.MediaLayoutType.MOSAIC?s:void 0,maxHeight:u===f.MediaLayoutType.MOSAIC?l:void 0,format:d,quality:c})}getRatio(){let{width:e,height:t,maxWidth:n=400,maxHeight:i=300,mediaLayoutType:a,useFullWidth:s}=this.props;return a===f.MediaLayoutType.MOSAIC&&s?(0,u.getCoverRatio)({width:e,height:t,maxWidth:n,maxHeight:i}):(0,u.getRatio)({width:e,height:t,maxWidth:n,maxHeight:i})}getType(){let{mediaLayoutType:e,responsive:t}=this.props;return e??(t?f.MediaLayoutType.RESPONSIVE:f.MediaLayoutType.STATIC)}loadImage(e,t){let{width:n,height:i}=this.props;if(1===n&&1===i)return;let a=(0,r.loadImage)(e,(e,n)=>{null!=a&&this._cancellers.delete(a),t?.(e,n)});null!=a&&this._cancellers.add(a)}render(){let{alt:e,zoomThumbnailPlaceholder:t,onZoom:n,shouldLink:a,onContextMenu:l,autoPlay:r,original:o,className:u,imageClassName:d,children:f,animated:m,shouldAnimate:h,width:_,height:I,minWidth:C,minHeight:y,maxWidth:S,maxHeight:g,onClick:x,renderAccessory:T,tabIndex:A,limitResponsiveWidth:N,useFullWidth:O,placeholder:R,placeholderVersion:M}=this.props,{readyState:v,hasMouseOver:L,hasFocus:P}=this.state,b=null!=n,k=this.getRatio(),D=(0,s.clamp)(Math.round(_*k),C??0,S??1/0),U=(0,s.clamp)(Math.round(I*k),y??0,g??1/0),j={alt:e,readyState:v,onContextMenu:l??void 0,zoomable:b,className:u,imageClassName:d,minWidth:C,minHeight:y,mediaLayoutType:this.getType(),limitResponsiveWidth:N,useFullWidth:O,tabIndex:A,width:D,height:U,src:\"\",placeholder:R,placeholderVersion:M,children:null!=f?e=>{let{src:t,size:n,alt:i,mediaLayoutType:a}=e;return f({src:t,size:n,alt:i,mediaLayoutType:a})}:void 0,onMouseEnter:this.onMouseEnter,onFocus:this.onFocus,onBlur:this.onBlur};if(1===j.width&&1===j.height)return null;switch((b||null!=x)&&(j.onClick=this.onClick),a&&(j.original=null!=o&&\"\"!==o?o:j.src),v){case p.ImageReadyStates.LOADING:null!=t&&(j.src=t);break;case p.ImageReadyStates.READY:if(E.isAnimated(this.props)){j.onMouseLeave=this.onMouseLeave;let e=(r||L||P)&&(null==h||h)&&E.visibilityObserver.isVisible(this);e?(j.src=this.getSrc(k),j.renderAccessory=T):(j.src=this.getSrc(k,!m||!r),j.renderAccessory=this.renderAccessory),null!=f&&(j.children=t=>{let{src:n,size:i,alt:a,mediaLayoutType:s}=t;return f({src:n,size:i,animating:e,alt:a,mediaLayoutType:s})})}else j.src=this.getSrc(k)}return(0,i.jsx)(c.default,{...j})}}"
    }
}