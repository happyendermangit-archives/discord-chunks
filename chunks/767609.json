{
    "exports": {
        "IMAGE_GIF_RE": {
            "exec": "function exec() { [native code] }",
            "dotAll": false,
            "flags": "i",
            "global": false,
            "hasIndices": false,
            "ignoreCase": true,
            "multiline": false,
            "source": "\\.gif($|\\?|#)",
            "sticky": false,
            "unicode": false,
            "compile": "function compile() { [native code] }",
            "test": "function test() { [native code] }",
            "unicodeSets": false
        },
        "default": "class S extends l.Component{static #e=this.visibilityObserver=new o.VisibilityObserver({threshold:.7});static #t=this.defaultProps={shouldLink:!1,autoPlay:!1,animated:!1,minWidth:0,minHeight:0,shouldRenderAccessory:!0};static isAnimated(e){let{src:t,original:n,animated:i}=e;return i||C.test(null!=n&&\"\"!==n?n:t)}static isSrcPNG(e){let{src:t}=e;return y.test(t)}constructor(e){super(e),this.imageLoadAnalyticsEnabled=!1,this.state={readyState:I.ImageReadyStates.LOADING,hasMouseOver:!1,hasFocus:!1},this.startLoadingTime=Date.now(),this._cancellers=new Set,this.observeVisibility=()=>{S.visibilityObserver.observe(this)},this.unobserveVisibility=()=>{S.visibilityObserver.unobserve(this)},this.handleImageLoad=(e,t)=>{this.setState({readyState:e?I.ImageReadyStates.ERROR:I.ImageReadyStates.READY},()=>this.trackLoadingCompleted(e,t,this.props.trigger??\"LOAD\"))},this.preloadImage=(e,t)=>{let{width:n,height:i}=e,{width:a,height:s}=this.props;(1!==a||1!==s)&&this.loadImage(this.getSrc((0,m.getRatio)({width:a,height:s,maxWidth:n,maxHeight:i})),(e,n)=>{this.trackLoadingCompleted(e,n,\"PRELOAD\"),t?.(e,n)})},this.onMouseEnter=e=>{S.isAnimated(this.props)&&this.setState({hasMouseOver:!0});let{onMouseEnter:t}=this.props;null!=t&&t(e,{preloadImage:this.preloadImage})},this.onFocus=e=>{S.isAnimated(this.props)&&this.setState({hasFocus:!0})},this.onBlur=e=>{let{currentTarget:t,relatedTarget:n}=e;!t.contains(n)&&this.setState({hasFocus:!1})},this.onMouseLeave=()=>this.setState({hasMouseOver:!1}),this.onClick=e=>{let{onZoom:t,onClick:n}=this.props;null!=n?n(e):null!=t&&(e.preventDefault(),t(e,{zoomThumbnailPlaceholder:this.getSrc(this.getRatio()),trigger:\"CLICK\"}))},this.renderAccessory=()=>{let{hasMouseOver:e,hasFocus:t}=this.state,n=null!=this.props.renderAccessory?this.props.renderAccessory():null;return this.props.shouldRenderAccessory?e||t?n:(0,s.jsx)(h.default,{}):null},(0,d.isImageLoaded)(this.getSrc(this.getRatio(),S.isAnimated(this.props)))&&(this.state.readyState=I.ImageReadyStates.READY),this.imageLoadAnalyticsEnabled=g.getCurrentConfig({location:\"lazy_image\"}).enabled}componentDidMount(){let{readyState:e}=this.state;e===I.ImageReadyStates.LOADING&&this.loadImage(this.getSrc(this.getRatio(),S.isAnimated(this.props)),this.handleImageLoad),S.isAnimated(this.props)&&this.observeVisibility()}componentDidUpdate(e){let t=S.isAnimated(this.props);S.isAnimated(e)!==t&&(t?this.observeVisibility():this.unobserveVisibility())}componentWillUnmount(){S.isAnimated(this.props)&&this.unobserveVisibility(),this._cancellers.forEach(e=>e()),this._cancellers.clear()}getSrc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{src:n,width:i,height:a,maxWidth:s,maxHeight:l,mediaLayoutType:r}=this.props,{format:o,quality:u}=this.getFormatQuality(t);return(0,d.getImageSrc)({src:n,width:i,height:a,ratio:e,maxWidth:r===_.MediaLayoutType.MOSAIC?s:void 0,maxHeight:r===_.MediaLayoutType.MOSAIC?l:void 0,format:o,quality:u})}getFormatQuality(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null,n=null;return p.SUPPORTS_WEBP&&(e||!S.isAnimated(this.props))?(t=\"webp\",S.isSrcPNG(this.props)&&(n=\"lossless\")):e&&(t=\"png\"),{format:t,quality:n}}getRatio(){let{width:e,height:t,maxWidth:n=400,maxHeight:i=300,mediaLayoutType:a,useFullWidth:s}=this.props;return a===_.MediaLayoutType.MOSAIC&&s?(0,m.getCoverRatio)({width:e,height:t,maxWidth:n,maxHeight:i}):(0,m.getRatio)({width:e,height:t,maxWidth:n,maxHeight:i})}getType(){let{mediaLayoutType:e,responsive:t}=this.props;return e??(t?_.MediaLayoutType.RESPONSIVE:_.MediaLayoutType.STATIC)}loadImage(e,t){let{width:n,height:i}=this.props;if(this.startLoadingTime=Date.now(),1===n&&1===i)return;let a=(0,d.loadImage)(e,(e,n)=>{null!=a&&this._cancellers.delete(a),t?.(e,n)});null!=a&&this._cancellers.add(a)}render(){let{alt:e,zoomThumbnailPlaceholder:t,onZoom:n,shouldLink:i,onContextMenu:a,autoPlay:l,original:o,className:u,imageClassName:d,children:c,animated:f,shouldAnimate:p,width:m,height:h,minWidth:_,minHeight:C,maxWidth:y,maxHeight:g,onClick:x,renderAccessory:T,tabIndex:A,limitResponsiveWidth:N,useFullWidth:O,placeholder:R,placeholderVersion:M}=this.props,{readyState:v,hasMouseOver:L,hasFocus:P}=this.state,b=null!=n,k=this.getRatio(),D=(0,r.clamp)(Math.round(m*k),_??0,y??1/0),U=(0,r.clamp)(Math.round(h*k),C??0,g??1/0),j={alt:e,readyState:v,onContextMenu:a??void 0,zoomable:b,className:u,imageClassName:d,minWidth:_,minHeight:C,mediaLayoutType:this.getType(),limitResponsiveWidth:N,useFullWidth:O,tabIndex:A,width:D,height:U,src:\"\",placeholder:R,placeholderVersion:M,children:null!=c?e=>{let{src:t,size:n,alt:i,mediaLayoutType:a}=e;return c({src:t,size:n,alt:i,mediaLayoutType:a})}:void 0,onMouseEnter:this.onMouseEnter,onFocus:this.onFocus,onBlur:this.onBlur};if(1===j.width&&1===j.height)return null;switch((b||null!=x)&&(j.onClick=this.onClick),i&&(j.original=null!=o&&\"\"!==o?o:j.src),v){case I.ImageReadyStates.LOADING:null!=t&&(j.src=t);break;case I.ImageReadyStates.READY:if(S.isAnimated(this.props)){j.onMouseLeave=this.onMouseLeave;let e=(l||L||P)&&(null==p||p)&&S.visibilityObserver.isVisible(this);e?(j.src=this.getSrc(k),j.renderAccessory=T):(j.src=this.getSrc(k,!f||!l),j.renderAccessory=this.renderAccessory),null!=c&&(j.children=t=>{let{src:n,size:i,alt:a,mediaLayoutType:s}=t;return c({src:n,size:i,animating:e,alt:a,mediaLayoutType:s})})}else j.src=this.getSrc(k)}return(0,s.jsx)(E.default,{...j})}trackLoadingCompleted(e,t,n){if(!this.imageLoadAnalyticsEnabled)return;let i=Date.now()-this.startLoadingTime,{format:a,quality:s}=this.getFormatQuality();f.default.track(I.AnalyticEvents.IMAGE_LOADING_COMPLETED,{duration_ms:i,requested_height:t.height,requested_width:t.width,height:this.props.height,width:this.props.width,original_url:this.props.original,url:this.props.src,requested_url:t.url,format:a,quality:s,state:e?I.ImageReadyStates.ERROR:this.state.readyState,data_saving_mode:c.default.dataSavingMode,low_quality_image_mode:c.default.lowQualityImageMode,trigger:n})}}"
    }
}