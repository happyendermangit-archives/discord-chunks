{
    "exports": {
        "IMAGE_GIF_RE": {
            "exec": "function exec() { [native code] }",
            "dotAll": false,
            "flags": "i",
            "global": false,
            "hasIndices": false,
            "ignoreCase": true,
            "multiline": false,
            "source": "\\.gif($|\\?|#)",
            "sticky": false,
            "unicode": false,
            "compile": "function compile() { [native code] }",
            "test": "function test() { [native code] }",
            "unicodeSets": false
        },
        "default": "class e extends s.Component{static isAnimated(e){let{src:t,original:n,animated:l}=e;return l||E.test(null!=n&&\"\"!==n?n:t)}static isSrcPNG(e){let{src:t}=e;return g.test(t)}componentDidMount(){let{readyState:t}=this.state;t===h.ImageReadyStates.LOADING&&this.loadImage(this.getSrc(this.getRatio(),e.isAnimated(this.props)),this.handleImageLoad),e.isAnimated(this.props)&&this.observeVisibility()}componentDidUpdate(t){let n=e.isAnimated(this.props),l=e.isAnimated(t);l!==n&&(n?this.observeVisibility():this.unobserveVisibility())}componentWillUnmount(){e.isAnimated(this.props)&&this.unobserveVisibility(),this._cancellers.forEach(e=>e()),this._cancellers.clear()}getSrc(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{src:l,width:i,height:a,maxWidth:s,maxHeight:r,mediaLayoutType:o}=this.props,c=null,f=null;return d.SUPPORTS_WEBP&&(n||!e.isAnimated(this.props))?(c=\"webp\",e.isSrcPNG(this.props)&&(f=\"lossless\")):n&&(c=\"png\"),(0,u.getImageSrc)({src:l,width:i,height:a,ratio:t,maxWidth:o===p.MediaLayoutType.MOSAIC?s:void 0,maxHeight:o===p.MediaLayoutType.MOSAIC?r:void 0,format:c,quality:f})}getRatio(){let{width:e,height:t,maxWidth:n=400,maxHeight:l=300,mediaLayoutType:i,useFullWidth:a}=this.props;return i===p.MediaLayoutType.MOSAIC&&a?(0,c.getCoverRatio)({width:e,height:t,maxWidth:n,maxHeight:l}):(0,c.getRatio)({width:e,height:t,maxWidth:n,maxHeight:l})}getType(){let{mediaLayoutType:e,responsive:t}=this.props;return null!=e?e:t?p.MediaLayoutType.RESPONSIVE:p.MediaLayoutType.STATIC}loadImage(e,t){let{width:n,height:l}=this.props;if(1===n&&1===l)return;let i=(0,u.loadImage)(e,(e,n)=>{null!=i&&this._cancellers.delete(i),null==t||t(e,n)});null!=i&&this._cancellers.add(i)}render(){let{alt:t,zoomThumbnailPlaceholder:n,onZoom:l,shouldLink:i,onContextMenu:s,autoPlay:o,original:u,className:d,imageClassName:c,children:f,animated:p,shouldAnimate:E,width:g,height:C,minWidth:S,minHeight:T,maxWidth:I,maxHeight:v,onClick:_,renderAccessory:N,tabIndex:A,limitResponsiveWidth:x,useFullWidth:y,placeholder:O,placeholderVersion:R}=this.props,{readyState:M,hasMouseOver:L,hasFocus:P}=this.state,b=null!=l,j=this.getRatio(),U=(0,r.clamp)(Math.round(g*j),null!=S?S:0,null!=I?I:1/0),D=(0,r.clamp)(Math.round(C*j),null!=T?T:0,null!=v?v:1/0),k={alt:t,readyState:M,onContextMenu:null!=s?s:void 0,zoomable:b,className:d,imageClassName:c,minWidth:S,minHeight:T,mediaLayoutType:this.getType(),limitResponsiveWidth:x,useFullWidth:y,tabIndex:A,width:U,height:D,src:\"\",placeholder:O,placeholderVersion:R,children:null!=f?e=>{let{src:t,size:n,alt:l,mediaLayoutType:i}=e;return f({src:t,size:n,alt:l,mediaLayoutType:i})}:void 0,onMouseEnter:this.onMouseEnter,onFocus:this.onFocus,onBlur:this.onBlur};if(1===k.width&&1===k.height)return null;switch((b||null!=_)&&(k.onClick=this.onClick),i&&(k.original=null!=u&&\"\"!==u?u:k.src),M){case h.ImageReadyStates.LOADING:null!=n&&(k.src=n);break;case h.ImageReadyStates.READY:if(e.isAnimated(this.props)){k.onMouseLeave=this.onMouseLeave;let t=(o||L||P)&&(null==E||E)&&e.visibilityObserver.isVisible(this);t?(k.src=this.getSrc(j),k.renderAccessory=N):(k.src=this.getSrc(j,!p||!o),k.renderAccessory=this.renderAccessory),null!=f&&(k.children=e=>{let{src:n,size:l,alt:i,mediaLayoutType:a}=e;return f({src:n,size:l,animating:t,alt:i,mediaLayoutType:a})})}else k.src=this.getSrc(j)}return(0,a.jsx)(m.default,{...k})}constructor(t){super(t),this.state={readyState:h.ImageReadyStates.LOADING,hasMouseOver:!1,hasFocus:!1},this._cancellers=new Set,this.observeVisibility=()=>{e.visibilityObserver.observe(this)},this.unobserveVisibility=()=>{e.visibilityObserver.unobserve(this)},this.handleImageLoad=e=>this.setState({readyState:e?h.ImageReadyStates.ERROR:h.ImageReadyStates.READY}),this.preloadImage=(e,t)=>{let{width:n,height:l}=e,{width:i,height:a}=this.props;(1!==i||1!==a)&&this.loadImage(this.getSrc((0,c.getRatio)({width:i,height:a,maxWidth:n,maxHeight:l})),t)},this.onMouseEnter=t=>{e.isAnimated(this.props)&&this.setState({hasMouseOver:!0});let{onMouseEnter:n}=this.props;null!=n&&n(t,{preloadImage:this.preloadImage})},this.onFocus=t=>{e.isAnimated(this.props)&&this.setState({hasFocus:!0})},this.onBlur=e=>{let{currentTarget:t,relatedTarget:n}=e;!t.contains(n)&&this.setState({hasFocus:!1})},this.onMouseLeave=()=>this.setState({hasMouseOver:!1}),this.onClick=e=>{let{onZoom:t,onClick:n}=this.props;null!=n?n(e):null!=t&&(e.preventDefault(),t(e,{zoomThumbnailPlaceholder:this.getSrc(this.getRatio())}))},this.renderAccessory=()=>{let{hasMouseOver:e,hasFocus:t}=this.state,n=null!=this.props.renderAccessory?this.props.renderAccessory():null;return this.props.shouldRenderAccessory?e||t?n:(0,a.jsx)(f.default,{}):null},(0,u.isImageLoaded)(this.getSrc(this.getRatio(),e.isAnimated(this.props)))&&(this.state.readyState=h.ImageReadyStates.READY)}}"
    }
}