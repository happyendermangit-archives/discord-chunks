{
    "exports": {
        "default": "function S(e){let{filterOutEmptyCurrentGuild:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=(0,a.useStateFromStores)([u.default],()=>u.default.getCurrentUser()),[_,S,g]=(0,a.useStateFromStoresArray)([m.default],()=>[m.default.getSounds(),m.default.getFavorites(),m.default.isFetching()]),x=(0,E.useSortedGuildIdsForSoundboard)(e,!1),T=(0,a.useStateFromStoresArray)([r.default],()=>{let e=[];return x.forEach(t=>{let n=r.default.getGuild(t);null!=n&&e.push(n)}),e}),A=d.default.canUseSoundboardEverywhere(c),N=(0,a.useStateFromStores)([r.default],()=>r.default.getGuild(e?.guild_id)),O=(0,a.useStateFromStores)([o.default],()=>{let{canCreateExpressions:e}=(0,s.getManageResourcePermissions)(N);return e},[N]),{canSeeRecentlyHeard:R,canSeeFrequentlyPlayed:M}=(0,f.useRecentlyHeardExperiment)({location:\"soundboard-useSoundGrid\",autoTrackExposure:!0}),v=function(){return i.useEffect(()=>{l.FrecencyUserSettingsActionCreators.loadIfNecessary()},[]),(0,a.useStateFromStores)([p.default],()=>p.default.frecentlyPlayedSounds)}(),L=(0,a.useStateFromStoresArray)([p.default],()=>p.default.recentlyHeardSoundIds);return i.useMemo(()=>{let e=[];return n?(y(e,_),{categories:e,isFetching:g}):(C({sections:e,guildIds:x,allSounds:_,potentialSoundIdsForSection:Array.from(S),sectionType:h.SoundboardSoundGridSectionType.FAVORITES,sortById:!0}),R&&C({sections:e,guildIds:x,allSounds:_,potentialSoundIdsForSection:L,sectionType:h.SoundboardSoundGridSectionType.RECENTLY_HEARD,sortById:!1}),M&&C({sections:e,guildIds:x,allSounds:_,potentialSoundIdsForSection:v.map(e=>e.soundId),sectionType:h.SoundboardSoundGridSectionType.FREQUENTLY_USED,sortById:!1}),!function(e,t,n,i,a){if(null==t)return;let s=i.get(t.id)??[],l=I(s),r=s.length<t.getMaxSoundboardSlots()&&n,o=0===l.length;(r||o)&&!a&&l.push({type:h.SoundboardSoundItemType.ADD_SOUND,guild:t});!(a&&o)&&e.push({categoryInfo:{type:h.SoundboardSoundGridSectionType.GUILD,guild:t},key:t.id,items:l})}(e,N,O,_,t),!A&&y(e,_),!function(e,t,n,i){for(let a of t){if(a.id===n)continue;let t=I(i.get(a.id)??[]);t.length>0&&e.push({categoryInfo:{type:h.SoundboardSoundGridSectionType.GUILD,guild:a},key:a.id,items:t})}}(e,T,N?.id,_),A&&y(e,_),{categories:e,isFetching:g})},[x,_,S,L,v,M,R,N,O,t,A,T,n,g])}",
        "useSearchCategories": "function g(e,t,n){return i.useMemo(()=>n.length>0?[{key:h.SoundboardSoundGridSectionType.SEARCH,categoryInfo:{type:h.SoundboardSoundGridSectionType.SEARCH},items:I(t,!1)}]:e,[e,n.length,t])}"
    }
}