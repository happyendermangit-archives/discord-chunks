{
    "exports": {
        "default": "class s{constructor(e,t){this.connection=e,this.sinkWants=t,this.handleSpeaking=(e,t)=>{e===this.connection.ids.userId&&this.userSpeakingChange(t===o.SpeakingFlags.NONE)},this.handleSelfMute=e=>{!this.connection.hasDesktopSource()&&(this.destroyFramerateScaleFactorTimers(),this.sinkWants.isMuted=e,this.updateRemoteWantsFramerate())},e.on(r.BaseConnectionEvent.Speaking,this.handleSpeaking),e.on(r.BaseConnectionEvent.Mute,this.handleSelfMute),this.initialize()}initialize(){this.userSpeakingChange(!0)}userSpeakingChange(e){if(!this.connection.hasDesktopSource()){if(this.destroyFramerateScaleFactorTimers(),!e){this.sinkWants.isMuted&&(this.sinkWants.isMuted=!1,this.updateRemoteWantsFramerate());return}this.framerateReductionTimeout=setTimeout(()=>{!this.connection.destroyed&&(a.info(`BaseConnection.userSpeakingChange: Reduced framerate after ${o.VIDEO_QUALITY_FRAMRATE_NOT_SPEAKING_TIMEOUT} ms.`),this.framerateReductionTimeout=void 0,this.sinkWants.isMuted=!0,this.updateRemoteWantsFramerate())},o.VIDEO_QUALITY_FRAMRATE_NOT_SPEAKING_TIMEOUT)}}destroyFramerateScaleFactorTimers(){\"number\"==typeof this.framerateReductionTimeout&&(clearTimeout(this.framerateReductionTimeout),this.framerateReductionTimeout=void 0)}updateRemoteWantsFramerate(){this.connection.updateVideoQuality([\"remoteSinkWantsMaxFramerate\"])}destroy(){this.destroyFramerateScaleFactorTimers()}}"
    }
}