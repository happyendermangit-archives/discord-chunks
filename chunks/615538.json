{
    "exports": {
        "ObscuredMediaTypes": {
            "0": "Attachment",
            "1": "Embed",
            "Attachment": 0,
            "Embed": 1
        },
        "TimeoutCancelSource": {
            "UPDATE": "update",
            "TIMEOUT": "timeout"
        },
        "TrackMediaRedactionActionType": {
            "EXPLICIT_MEDIA_LEARN_MORE_VIEWED": "explicit_media_learn_more_viewed",
            "EXPLICIT_MEDIA_LEARN_MORE_CLICK_SETTINGS": "explicit_media_learn_more_click_settings",
            "EXPLICIT_MEDIA_LEARN_MORE_CLICK_LEARN_MORE": "explicit_media_learn_more_click_learn_more",
            "EXPLICIT_MEDIA_LEARN_MORE_CLICK_DISMISS": "explicit_media_learn_more_click_dismiss",
            "EXPLICIT_MEDIA_LEARN_MORE_CLICK_FALSE_POSITIVE": "explicit_media_learn_more_click_false_positive",
            "EXPLICIT_MEDIA_FALSE_POSITIVE_VIEWED": "explicit_media_false_positive_viewed",
            "EXPLICIT_MEDIA_FALSE_POSITIVE_CLICK_CONFIRM": "explicit_media_false_positive_click_confirm",
            "EXPLICIT_MEDIA_FALSE_POSITIVE_CLICK_CANCEL": "explicit_media_false_positive_click_cancel",
            "EXPLICIT_MEDIA_SENDER_FALSE_POSITIVE_BUTTON_CLICKED": "explicit_media_sender_false_positive_button_clicked",
            "EXPLICIT_MEDIA_FALSE_POSITIVE_CLYDE_MESSAGE_SENT": "explicit_media_false_positive_clyde_message_sent"
        },
        "TrackMediaRedactionContext": {
            "EXPLICIT_MEDIA_OBSCURED_FALSE_POSITIVE_FLOW": "explicit_media_obscured_false_positive_flow",
            "EXPLICIT_MEDIA_SENDER_FALSE_POSITIVE_FLOW": "explicit_media_sender_false_positive_flow",
            "EXPLICIT_MEDIA_MESSAGE_SEND_BLOCKED": "explicit_media_message_send_blocked",
            "EXPLICIT_MEDIA_ADD_MEDIA_TO_FORUM_POST_BLOCKED": "explicit_media_add_media_to_forum_post_blocked"
        },
        "getExplicitContentSettingOrDefault": "()=>{let e=h.ExplicitContentSettings.getSetting();return{explicitContentGuilds:e.explicitContentGuilds===_.ExplicitContentRedaction.UNSET_EXPLICIT_CONTENT_REDACTION?O():e.explicitContentGuilds,explicitContentNonFriendDm:e.explicitContentNonFriendDm===_.ExplicitContentRedaction.UNSET_EXPLICIT_CONTENT_REDACTION?O(!0):e.explicitContentNonFriendDm,explicitContentFriendDm:e.explicitContentFriendDm===_.ExplicitContentRedaction.UNSET_EXPLICIT_CONTENT_REDACTION?O(!0,!0):e.explicitContentFriendDm}}",
        "getObscuredMediaForMessage": "function V(e){return b(e)?{obscuredAttachments:e.attachments.filter(e=>L({type:0,media:e},!0)),obscuredEmbeds:e.embeds.filter(e=>L({type:1,media:e},!0))}:{obscuredAttachments:[],obscuredEmbeds:[]}}",
        "getShouldObscureForSetting": "function P(e){return e===_.ExplicitContentRedaction.BLUR||e===_.ExplicitContentRedaction.BLOCK}",
        "handleExplicitMediaScanTimeoutForMessage": "function H(e){let t=e.attachments.map(e=>(null==e.content_scan_version&&(e.content_scan_version=-1),e)),n=(e=e.set(\"attachments\",t)).embeds.map(e=>(null==e.contentScanVersion&&(e.contentScanVersion=-1),e));return e=e.set(\"embeds\",n)}",
        "isExplicitMediaBelowConstraints": "(e,t)=>null!=e&&null!=t&&(e<=C.EXPLICIT_MEDIA_MIN_WIDTH||t<=C.EXPLICIT_MEDIA_MIN_HEIGHT)",
        "isMediaObscured": "function L(e,t){if(!t)return!1;if(c.default.get(\"obscure_blur_effect_enabled\"))return!0;switch(e.type){case 1:return(0,I.hasFlag)(e.media.flags??0,A.MessageEmbedFlags.CONTAINS_EXPLICIT_MEDIA);case 0:return(0,I.hasFlag)(e.media.flags??0,A.MessageAttachmentFlags.CONTAINS_EXPLICIT_MEDIA);default:return!1}}",
        "isPendingScan": "function k(e){return!c.default.get(\"explicit_media_redaction_ignore_pending_scan\")&&null==e}",
        "resolveDefaultSetting": "function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return D();let n=h.ExplicitContentFilter.getSetting();return t?n===N.ExplicitContentFilterTypes.FRIENDS_AND_NON_FRIENDS?_.ExplicitContentRedaction.BLOCK:D():n===N.ExplicitContentFilterTypes.NON_FRIENDS||n===N.ExplicitContentFilterTypes.FRIENDS_AND_NON_FRIENDS?_.ExplicitContentRedaction.BLOCK:D()}",
        "shouldRedactExplicitContent": "function b(e){if(!(0,S.isEligibleForExplicitMediaRedaction)())return!1;let t=v.default.getCurrentUser();if(null==t||e.author?.id===t.id)return!1;let{explicitContentGuilds:n,explicitContentFriendDm:s,explicitContentNonFriendDm:i}=R(),r=E.default.getChannel(e.channel_id);if(null==r)return!1;if(r.isDM()||r.isGroupDM())return null!=e.author&&p.default.getFriendIDs().includes(e.author.id)?P(s):P(i);return P(n)}",
        "trackExplicitMediaRedactableMessagedLoaded": "function F(e){let{channelId:t,numOfAttachments:n,numOfAttachmentsPendingScan:s,numOfEmbeds:i,numOfEmbedsPendingScan:r}=e;if(null==t)return;let a=E.default.getChannel(t);y.default.track(A.AnalyticEvents.EXPLICIT_MEDIA_REDACTABLE_MESSAGES_LOADED,{channel_id:t,guild_id:a?.guild_id,num_of_attachments:n,num_of_attachments_pending_scan:s,num_of_embeds:i,num_of_embeds_pending_scan:r})}",
        "trackExplicitMediaScanComplete": "function B(e){let{messageId:t,channelId:n,numOfAttachments:s,numOfExplicitAttachments:i,numOfEmbeds:r,numOfExplicitEmbeds:a}=e;if(null==n)return;let o=E.default.getChannel(n);y.default.track(A.AnalyticEvents.EXPLICIT_MEDIA_RETROACTIVE_SCAN_COMPLETE,{message_id:t,channel_id:n,channel_type:o?.type,guild_id:o?.guild_id,num_of_attachments:s,num_of_explicit_attachments:i,num_of_embeds:r,num_of_explicit_embeds:a})}",
        "trackMediaRedactionAction": "function w(e){let{action:t,channelId:n,messageId:s,context:i}=e;if(null==n||null==s)return;let r=E.default.getChannel(n);y.default.track(A.AnalyticEvents.EXPLICIT_MEDIA_ACTION,{action:t,guild_id:r?.guild_id,channel_id:n,message_id:s,user_is_underage:(0,m.isCurrentUserTeen)(),context:i})}",
        "trackScanTiming": "function U(e,t){let n=Date.now()-e;g.default.increment({name:f.MetricEvents.EXPLICIT_MEDIA_SCAN_CLIENT_TIMING,tags:[`timingBucket:${Math.min(Math.floor(n/1e3),3)}`,`source:${t}`]})}",
        "trackScanningTimedOut": "function G(e){let{channelId:t,messageId:n,attachmentIds:s,embedIds:i}=e;if(null==t||null==n)return;let r=E.default.getChannel(t);y.default.track(A.AnalyticEvents.EXPLICIT_MEDIA_SCAN_CLIENT_TIMED_OUT,{channel_id:t,guild_id:r?.guild_id,message_id:n,embed_ids:i,user_is_underage:(0,m.isCurrentUserTeen)(),scan_timeout_duration:T.MESSAGE_SCAN_TIMEOUT,attachment_ids_v2:s}),g.default.increment({name:f.MetricEvents.EXPLICIT_MEDIA_SCAN_CLIENT_TIMED_OUT})}",
        "updateExplicitContentSetting": "e=>{let t=R();h.ExplicitContentSettings.updateSetting({...t,...e})}"
    }
}