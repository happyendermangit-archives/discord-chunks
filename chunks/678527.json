{
    "exports": {
        "default": "function T(e){let{className:t,waveform:n,currentTime:s,duration:c,played:I,playing:T,onDrag:A,onDragStart:N,onDragEnd:O}=e,{ref:R,width:M}=(0,u.default)(),v=a.useMemo(()=>{var e;let t;return Math.floor(((t=(e=c)<=E?40:e>=45?294:(Math.min(e,45)-E)/(45-E)*254+40)+4)/_)*_-4},[c]),L=a.useRef(),P=function(e,t){let n=a.useMemo(()=>(function(e){let t;if(null==e)return;try{t=window.atob(e)}catch(e){return}let n=[];for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e)/m.WAVEFORM_WAVE_MAX_VALUE;return n})(e),[e]),i=a.useMemo(()=>(function(e){if(null!=e)return Math.floor((e+4)/6)})(t),[t]);return a.useMemo(()=>(function(e,t){if(null!=e&&null!=t){if(e.length<t){let n=t-e.length;return e.concat(Array(n).fill(0))}return(0,f.default)(e,t)}})(n??[],i)??C,[n,i])}(n,M),b=a.useRef(I),k=a.useRef(T),D=a.useRef(null),U=window.devicePixelRatio,{lastBackgroundFillColor:j,backgroundFillColor:w,lastActiveFillColor:F,activeFillColor:G,lastInactiveFillColor:H,inactiveFillColor:B}=function(e,t){let n=(0,o.useToken)(r.default.colors.INTERACTIVE_MUTED).hex(),i=(0,o.useToken)(r.default.colors.INTERACTIVE_NORMAL).hex(),a=(0,o.useToken)(r.default.colors.INTERACTIVE_ACTIVE).hex(),s=(0,o.useToken)(r.default.unsafe_rawColors.BRAND_430).hex(),l=(0,o.useToken)(r.default.unsafe_rawColors.WHITE_500).hex(),u=t?s:n,[d,c]=g(u,t,e),[f,p]=g(t?l:e?a:i,t,e),[m,h]=g(e?u:i,t,e);return{lastBackgroundFillColor:d,backgroundFillColor:c,lastActiveFillColor:f,activeFillColor:p,lastInactiveFillColor:m,inactiveFillColor:h}}(I,T);a.useEffect(()=>{let e=y({showAll:!I,currentTime:s,duration:c,numSegments:P.length});L.current=P.map((t,n)=>new p.default(n<e?t:0))},[P]),a.useEffect(()=>{let e=L.current;if(null==e)return;let t=y({showAll:!I,currentTime:s,duration:c,numSegments:P.length});for(let n=0;n<e.length;n++){let i=e[n];if(n<t){i.animateTo(P[n]);continue}i.reset()}},[P,s,c,I]),a.useEffect(()=>{let e=null;return e=requestAnimationFrame(function t(n){let i=R.current,a=i?.getContext(\"2d\"),s=L.current;if(null==i||null==a||null==s)return;let l=!1;(b.current!==I||k.current!==T)&&(b.current=I,k.current=T,D.current=n),null!=D.current&&n>D.current+200&&(D.current=null);let r=i.height/U;a.clearRect(0,0,i.width,i.height),a.beginPath();let[o,u]=x(j,w,n,D.current);l=l||u,a.fillStyle=o;for(let e=0;e<P.length;e++)S({context:a,devicePixelRatio:U,canvasHeight:r,segmentValue:P[e],segmentIndex:e,constrainMin:!0});a.fill();let[d,c]=x(H,B,n,D.current);l=l||c;let[f,p]=x(F,G,n,D.current);l=l||p;for(let e=0;e<s.length;e++){let t=s[e],n=Math.max(t.getCurrentValue(),P[e]-.1);a.beginPath(),a.fillStyle=t.isReset?d:f,S({context:a,devicePixelRatio:U,canvasHeight:r,segmentValue:n,segmentIndex:e,constrainMin:!t.isReset}),l=l||t.isAnimating(),a.fill()}l&&(e=requestAnimationFrame(t))}),()=>{null!=e&&cancelAnimationFrame(e)}},[R,U,P,M,s,c,I,T,j,w,F,G,H,B]);let[,V]=(0,d.default)({ref:R,onDrag:A,onDragStart:N,onDragEnd:O});return(0,i.jsx)(\"canvas\",{onMouseDown:V,className:l()(h.canvas,t),style:{width:v},ref:R,height:32*window.devicePixelRatio,width:(M??0)*window.devicePixelRatio})}"
    }
}