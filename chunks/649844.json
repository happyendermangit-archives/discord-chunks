{
    "exports": {
        "default": "function p(e){let{initialPlanId:t,followupSKUInfo:p,onClose:C,onComplete:v,onSubscriptionConfirmation:_,analyticsLocations:S,analyticsObject:I,analyticsLocation:N,analyticsSourceLocation:A,isGift:g=!1,giftMessage:m,subscriptionTier:T,trialId:L,postSuccessGuild:R,openInvoiceId:P,applicationId:y,referralTrialOfferId:O,giftRecipient:w,returnRef:M,subscription:x}=null!=e?e:{},b=!1,U=(0,s.v4)(),V=u.default.getCurrentUser(),D=(0,f.isPremiumExactly)(V,E.PremiumTypes.TIER_2);(0,r.openModalLazy)(async()=>{let{default:e}=await n.el(\"646139\").then(n.bind(n,\"646139\"));return n=>{let{onClose:s,...r}=n;return(0,i.jsx)(e,{...r,loadId:U,subscriptionTier:T,skuId:T,isGift:g,giftMessage:m,giftRecipient:w,initialPlanId:t,followupSKUInfo:p,onClose:(e,t)=>{s(),null==C||C(e),e&&(null==_||_(),!g&&null!=t&&t===E.PremiumSubscriptionSKUs.TIER_2&&!D&&d.ComponentDispatch.dispatch(h.ComponentActions.PREMIUM_SUBSCRIPTION_CREATED))},onComplete:()=>{b=!0,null==v||v(),!g&&(0,o.setCanPlayWowMoment)(!0)},onSubscriptionConfirmation:_,analyticsLocations:S,analyticsObject:I,analyticsLocation:N,analyticsSourceLocation:A,trialId:L,postSuccessGuild:R,planGroup:E.ORDERED_PREMIUM_SUBSCRIPTION_PLANS,openInvoiceId:P,applicationId:y,referralTrialOfferId:O,returnRef:M,subscription:x})}},{modalKey:\"payment-modal\",onCloseCallback:()=>{!b&&c.default.track(h.AnalyticEvents.PAYMENT_FLOW_CANCELED,{load_id:U,payment_type:h.PurchaseTypeToAnalyticsPaymentType[h.PurchaseTypes.SUBSCRIPTION],location:null!=N?N:I,source:A,subscription_type:h.SubscriptionTypes.PREMIUM,is_gift:g,eligible_for_trial:null!=L,application_id:y,location_stack:S}),(0,l.clearError)(),(0,a.clearPurchaseTokenAuthState)(),null==C||C(b),b&&(null==_||_())}})}"
    }
}