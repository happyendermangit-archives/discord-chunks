{
    "exports": {
        "MessageDataType": {
            "0": "SEND",
            "1": "EDIT",
            "2": "COMMAND",
            "SEND": 0,
            "EDIT": 1,
            "COMMAND": 2
        },
        "default": {
            "logger": {
                "logDangerously": "function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r(t.name,\"log\",e,...i)}",
                "log": "function(e){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(0,i.checkLogForPII)(e,...o),r(t.name,\"log\",e,...o)}",
                "verboseDangerously": "function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r(t.name,\"debug\",e,...i)}",
                "verbose": "function(e){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(0,i.checkLogForPII)(e,...o),r(t.name,\"debug\",e,...o)}",
                "info": "function(e){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(0,i.checkLogForPII)(e,...o),r(t.name,\"info\",e,...o)}",
                "warn": "function(e){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(0,i.checkLogForPII)(e,...o),r(t.name,\"warn\",e,...o)}",
                "error": "function(e){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(0,i.checkLogForPII)(e,...o),r(t.name,\"error\",e,...o)}",
                "trace": "function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r(t.name,\"trace\",e,...i)}",
                "time": "(e,t)=>{let n=Date.now(),i=t();return this.log(e,Date.now()-n),i}",
                "fileOnly": "function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r(t.name,\"file-only\",e,...i)}",
                "name": "MessageQueue"
            },
            "defaultRetryAfter": 100,
            "queue": {
                "_capacity": 16,
                "_length": 0,
                "_front": 0,
                "toArray": "function(){for(var t=this._length,e=Array(t),s=this._front,r=this._capacity,n=0;n<t;++n)e[n]=this[s+n&r-1];return e}",
                "push": "function(t){var e=arguments.length,s=this._length;if(e>1){var r=this._capacity;if(s+e>r){for(var n=0;n<e;++n){this._checkCapacity(s+1);var i=this._front+s&this._capacity-1;this[i]=arguments[n],s++,this._length=s}return s}for(var i=this._front,n=0;n<e;++n)this[i+s&r-1]=arguments[n],i++;return this._length=s+e,s+e}if(0===e)return s;this._checkCapacity(s+1);var n=this._front+s&this._capacity-1;return this[n]=t,this._length=s+1,s+1}",
                "pop": "function(){var t=this._length;if(0!==t){var e=this._front+t-1&this._capacity-1,s=this[e];return this[e]=void 0,this._length=t-1,s}}",
                "shift": "function(){var t=this._length;if(0!==t){var e=this._front,s=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length=t-1,s}}",
                "unshift": "function(t){var e=this._length,s=arguments.length;if(s>1){var r=this._capacity;if(e+s>r){for(var n=s-1;n>=0;n--){this._checkCapacity(e+1);var r=this._capacity,i=(this._front-1&r-1^r)-r;this[i]=arguments[n],e++,this._length=e,this._front=i}return e}for(var c=this._front,n=s-1;n>=0;n--){var i=(c-1&r-1^r)-r;this[i]=arguments[n],c=i}return this._front=c,this._length=e+s,e+s}if(0===s)return e;this._checkCapacity(e+1);var r=this._capacity,n=(this._front-1&r-1^r)-r;return this[n]=t,this._length=e+1,this._front=n,e+1}",
                "peekBack": "function(){var t=this._length;if(0!==t)return this[this._front+t-1&this._capacity-1]}",
                "peekFront": "function(){if(0!==this._length)return this[this._front]}",
                "get": "function(t){var e=t;if(e===(0|e)){var s=this._length;if(e<0&&(e+=s),!(e<0)&&!(e>=s))return this[this._front+e&this._capacity-1]}}",
                "isEmpty": "function(){return 0===this._length}",
                "clear": "function(){this._length=0,this._front=0,this._makeCapacity()}",
                "toString": "function(){return this.toArray().toString()}",
                "valueOf": "function(){return this.toArray().toString()}",
                "removeFront": "function(){var t=this._length;if(0!==t){var e=this._front,s=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length=t-1,s}}",
                "removeBack": "function(){var t=this._length;if(0!==t){var e=this._front+t-1&this._capacity-1,s=this[e];return this[e]=void 0,this._length=t-1,s}}",
                "insertFront": "function(t){var e=this._length,s=arguments.length;if(s>1){var r=this._capacity;if(e+s>r){for(var n=s-1;n>=0;n--){this._checkCapacity(e+1);var r=this._capacity,i=(this._front-1&r-1^r)-r;this[i]=arguments[n],e++,this._length=e,this._front=i}return e}for(var c=this._front,n=s-1;n>=0;n--){var i=(c-1&r-1^r)-r;this[i]=arguments[n],c=i}return this._front=c,this._length=e+s,e+s}if(0===s)return e;this._checkCapacity(e+1);var r=this._capacity,n=(this._front-1&r-1^r)-r;return this[n]=t,this._length=e+1,this._front=n,e+1}",
                "insertBack": "function(t){var e=arguments.length,s=this._length;if(e>1){var r=this._capacity;if(s+e>r){for(var n=0;n<e;++n){this._checkCapacity(s+1);var i=this._front+s&this._capacity-1;this[i]=arguments[n],s++,this._length=s}return s}for(var i=this._front,n=0;n<e;++n)this[i+s&r-1]=arguments[n],i++;return this._length=s+e,s+e}if(0===e)return s;this._checkCapacity(s+1);var n=this._front+s&this._capacity-1;return this[n]=t,this._length=s+1,s+1}",
                "enqueue": "function(t){var e=arguments.length,s=this._length;if(e>1){var r=this._capacity;if(s+e>r){for(var n=0;n<e;++n){this._checkCapacity(s+1);var i=this._front+s&this._capacity-1;this[i]=arguments[n],s++,this._length=s}return s}for(var i=this._front,n=0;n<e;++n)this[i+s&r-1]=arguments[n],i++;return this._length=s+e,s+e}if(0===e)return s;this._checkCapacity(s+1);var n=this._front+s&this._capacity-1;return this[n]=t,this._length=s+1,s+1}",
                "dequeue": "function(){var t=this._length;if(0!==t){var e=this._front,s=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length=t-1,s}}",
                "toJSON": "function(){for(var t=this._length,e=Array(t),s=this._front,r=this._capacity,n=0;n<t;++n)e[n]=this[s+n&r-1];return e}",
                "_makeCapacity": "function(){for(var t=this._capacity,e=0;e<t;++e)this[e]=void 0}",
                "_checkCapacity": "function(t){this._capacity<t&&this._resizeTo(c(1.5*this._capacity+16))}",
                "_resizeTo": "function(t){var e=this._front,s=this._capacity,r=Array(s),n=this._length;if(i(this,0,r,0,s),this._capacity=t,this._makeCapacity(),this._front=0,e+n<=s)i(r,e,this,0,n);else{var c=n-(e+n&s-1);i(r,e,this,0,c),i(r,0,this,c,n-c)}}",
                "length": 0
            },
            "timeout": null,
            "draining": false,
            "maxSize": 5,
            "requests": {
                "toJSON": "function(){return Array.from(this)}",
                "get": "function get() { [native code] }",
                "set": "function set() { [native code] }",
                "has": "function has() { [native code] }",
                "delete": "function delete() { [native code] }",
                "clear": "function clear() { [native code] }",
                "entries": "function entries() { [native code] }",
                "forEach": "function forEach() { [native code] }",
                "keys": "function keys() { [native code] }",
                "size": 0,
                "values": "function values() { [native code] }"
            },
            "analyticsTimeouts": {
                "toJSON": "function(){return Array.from(this)}",
                "get": "function get() { [native code] }",
                "set": "function set() { [native code] }",
                "has": "function has() { [native code] }",
                "delete": "function delete() { [native code] }",
                "clear": "function clear() { [native code] }",
                "entries": "function entries() { [native code] }",
                "forEach": "function forEach() { [native code] }",
                "keys": "function keys() { [native code] }",
                "size": 0,
                "values": "function values() { [native code] }"
            },
            "isFull": "isFull(){return this.queue.length>=this.maxSize}",
            "drain": "drain(e,t){switch(this.logger.log(\"Draining Message Queue with: \",e.type),e.type){case 0:this.handleSend(e.message,t);break;case 1:this.handleEdit(e.message,t);break;case 2:this.handleCommand(e.message,t)}}",
            "cancelRequest": "cancelRequest(e){this.requests.get(e)?.abort(),this.requests.delete(e),this.cancelQueueMetricTimers(e)}",
            "startQueueMetricTimers": "startQueueMetricTimers(e){let t=O.map(e=>setTimeout(()=>{(0,_.trackWithMetadata)(S.AnalyticEvents.SEND_MESSAGE_QUEUED,{queued_duration_ms:e})},e));this.analyticsTimeouts.set(e,t)}",
            "cancelQueueMetricTimers": "cancelQueueMetricTimers(e){this.analyticsTimeouts.get(e)?.forEach(clearTimeout),this.analyticsTimeouts.delete(e)}",
            "createResponseHandler": "createResponseHandler(e,t){return n=>{if(null!=e&&(this.requests.delete(e),this.cancelQueueMetricTimers(e)),n.hasErr)return t(null,n);null!=n.body&&(n.body.code===S.AbortCodes.SLOWMODE_RATE_LIMITED||n.body.code===S.AbortCodes.CHANNEL_FOLLOWING_EDIT_RATE_LIMITED)?t(null,n):429===n.status?t({retryAfter:n.body.retry_after*p.default.Millis.SECOND}):t(null,n)}}",
            "handleSend": "handleSend(e,t){let n;let{channelId:s,file:i,filename:r,...a}=e,o=(0,m.getSignalStrength)(),u={mobile_network_type:E.default.getType(),...a,...null!=o&&{signal_strength:o}};if(g.default.get(\"send_fail_100\")){this.logger.log(\"Skipping message sened because send_fail_100 is enabled\"),t(null,{ok:!1,hasErr:!1,status:500,headers:{},body:\"{}\",text:\"Simulated failure\"});return}null!=C&&(C.isInstanceUILocked()?n={location:\"overlay_locked_activated\"}:!C.isInstanceUILocked()&&(n=C.isPinned(S.OverlayWidgets.TEXT)?{location:\"overlay_unlocked_pinned\"}:{location:\"overlay_unlocked\"}));let f=this.createResponseHandler(e.nonce,t),_=new AbortController;if(this.startQueueMetricTimers(e.nonce),null!=i&&null!=r&&\"\"!==r)l.default.post({url:S.Endpoints.MESSAGES(s),fields:Object.entries(u).map(e=>{let[t,n]=e;return{name:t,value:n}}),attachments:[{name:\"file\",file:i,filename:r}],context:n,oldFormErrors:!0,signal:_.signal,onRequestCreated:()=>{null!=e.nonce&&this.requests.set(e.nonce,_)}},f);else{let t={timeout:60*p.default.Millis.SECOND,retries:3,backoff:new d.default};l.default.post({url:S.Endpoints.MESSAGES(s),body:u,context:n,oldFormErrors:!0,...t,signal:_.signal,onRequestCreated:()=>{null!=e.nonce&&this.requests.set(e.nonce,_)}},f)}}",
            "handleEdit": "handleEdit(e,t){let{channelId:n,messageId:s,...i}=e,r=new AbortController;l.default.patch({url:S.Endpoints.MESSAGE(n,s),body:i,retries:1,oldFormErrors:!0,signal:r.signal,onRequestCreated:()=>{this.requests.set(s,r)}},this.createResponseHandler(s,t))}",
            "handleCommand": "handleCommand(e,t){let n,{applicationId:s,guildId:i,channelId:r,data:a,nonce:o,attachments:d,maxSizeCallback:_,analytics_location:c}=e,g={type:f.InteractionTypes.APPLICATION_COMMAND,application_id:s,guild_id:i,channel_id:r,session_id:h.default.getSessionId(),data:a,nonce:o,analytics_location:c};if(null!=d){g.data.attachments=[],n=[];g.data.attachments=d.map((e,t)=>(u()(e.status===T.CloudUploadStatus.COMPLETED,\"Uploads must be staged before trying to send a message\"),(0,I.getAttachmentPayload)(e,t)))}let m=new AbortController;l.default.post({url:S.Endpoints.INTERACTIONS,fields:[{name:\"payload_json\",value:JSON.stringify(g)}],attachments:n,signal:m.signal,onRequestCreated:e=>{this.requests.set(o,m),e.on(\"progress\",e=>{let{total:t}=e,n=(0,v.maxFileSize)(i);null!=t&&t>n&&(this.cancelRequest(o),_?.(n))})}},this.createResponseHandler(o,t))}"
        },
        "getFailedMessageId": "e=>A(e)?e.message.nonce:N(e)?e.message.messageId:e.message.data.id",
        "isMessageDataEdit": "e=>1===e.type"
    }
}