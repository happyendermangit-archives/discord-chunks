{
    "exports": {
        "checkModifiers": "function f(e,t){let{cmd:n=!1,ctrl:i=!1,alt:a=!1,shift:s=!1}=t;return(null==n||e.metaKey===n)&&(null==i||e.ctrlKey===i)&&(null==a||e.altKey===a)&&(null==s||e.shiftKey===s)}",
        "default": "function p(e){return e.onKeyDown=t=>{let n=e.isMac;switch(t.which){case c.KeyboardKeys.B:if(!d.EditorUtils.isEditorEmpty(e)&&f(t,{ctrl:!n,cmd:n}))return(0,o.toggleMarkdownStyle)(e,\"bold\"),!0;break;case c.KeyboardKeys.I:if(!d.EditorUtils.isEditorEmpty(e)&&f(t,{ctrl:!n,cmd:n}))return(0,o.toggleMarkdownStyle)(e,\"italics\"),!0;break;case c.KeyboardKeys.U:if(!d.EditorUtils.isEditorEmpty(e)&&f(t,{ctrl:!n,cmd:n}))return(0,o.toggleMarkdownStyle)(e,\"underline\"),!0;break;case c.KeyboardKeys.S:if(!d.EditorUtils.isEditorEmpty(e)&&f(t,{ctrl:!n,cmd:n,shift:!0}))return(0,o.toggleMarkdownStyle)(e,\"strikethrough\"),!0;break;case c.KeyboardKeys.TAB:if(null!=e.selection&&f(t,{shift:null})){let[n,i]=d.RangeUtils.edges(e.selection),a=d.EditorUtils.blocks(e).slice(n.path[0],i.path[0]+1),s=!0;for(let[e]of a)if(\"line\"!==e.type||!e.codeBlockState?.isInCodeBlock){s=!1;break}if(s){if(!t.shiftKey&&d.RangeUtils.isCollapsed(e.selection))return u.SlateTransforms.insertText(e,\"  \"),!0;let n=!t.shiftKey;return r.HistoryUtils.withSingleEntry(e,()=>{let t=e.selection?.anchor??d.EditorUtils.start(e,[]),i=e.selection?.focus??d.EditorUtils.end(e,[]);for(let[s,l]of a){let a=s.children[0];if(!d.TextUtils.isText(s.children[0]))continue;let r=d.PathUtils.child(l,0),o={path:r,offset:0};if(n)u.SlateTransforms.insertText(e,\"  \",{at:o}),d.PathUtils.equals(t.path,r)&&0!==t.offset&&(t={path:r,offset:t.offset+2}),d.PathUtils.equals(i.path,r)&&0!==i.offset&&(i={path:r,offset:i.offset+2});else if(a.text.startsWith(\"  \")){let n={path:d.PathUtils.child(l,0),offset:2};u.SlateTransforms.delete(e,{at:{anchor:o,focus:n}}),d.PathUtils.equals(t.path,r)&&(t={path:r,offset:Math.max(0,t.offset-2)}),d.PathUtils.equals(i.path,r)&&(i={path:r,offset:Math.max(0,i.offset-2)})}}u.SlateTransforms.select(e,{anchor:t,focus:i})}),!0}}break;case c.KeyboardKeys.ARROW_LEFT:case c.KeyboardKeys.ARROW_RIGHT:{let i,s;if(f(t,{shift:null}))i=\"character\";else if(f(t,{ctrl:!n,alt:n,shift:null}))i=\"word\";else if(n&&f(t,{cmd:!0,shift:null}))return!1;else return!1;t.shiftKey&&(s=\"focus\");let l=e.children[e.selection?.focus?.path[0]??0],r=\"rtl\"===a()(d.NodeUtils.string(l)),o=t.which===c.KeyboardKeys.ARROW_LEFT==!r;return u.SlateTransforms.keyboardMove(e,{reverse:o,unit:i,edge:s}),!0}case c.KeyboardKeys.A:if(n&&f(t,{ctrl:!0})){let t=d.EditorUtils.getCurrentBlock(e);if(null!=t){let[,n]=t,i={path:d.PathUtils.child(n,0),offset:0};return u.SlateTransforms.select(e,{anchor:i,focus:i}),!0}}break;case c.KeyboardKeys.E:if(n&&f(t,{ctrl:!0})){let t=d.EditorUtils.getCurrentBlock(e);if(null!=t){let[n,i]=t,a=d.PathUtils.child(i,n.children.length-1),[s]=d.EditorUtils.node(e,a),l={path:a,offset:s.text.length};return u.SlateTransforms.select(e,{anchor:l,focus:l}),!0}}break;case c.KeyboardKeys.BACKSPACE:case c.KeyboardKeys.DELETE:case c.KeyboardKeys.K:let i=t.which===c.KeyboardKeys.BACKSPACE;if((!n&&t.which!==c.KeyboardKeys.K&&f(t,{ctrl:!0,shift:!0})||n&&t.which!==c.KeyboardKeys.K&&f(t,{cmd:!0})||n&&t.which===c.KeyboardKeys.K&&f(t,{ctrl:!0}))&&null!=e.selection){let[t,n]=d.RangeUtils.edges(e.selection),[a,s]=d.EditorUtils.node(e,[i?t.path[0]:n.path[0]]);if(l()(d.ElementUtils.isElement(a)&&d.EditorUtils.isBlock(e,a),\"Top-most node of selection is not a block\"),i&&!d.PointUtils.isAtStart(t,[a,s])||!i&&!d.PointUtils.isAtEnd(n,[a,s]))return i?e.deleteBackward(\"line\"):e.deleteForward(\"line\"),!0}}return!1},e}"
    }
}