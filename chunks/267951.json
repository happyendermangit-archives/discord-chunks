{
    "exports": {
        "default": {
            "archiveThread": "archiveThread(e,t){let n={archived:!0};return t&&(n.locked=!0),I(e,n)}",
            "lockThread": "async lockThread(e){let t=e.isArchivedThread();return t&&await this.unarchiveThread(e,!1),I(e,{locked:!0,archived:t})}",
            "unlockThread": "async unlockThread(e){let t=e.isArchivedThread();return t&&await this.unarchiveThread(e,!0),I(e,{locked:!1,archived:t})}",
            "unarchiveThread": "async unarchiveThread(e,t){let n={archived:!1},a=e.isForumPost();t&&(n.locked=!1);try{return await I(e,n)}catch(e){throw e.body?.code===p.AbortCodes.TOO_MANY_THREADS?r.default.show({title:a?A.default.Messages.CANNOT_UNARCHIVE_FORUM_POST:A.default.Messages.CANNOT_UNARCHIVE_THREAD,body:a?A.default.Messages.TOO_MANY_FORUM_POSTS_MESSAGE:A.default.Messages.TOO_MANY_THREADS_MESSAGE}):e.body?.code===p.AbortCodes.TOO_MANY_ANNOUNCEMENT_THREADS?r.default.show({title:A.default.Messages.CANNOT_UNARCHIVE_THREAD,body:A.default.Messages.TOO_MANY_ANNOUNCEMENT_THREADS_MESSAGE}):429===e.status?r.default.show({title:a?A.default.Messages.CANNOT_UNARCHIVE_FORUM_POST:A.default.Messages.CANNOT_UNARCHIVE_THREAD,body:A.default.Messages.RATE_LIMITED}):r.default.show({title:A.default.Messages.ERROR,body:A.default.Messages.ERROR_OCCURRED_TRY_AGAIN}),e}}",
            "unarchiveThreadIfNecessary": "async unarchiveThreadIfNecessary(e){let t=f.default.getChannel(e),n=E.default.can(p.Permissions.MANAGE_THREADS,t);null!=t&&t.isArchivedThread()&&(n||t.threadMetadata?.locked!==!0)&&await this.unarchiveThread(t,!1)}",
            "setInvitable": "(e,t)=>I(e,{invitable:t})",
            "joinThread": "async joinThread(e,t){e.isForumPost()&&C(e,!0);try{return await l.default.post({url:p.Endpoints.THREAD_MEMBER(e.id),query:{location:t}})}catch(t){if(t.body?.code===p.AbortCodes.TOO_MANY_THREAD_MEMBERS){let t=e.isForumPost();r.default.show({title:t?A.default.Messages.CANNOT_JOIN_FORUM_POST:A.default.Messages.CANNOT_JOIN_THREAD,body:t?A.default.Messages.TOO_MANY_MEMBERS_MESSAGE_FORUM_POST:A.default.Messages.TOO_MANY_MEMBERS_MESSAGE})}else r.default.show({title:A.default.Messages.ERROR,body:A.default.Messages.ERROR_OCCURRED_TRY_AGAIN});e.isForumPost()&&C(e,!1)}}",
            "addMember": "async addMember(e,t,n){try{return await l.default.post({url:p.Endpoints.THREAD_MEMBER(e.id,t),query:{location:n}})}catch(t){if(t.body?.code===p.AbortCodes.TOO_MANY_THREAD_MEMBERS){let t=e.isForumPost();r.default.show({title:t?A.default.Messages.CANNOT_ADD_USER_TO_FORUM_POST:A.default.Messages.CANNOT_ADD_USER_TO_THREAD,body:t?A.default.Messages.TOO_MANY_MEMBERS_MESSAGE_FORUM_POST:A.default.Messages.TOO_MANY_MEMBERS_MESSAGE})}else r.default.show({title:A.default.Messages.ERROR,body:A.default.Messages.ERROR_OCCURRED_TRY_AGAIN})}}",
            "leaveThread": "(e,t)=>(e.isForumPost()&&C(e,!1),l.default.delete({url:p.Endpoints.THREAD_MEMBER(e.id),query:{location:t}}))",
            "removeMember": "(e,t,n)=>l.default.delete({url:p.Endpoints.THREAD_MEMBER(e.id,t),query:{location:n}})",
            "setAutoArchiveDuration": "(e,t)=>l.default.patch({url:p.Endpoints.CHANNEL(e.id),body:{auto_archive_duration:t}})",
            "pin": "pin(e){let t=e.flags|T.ChannelFlags.PINNED;this.updateFlags(e,t,e.isArchivedThread())}",
            "unpin": "unpin(e){let t=e.flags&~T.ChannelFlags.PINNED;this.updateFlags(e,t)}",
            "updateFlags": "async updateFlags(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.default.dispatch({type:\"THREAD_UPDATE\",channel:e.merge({flags:t})});let a={flags:t};n&&(a.archived=!1);try{await l.default.patch({url:p.Endpoints.CHANNEL(e.id),body:a})}catch{i.default.dispatch({type:\"THREAD_UPDATE\",channel:e})}}",
            "replacePin": "async replacePin(e,t){let n=e.merge({flags:e.flags&~T.ChannelFlags.PINNED}),a=t.merge({flags:t.flags|T.ChannelFlags.PINNED});i.default.dispatch({type:\"THREAD_UPDATE\",channel:n}),i.default.dispatch({type:\"THREAD_UPDATE\",channel:a}),await this.unarchiveThreadIfNecessary(e.id),await this.unarchiveThreadIfNecessary(t.id);try{await l.default.patch({url:p.Endpoints.CHANNEL(e.id),body:{flags:e.flags&~T.ChannelFlags.PINNED}})}catch{i.default.dispatch({type:\"THREAD_UPDATE\",channel:e}),i.default.dispatch({type:\"THREAD_UPDATE\",channel:t});return}try{await l.default.patch({url:p.Endpoints.CHANNEL(t.id),body:{flags:t.flags|T.ChannelFlags.PINNED}})}catch{i.default.dispatch({type:\"THREAD_UPDATE\",channel:t})}}",
            "openThreadCreationForMobile": "openThreadCreationForMobile(e,t,n){(0,u.trackWithMetadata)(p.AnalyticEvents.THREAD_CREATION_STARTED,{location:n,channel_id:e.id,guild_id:e.guild_id}),s.default.changeThreadSettings(e.id,{parentMessageId:t,isPrivate:!1,location:n}),null==t&&(0,o.setActiveCommand)({channelId:e.id,command:null,section:null})}",
            "setNotificationSettings": "async setNotificationSettings(e,t){return(0,S.trackThreadNotificationSettingsUpdated)(e,t),!g.default.hasJoined(e.id)&&await this.joinThread(e,\"Change Notification Settings\"),l.default.patch({url:p.Endpoints.THREAD_MEMBER_SETTINGS(e.id),body:t})}",
            "loadArchivedThreads": "loadArchivedThreads(e,t,n,r,s){!h.default.isLoading(t,n,r)&&(i.default.dispatch({type:\"LOAD_ARCHIVED_THREADS\",channelId:t,sortOrder:n,tagFilter:r}),l.default.get({url:p.Endpoints.THREAD_SEARCH(t),query:{archived:!0,sort_by:\"last_message_time\",sort_order:\"desc\",limit:h.PAGE_SIZE,tag:r.size>0?Array.from(r).join(\",\"):void 0,tag_setting:a.ThreadSearchTagSetting.MATCH_SOME,offset:s},retries:2}).then(a=>{let{body:{threads:l,members:u,has_more:o,first_messages:d,most_recent_messages:c}}=a;i.default.dispatch({type:\"LOAD_ARCHIVED_THREADS_SUCCESS\",guildId:e,channelId:t,offset:s,sortOrder:n,tagFilter:r,threads:l,firstMessages:d,mostRecentMessages:c,members:(u??[]).map(e=>(0,m.default)(e)),owners:l.map(e=>e.owner).filter(_.isNotNullish),hasMore:o})},()=>{i.default.dispatch({type:\"LOAD_ARCHIVED_THREADS_FAIL\",channelId:t,sortOrder:n,tagFilter:r})}))}",
            "searchThreads": "async searchThreads(e,t,n,r){let s=null!=r&&r.size>0?Array.from(r).join(\",\"):void 0,{body:{threads:u,members:o,first_messages:d,most_recent_messages:c}}=await l.default.get({url:p.Endpoints.THREAD_SEARCH(t),query:{name:n,tag:s,tag_setting:a.ThreadSearchTagSetting.MATCH_SOME}});return i.default.dispatch({type:\"LOAD_THREADS_SUCCESS\",threads:u,members:o,guildId:e,firstMessages:d,mostRecentMessages:c}),u.map(e=>e.id)}"
        }
    }
}