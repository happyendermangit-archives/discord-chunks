{
    "exports": {
        "default": "class l extends i.PureComponent{static #e=this.defaultProps={btnClass:\"\",isLoading:!1,disallowBackupCodes:!1,error:null,forceNoPlaceholder:!1};render(){let{title:e,actionText:t,children:n,error:r,isLoading:l,maxLength:f,transitionState:_,helpMessage:c,retryPrompt:g,retrySuccessMessage:m}=this.props,{code:h,errorMessage:E,retrySuccess:p}=this.state,v=i.Children.count(n)>0?(0,s.jsx)(o.Card,{type:o.Card.Types.WARNING,className:d.card,children:(0,s.jsx)(o.Text,{variant:\"text-md/normal\",children:n})}):null,y=null!=g?(0,s.jsxs)(o.Text,{className:a()(d.submitText,d.spacing),variant:\"text-sm/normal\",children:[(0,s.jsx)(\"br\",{}),(0,s.jsx)(o.Clickable,{className:a()(d.spacing,d.link),onClick:this.handleRetry,children:(0,s.jsx)(o.Anchor,{children:g})})]}):null,I=p?(0,s.jsx)(o.Card,{type:o.Card.Types.SUCCESS,className:d.card,children:(0,s.jsx)(o.Text,{variant:\"text-md/normal\",children:m})}):null;return(0,s.jsx)(o.ModalRoot,{transitionState:_,children:(0,s.jsxs)(\"form\",{onSubmit:this.handleSubmit,children:[(0,s.jsx)(o.ModalHeader,{separator:!1,children:(0,s.jsx)(o.Heading,{variant:\"heading-lg/semibold\",children:e})}),(0,s.jsxs)(o.ModalContent,{children:[null!=c?(0,s.jsx)(o.Text,{color:\"text-normal\",variant:\"text-md/normal\",className:d.spacing,children:c}):null,v,I,(0,s.jsxs)(o.FormItem,{title:this.getLabelText(),className:d.spacing,children:[(0,s.jsx)(o.TextInput,{inputRef:this.setRef,onChange:this.handleCodeChange,placeholder:this.getPlaceholder()??void 0,maxLength:f??10,value:h,autoComplete:\"one-time-code\",autoFocus:!0}),this.errorPresent()?(0,s.jsx)(o.Text,{color:\"text-danger\",variant:\"text-xs/normal\",className:d.error,children:null!=r?r:E}):null,y]})]}),(0,s.jsxs)(o.ModalFooter,{children:[(0,s.jsx)(o.Button,{type:\"submit\",disabled:l||0===h.length,children:t??u.default.Messages.CONFIRM}),(0,s.jsx)(o.Button,{onClick:this.handleCancel,disabled:l,look:o.Button.Looks.LINK,color:o.Button.Colors.PRIMARY,children:u.default.Messages.CANCEL})]})]})})}constructor(...e){super(...e),this.state={code:\"\",errorMessage:\"\",retrySuccess:!1},this.setRef=e=>{this._input=e},this.getLabelText=()=>this.props.label??(this.props.disallowBackupCodes?u.default.Messages.TWO_FA_ENTER_TOKEN_NO_BACKUP_LABEL:u.default.Messages.TWO_FA_ENTER_TOKEN_LABEL),this.getSupportedCodeTypes=()=>this.props.disallowBackupCodes?u.default.Messages.TWO_FA_AUTH_CODE_NO_BACKUP:u.default.Messages.TWO_FA_AUTH_CODE,this.getPlaceholder=()=>this.props.forceNoPlaceholder?null:this.props.placeholder??this.getSupportedCodeTypes(),this.errorPresent=()=>null!=this.props.error&&\"\"!==this.props.error||null!=this.state.errorMessage&&\"\"!==this.state.errorMessage,this.handleRetry=()=>{let{onRetry:e}=this.props;e?.().then(()=>this.setState({retrySuccess:!0}))},this.handleSubmit=e=>{e.preventDefault();let{handleSubmit:t,onError:n}=this.props;t(this.state.code).catch(e=>{null!=e.body&&(n?.(e.body),e.body.message&&this.setState({errorMessage:e.body.message}))})},this.handleCancel=()=>{let{onClose:e,handleEarlyClose:t}=this.props;e(),t?.()},this.handleCodeChange=e=>{this.setState({code:e})}}}"
    }
}