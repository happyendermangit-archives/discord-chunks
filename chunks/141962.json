{
    "exports": {
        "default": {
            "isInitialized": false,
            "handleSelectedChannelUpdate": "()=>{let t=C.default.getVoiceChannelId();for(let{channelId:e,applicationId:i}of h.default.getSelfEmbeddedActivities().values())(0,b.default)(e)&&e!==t&&this.leaveActivity({channelId:e,applicationId:i});if(null!=t){let e=h.default.getEmbeddedActivitiesForChannel(t),i=I.default.getId();e.forEach(t=>{if(t.userIds.has(i)){let e=h.default.getSelfEmbeddedActivityForChannel(t.channelId);null==e&&(0,y.disconnectEmbeddedActivity)(t.channelId,t.applicationId)}})}}",
            "handleActivityLaunchFail": "t=>{let{error:e,guildId:i}=t;if(null==i)return;let n=V.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_GENERIC;switch(e.code){case R.AbortCodes.INVALID_ACTIVITY_LAUNCH_NO_ACCESS:n=V.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_ACCESS;break;case R.AbortCodes.INVALID_ACTIVITY_LAUNCH_PREMIUM_TIER:n=V.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_PREMIUM;break;case R.AbortCodes.INVALID_ACTIVITY_LAUNCH_CONCURRENT_ACTIVITIES:n=V.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_CONCURRENT;break;case R.AbortCodes.INVALID_PERMISSIONS:n=V.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS;break;case R.AbortCodes.INVALID_ACTIVITY_LAUNCH_AFK_CHANNEL:n=V.default.Messages.EMBEDDED_ACTIVITIES_INVALID_CHANNEL;break;case R.AbortCodes.INVALID_ACTIVITY_LAUNCH_AGE_GATED:n=V.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_AGE_GATE;break;case R.AbortCodes.INVALID_ACTIVITY_LAUNCH_DEV_PREVIEW_GUILD_SIZE:n=V.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAIL_GUILD_SIZE}this.showLaunchErrorModal(n)}",
            "superHandleRPCDisconnect": "t=>{let{reason:e,application:i}=t,n=i.id;if(null!=n&&null!=e){for(let{applicationId:t,channelId:e}of h.default.getSelfEmbeddedActivities().values())t===n&&this.leaveActivity({channelId:e,applicationId:n});e.code!==R.RPCCloseCodes.CLOSE_NORMAL&&this.showErrorModal(e,n)}}",
            "handleDeferredOpen": "async t=>{var e,i,n;let l;let{channelId:a,applicationId:u,analyticsLocations:r}=t,d=A.default.getChannel(a);if(void 0===d||E.GUILD_VOCAL_CHANNEL_TYPES.has(null==d?void 0:d.type)&&C.default.getVoiceChannelId()!==a)return;let s=h.default.getSelfEmbeddedActivityForChannel(a);if((null==s?void 0:s.applicationId)===u)return;let f=await o.default.fetchApplication(u),_=(0,g.getIsActivitiesEnabledForCurrentPlatform)(d);if(!_){this.showLaunchErrorModal(V.default.Messages.EMBEDDED_ACTIVITIES_NOT_AVAILABLE_ON_OS);return}if(!(0,M.default)(null==f?void 0:null===(e=f.embedded_activity_config)||void 0===e?void 0:e.supported_platforms)){this.showLaunchErrorModal(V.default.Messages.EMBEDDED_ACTIVITIES_APPLICATION_UNSUPPORTED_OS);return}let I=null==s?void 0:s.applicationId;null!=I&&(await o.default.fetchApplication(I),l=c.default.getApplication(I));let T=null!==(i=null==d?void 0:d.getGuildId())&&void 0!==i?i:void 0,{activityConfigs:v,applications:S}=await (0,y.fetchShelf)({guildId:T}),N=(0,D.default)({applicationId:u,activityConfigs:v,applications:S});if(null==N){let t=await (0,y.fetchShelf)({guildId:T,force:!0});N=(0,D.default)({applicationId:u,activityConfigs:t.activityConfigs,applications:t.applications})}let p=h.default.getEmbeddedActivitiesForChannel(a).find(t=>t.applicationId===u),m=null!==(n=null==p?void 0:p.userIds.size)&&void 0!==n?n:0;m>0?(0,O.maybeJoinEmbeddedActivity)({channelId:a,applicationId:u,instanceId:null==p?void 0:p.instanceId,inputApplication:null,analyticsLocations:r,embeddedActivitiesManager:this}):await (0,L.default)({activityItem:N,currentEmbeddedApplication:l,channelId:a,guildId:T,embeddedActivitiesManager:this,analyticsLocations:r})}",
            "handleRPCDisconnect": "t=>{let{reason:e,application:i}=t;this.superHandleRPCDisconnect({reason:e,application:i})}",
            "showErrorModal": "showErrorModal(t){let{code:e,message:i}=t;(0,l.openModalLazy)(async()=>t=>(0,n.jsx)(u.default,{title:s.default.Messages.EMBEDDED_ACTIVITIES_ERROR_TITLE.format({code:e}),body:i,...t}))}",
            "showLaunchErrorModal": "showLaunchErrorModal(t){(0,l.openModalLazy)(async()=>e=>(0,n.jsx)(u.default,{title:s.default.Messages.EMBEDDED_ACTIVITIES_LAUNCH_FAILURE,body:t,...e}))}",
            "leaveActivity": "leaveActivity(t){let{channelId:e,applicationId:i}=t;a.default.wait(()=>(0,r.stopEmbeddedActivity)({channelId:e,applicationId:i}))}"
        }
    }
}