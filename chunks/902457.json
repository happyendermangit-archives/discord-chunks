{
    "exports": {
        "AnalyticsActionHandlers": {
            "handleConnectionOpen": "function(e){let{analyticsToken:t,user:n}=e;return null!=t&&(i=t),null!=n.id&&(r=n.id),R(),!1}",
            "handleConnectionClosed": "function(){return C(),i=null,r=null,!1}",
            "handleFingerprint": "function(){return C(),!1}",
            "handleTrack": "function(e){let{event:t,properties:n,flush:i,fingerprint:o,resolve:s}=e;return(0,l.getSession)().then(e=>{let _={type:t,fingerprint:o,properties:{client_track_timestamp:Date.now(),client_heartbeat_session_id:e?.uuid,...n},resolve:s},l=function(e){if(null!=r)return r;let t=e.fingerprint||E();return null!=t?(0,a.extractId)(t):null}(_);null!=l&&(_.properties.client_uuid=T.generate(l)),d.push(_),d.length>1e4&&(d=d.slice(-1e4)),i?C():R()}),!1}"
        },
        "analyticsTrackingStoreMaker": "e=>{let{dispatcher:t,actionHandler:n,getFingerprint:E,TRACKING_URL:S,drainTimeoutOverride:A,waitFor:N}=e;u=null!=A?A:1500;function O(){return 0!==d.length&&(null!=r?null!=i:null!=E())}function R(){null==o&&O()&&(o=I(C,{timeout:u}))}function C(){if(o=null,!O())return;let e=d.slice();d=[],h(e).then(()=>{e.forEach(e=>{e.resolve?.()})},t=>{d.unshift(...e);let{message:n}=t.body||t;console.warn(\"[AnalyticsTrackingStore] Track:\",n)})}function h(e){let t=Date.now(),n=e.map(e=>({...e,properties:{...e.properties,client_send_timestamp:t}}));return _.default.post({url:S,body:{token:i,events:n},retries:3})}c.handleConnectionOpen=function(e){let{analyticsToken:t,user:n}=e;return null!=t&&(i=t),null!=n.id&&(r=n.id),R(),!1},c.handleConnectionClosed=function(){return C(),i=null,r=null,!1},c.handleFingerprint=function(){return C(),!1},c.handleTrack=function(e){let{event:t,properties:n,flush:i,fingerprint:o,resolve:s}=e;return(0,l.getSession)().then(e=>{let _={type:t,fingerprint:o,properties:{client_track_timestamp:Date.now(),client_heartbeat_session_id:e?.uuid,...n},resolve:s},l=function(e){if(null!=r)return r;let t=e.fingerprint||E();return null!=t?(0,a.extractId)(t):null}(_);null!=l&&(_.properties.client_uuid=T.generate(l)),d.push(_),d.length>1e4&&(d=d.slice(-1e4)),i?C():R()}),!1};class L extends s.default.Store{static #e=this.displayName=\"AnalyticsTrackingStore\";initialize(){null!=N&&this.waitFor(...N)}constructor(...e){super(...e),this.submitEventsImmediately=h}}return new L(t,n)}"
    }
}