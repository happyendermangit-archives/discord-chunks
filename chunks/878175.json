{
    "exports": {
        "default": {
            "isInitialized": true,
            "_tracker": {
                "_installingModules": {},
                "_downloadingModules": {},
                "_report": {
                    "num_failed": 0,
                    "num_delta_installed": 0,
                    "num_full_installed": 0,
                    "foreground_bytes_total": 0,
                    "background_bytes_total": 0,
                    "foreground_download_ms_total": 0,
                    "background_download_ms_total": 0,
                    "foreground_install_ms_total": 0,
                    "background_install_ms_total": 0
                },
                "handleDownloadingModule": "handleDownloadingModule(e){if(!o(e.name)){if(null!=this._downloadingModules[e.name]){console.warn(\"Duplicate downloading-module event for module \",e.name);return}this._downloadingModules[e.name]={startTime:BigInt(e.now),foreground:e.foreground}}}",
                "_updateReportField": "_updateReportField(e,a,t){let s=this._report[e];null!=s?this._report[e]=t(s,a):this._report[e]=a}",
                "incrementReportField": "incrementReportField(e,a){this._updateReportField(e,a,(e,a)=>e+a)}",
                "setReportFieldMinimum": "setReportFieldMinimum(e,a){this._updateReportField(e,a,Math.min)}",
                "setReportFieldMaximum": "setReportFieldMaximum(e,a){this._updateReportField(e,a,Math.max)}",
                "handleDownloadedModule": "handleDownloadedModule(e){if(o(e.name))return;let a=this._downloadingModules[e.name];if(null==a){console.warn(\"Downloaded complete without corresponding downloading event for module \",e.name);return}let t=a.foreground?\"foreground\":\"background\",s=\"\".concat(t,\"_download_ms_\").concat(e.name),d=\"\".concat(t,\"_bytes_\").concat(e.name),n=Number((BigInt(e.now)-a.startTime+BigInt(999999))/BigInt(1e6)),i=!1===e.receivedBytes?0:e.receivedBytes;a.foreground?(this._report.foreground_download_ms_total+=n,this._report.foreground_bytes_total+=i):(this._report.background_download_ms_total+=n,this._report.background_bytes_total+=i),this.incrementReportField(s,n),this.incrementReportField(d,i),delete this._downloadingModules[e.name]}",
                "handleInstallingModule": "handleInstallingModule(e){if(!o(e.name)){if(null!=this._installingModules[e.name]){console.warn(\"Duplicate installing-module event for module \",e.name);return}this._installingModules[e.name]={startTime:BigInt(e.now),foreground:e.foreground,oldVersion:e.oldVersion,newVersion:e.newVersion}}}",
                "handleInstalledModule": "handleInstalledModule(e){if(o(e.name))return;let a=this._installingModules[e.name];if(null==a)return;let t=a.foreground?\"foreground\":\"background\",s=\"\".concat(t,\"_install_ms_\").concat(e.name),d=\"min_version_\".concat(e.name),n=\"max_version_\".concat(e.name),i=Number((BigInt(e.now)-a.startTime+BigInt(999999))/BigInt(1e6));a.foreground?this._report.foreground_install_ms_total+=i:this._report.background_install_ms_total+=i,this.incrementReportField(s,i),this.setReportFieldMinimum(d,a.oldVersion),e.succeeded?(!0===e.delta?this._report.num_delta_installed++:this._report.num_full_installed++,this.setReportFieldMaximum(n,a.newVersion)):this._report.num_failed++,delete this._installingModules[e.name]}",
                "trackEvent": "trackEvent(e){switch(e.type){case\"installing-module\":this.handleInstallingModule(e);break;case\"installed-module\":this.handleInstalledModule(e);break;case\"downloading-module\":this.handleDownloadingModule(e);break;case\"downloaded-module\":this.handleDownloadedModule(e)}}",
                "getStats": "getStats(){return this._report}",
                "reset": "reset(){this._report=r()}",
                "submissionReady": "submissionReady(){return this._report.num_full_installed+this._report.num_failed+this._report.num_delta_installed+this._report.foreground_bytes_total+this._report.background_bytes_total!==0&&!(Object.keys(this._installingModules).length>0)&&!(Object.keys(this._downloadingModules).length>0)&&!0}"
            },
            "_initialize": "_initialize(){n.isPlatformEmbedded&&(i.default.on(\"UPDATE_DOWNLOADED\",()=>this.processModuleEvents()),i.default.on(\"MODULE_INSTALLED\",(e,a,t)=>this.processModuleEvents()),i.default.on(\"UPDATER_HISTORY_RESPONSE\",(e,a)=>{this._handleHistoryResponse(a)}),this.processModuleEvents())}",
            "_terminate": "_terminate(){}",
            "processModuleEvents": "processModuleEvents(){i.default.send(\"UPDATER_HISTORY_QUERY_AND_TRUNCATE\")}",
            "_handleHistoryResponse": "_handleHistoryResponse(e){null!=e&&(e.forEach(e=>{\"analytics\"===e.type?e.name===r.AnalyticEvents.UPDATER_METRICS_DOWNLOAD||e.name===r.AnalyticEvents.UPDATER_METRICS_INSTALL||e.name===r.AnalyticEvents.UPDATER_METRICS_COMBINED||e.name===r.AnalyticEvents.UPDATER_METRICS_TRANSITION_STATUS?d.default.track(e.name,e.data):console.warn(\"Unknown updater analytic event \".concat(e.name)):this._tracker.trackEvent(e)}),this._tracker.submissionReady()&&(d.default.track(r.AnalyticEvents.APP_MODULES_UPDATED,this._tracker.getStats()),this._tracker.reset()))}"
        }
    }
}