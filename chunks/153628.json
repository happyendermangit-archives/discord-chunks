{
    "exports": {
        "default": "function u(e){let{navId:t,itemCount:n,focusedIndex:u=0,onSelect:I,setFocus:T,getNewFocusIndex:c,maintainFocusPosition:d=!0,includeSetSizes:S=!0,focusOnMount:A=!0,enabled:N=!0,onDispatch:O}=e,R=i.useCallback((e,t)=>{let n=(0,r.default)(e,t);return null!=O&&O(e,n,t),n},[O]),[C,h]=i.useReducer(R,{focusedIndex:u,itemCount:n}),{itemCount:L,focusedIndex:D}=C,[m]=i.useState(()=>(0,a.throttle)(h,16));return i.useEffect(()=>{h({type:r.ListActionType.UPDATE_ITEM_COUNT,itemCount:n})},[n]),function(e){let{navId:t,itemCount:n,focusedIndex:u,onSelect:I,setFocus:T=l,getNewFocusIndex:c,dispatch:d,maintainFocusPosition:S,includeSetSizes:A,focusOnMount:N,enabled:O,makeId:R=a.makeId,getIndexFromId:C}=e,h=i.useRef(n),L=i.useRef(C);L.current=C,h.current=n;let D=i.useRef();i.useEffect(()=>{D.current=O},[O]);let[m,p]=i.useState(!1),[f]=i.useState(()=>new a.HandlerMemoizer(e=>()=>{let t=null!=L.current&&\"string\"==typeof e?L.current(e):e;\"number\"==typeof t&&!(t<0)&&d({type:r.ListActionType.SET_FOCUSED_INDEX,index:t})}));i.useEffect(()=>()=>f.clean(),[f]);let P=i.useCallback((e,t)=>{D.current&&T(e,t)},[T]),[M,U]=i.useState(!0);i.useEffect(()=>{if(M&&!N){U(!1);return}P(R(t,u),u)},[u]);let g=i.useCallback(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=null!=c?c(u):u;n!==u&&d({type:r.ListActionType.SET_FOCUSED_INDEX,index:n}),e&&P(R(t,n),n)},[R,u,c,d,t,P]),G=i.useCallback(e=>{if(!D.current)return;if(s.includes(e.key)&&!(e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)&&e.currentTarget===e.target){e.preventDefault(),e.stopPropagation(),g();return}let n=function(e){switch(e.key){case o.Keys.ENTER:case o.Keys.SPACE:return o.ActionType.SELECT_FOCUSED_ITEM;case o.Keys.UP:return o.ActionType.NAVIGATE_UP;case o.Keys.DOWN:return o.ActionType.NAVIGATE_DOWN;case o.Keys.HOME:return o.ActionType.NAVIGATE_START;case o.Keys.END:return o.ActionType.NAVIGATE_END}}(e);switch(n){case o.ActionType.NAVIGATE_UP:case o.ActionType.NAVIGATE_DOWN:case o.ActionType.NAVIGATE_START:case o.ActionType.NAVIGATE_END:e.preventDefault(),e.stopPropagation(),d({type:n});return;case o.ActionType.SELECT_FOCUSED_ITEM:var i;let r=E(_(R,t,u));if(i=r,i?.ownerDocument.activeElement!==i||e.repeat)return;if(e.preventDefault(),e.stopPropagation(),d({type:n}),null!=I){I(u);return}r?.click()}},[R,t,d,u,g,I]),y=i.useCallback(()=>{m||p(!0)},[m]),v=i.useCallback(()=>{!m&&(S?P(R(t,u),u):g(!0))},[R,t,P,S,m,u,g]),b=i.useCallback(e=>{!e.currentTarget.contains(e.relatedTarget)&&requestAnimationFrame(()=>{if(null==E(_(R,t,u))){P(t);return}p(!1)})},[R,t,u,P]),B=i.useRef(null);i.useLayoutEffect(()=>{let e=B.current;if(null!=e)return e.addEventListener(\"focusin\",y),e.addEventListener(\"focus\",v),e.addEventListener(\"focusout\",b),()=>{e.removeEventListener(\"focusin\",y),e.removeEventListener(\"focus\",v),e.removeEventListener(\"focusout\",b)}},[v,y,b]);let w=i.useCallback(()=>({role:\"list\",tabIndex:m&&S?-1:0,id:t,onKeyDown:G,ref:B}),[t,m,G,S]),H=i.useCallback(e=>{let{index:n}=e;return{role:\"listitem\",\"aria-setsize\":A?h.current:void 0,\"aria-posinset\":A?n+1:void 0,id:R(t,n),tabIndex:S&&n===u?0:-1,onFocus:f.get(null!=L.current?R(t,n):n)}},[R,t,u,S,f,A]);return i.useMemo(()=>({dispatch:d,getContainerProps:w,getItemProps:H}),[d,w,H])}({navId:t,itemCount:L,focusedIndex:D,dispatch:m,onSelect:I,setFocus:T,getNewFocusIndex:c,maintainFocusPosition:d,includeSetSizes:S,focusOnMount:A,enabled:N})}"
    }
}