{
    "exports": {
        "applyChatRestrictions": "function h(e){let{openWarningPopout:t,type:n,content:h,stickers:E,uploads:g,channel:S,restrictMentions:C=!0,respectCooldown:T=!0}=e,v=f.default.canUseIncreasedMessageLength(u.default.getCurrentUser());return new Promise(e=>(function(e){var t,n,u;let{openWarningPopout:f,type:h,content:E,stickers:g,uploads:S,channel:C,restrictMentions:T,respectCooldown:v,userCanUsePremiumMessageLength:I,resolve:_}=e;if(0===E.length&&!(null===(t=h.submit)||void 0===t?void 0:t.allowEmptyMessage)&&(null==g||0===g.length)&&(null==S||0===S.length)){_({valid:!1,failureReason:m.MessageRestrictionTypes.EMPTY_MESSAGE});return}let N=I?m.MAX_MESSAGE_LENGTH_PREMIUM:m.MAX_MESSAGE_LENGTH;if(E.length>N){if(I||null==C){;n=E.length,u=N,(0,i.openModal)(e=>(0,l.jsx)(s.default,{title:p.default.Messages.MESSAGE_TOO_LONG_HEADER,body:p.default.Messages.MESSAGE_TOO_LONG_BODY_TEXT.format({currentLength:n,maxLength:u}),confirmText:p.default.Messages.OKAY,...e})),d.default.track(m.AnalyticEvents.OPEN_MODAL,{type:\"Message Too Long Alert\",message_content_length:n})}else a.default.dispatch({type:\"MESSAGE_LENGTH_UPSELL\",channel:C,content:E});_({valid:!1,failureReason:m.MessageRestrictionTypes.MESSAGE_TOO_LONG});return}if(null!=C){if(null!=C.getGuildId()&&v&&o.default.getSlowmodeCooldownGuess(C.id)>0){_({valid:!1,failureReason:m.MessageRestrictionTypes.SLOWMODE_COOLDOWN});return}if(null!=f)for(let{check:e,analyticsType:t,animation:n}of c.RESTRICTIONS){let l=e(E,C,T);if(!1!==l){f({analyticsType:t,channel:C,onCancel:()=>_({valid:!1,failureReason:m.MessageRestrictionTypes.SHOUTING_CANCELLED}),onConfirm:()=>_({valid:!0}),popoutText:l,animation:n});return}}}if(r.default.isFull()){(0,i.openModal)(e=>(0,l.jsx)(s.default,{title:p.default.Messages.MESSAGE_RATE_LIMITED_HEADER,body:p.default.Messages.MESSAGE_RATE_LIMITED_BODY,confirmText:p.default.Messages.MESSAGE_RATE_LIMITED_BUTTON,...e}),{onCloseRequest:m.NOOP}),_({valid:!1,failureReason:m.MessageRestrictionTypes.RATE_LIMITED});return}_({valid:!0})})({openWarningPopout:t,type:n,content:h,stickers:E,uploads:g,channel:S,restrictMentions:C,respectCooldown:T,userCanUsePremiumMessageLength:v,resolve:e}))}"
    }
}